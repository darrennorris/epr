<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 5 Garimpo do Lourenço | Ecologia de Paisagens com R</title>
  <meta name="description" content="This is a minimal example." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 5 Garimpo do Lourenço | Ecologia de Paisagens com R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://darrennorris.github.io/epr/pref%C3%A1cio-%C3%A0-primeira-edi%C3%A7%C3%A3o.html//cover.jpg" />
  <meta property="og:description" content="This is a minimal example." />
  <meta name="github-repo" content="darrennorris/epr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 5 Garimpo do Lourenço | Ecologia de Paisagens com R" />
  
  <meta name="twitter:description" content="This is a minimal example." />
  <meta name="twitter:image" content="https://darrennorris.github.io/epr/pref%C3%A1cio-%C3%A0-primeira-edi%C3%A7%C3%A3o.html//cover.jpg" />

<meta name="author" content="Darren Norris: darren.norris@unifap.br" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cap04.html"/>
<link rel="next" href="cap20.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.1/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/as.factor(r22_modal) - 1_586ceb-1/data_stars_asfactorr22_modal1f40731.txt"></script>
<script src="libs/joda-0.0.1/joda.js"></script>
<script src="libs/joda-0.0.1/addImageQuery-bindings.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">epr</a></li>

<li class="divider"></li>
<li class="part"><span><b>I Apresentação</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bem-vindos</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimentos"><i class="fa fa-check"></i>Agradecimentos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="prefácio.html"><a href="prefácio.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html"><i class="fa fa-check"></i>Introdução</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-você-vai-aprender"><i class="fa fa-check"></i>O que você vai aprender</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#como-este-livro-está-organizado"><i class="fa fa-check"></i>Como este livro está organizado</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-que-você-não-vai-aprender"><i class="fa fa-check"></i>O que você não vai aprender</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#o-universo-arrumado---tidyverse"><i class="fa fa-check"></i>O universo arrumado - tidyverse</a></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#outros-pacotes"><i class="fa fa-check"></i>Outros pacotes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#codigo-no-livro"><i class="fa fa-check"></i>Codigo no livro</a>
<ul>
<li class="chapter" data-level="" data-path="introdução.html"><a href="introdução.html#organização-do-codigo-no-livro"><i class="fa fa-check"></i>Organização do codigo no livro</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Escala e padrões</b></span></li>
<li class="chapter" data-level="1" data-path="cap01.html"><a href="cap01.html"><i class="fa fa-check"></i><b>1</b> Escala</a>
<ul>
<li class="chapter" data-level="1.1" data-path="cap01.html"><a href="cap01.html#apresentação"><i class="fa fa-check"></i><b>1.1</b> Apresentação</a></li>
<li class="chapter" data-level="1.2" data-path="cap01.html"><a href="cap01.html#escala-breve-definação"><i class="fa fa-check"></i><b>1.2</b> Escala: breve definação</a></li>
<li class="chapter" data-level="1.3" data-path="cap01.html"><a href="cap01.html#pacotes-e-dados"><i class="fa fa-check"></i><b>1.3</b> Pacotes e dados</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="cap01.html"><a href="cap01.html#pacotes"><i class="fa fa-check"></i><b>1.3.1</b> Pacotes</a></li>
<li class="chapter" data-level="1.3.2" data-path="cap01.html"><a href="cap01.html#dados"><i class="fa fa-check"></i><b>1.3.2</b> Dados</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="cap01.html"><a href="cap01.html#alterando-a-resolução"><i class="fa fa-check"></i><b>1.4</b> Alterando a resolução</a></li>
<li class="chapter" data-level="1.5" data-path="cap01.html"><a href="cap01.html#escala-espacial-e-desenho-amostral"><i class="fa fa-check"></i><b>1.5</b> Escala espacial e desenho amostral</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="cap01.html"><a href="cap01.html#obter-e-carregar-dados-vectores"><i class="fa fa-check"></i><b>1.5.1</b> Obter e carregar dados (vectores)</a></li>
<li class="chapter" data-level="1.5.2" data-path="cap01.html"><a href="cap01.html#visualizar-os-arquivos-camadas-vector"><i class="fa fa-check"></i><b>1.5.2</b> Visualizar os arquivos (camadas vector)</a></li>
<li class="chapter" data-level="1.5.3" data-path="cap01.html"><a href="cap01.html#obter-e-carregar-dados-raster"><i class="fa fa-check"></i><b>1.5.3</b> Obter e carregar dados (raster)</a></li>
<li class="chapter" data-level="1.5.4" data-path="cap01.html"><a href="cap01.html#visualizar-os-arquivos-camadas-raster-e-vector"><i class="fa fa-check"></i><b>1.5.4</b> Visualizar os arquivos (camadas raster e vector)</a></li>
<li class="chapter" data-level="1.5.5" data-path="cap01.html"><a href="cap01.html#reclassificação"><i class="fa fa-check"></i><b>1.5.5</b> Reclassificação</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="cap01.html"><a href="cap01.html#comparação-multiescala"><i class="fa fa-check"></i><b>1.6</b> Comparação multiescala</a></li>
<li class="chapter" data-level="1.7" data-path="cap01.html"><a href="cap01.html#próximos-passos-repetindo-para-muitas-amostras."><i class="fa fa-check"></i><b>1.7</b> Próximos passos: repetindo para muitas amostras.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cap02.html"><a href="cap02.html"><i class="fa fa-check"></i><b>2</b> Métricas da paisagem</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cap02.html"><a href="cap02.html#apresentação-1"><i class="fa fa-check"></i><b>2.1</b> Apresentação</a></li>
<li class="chapter" data-level="2.2" data-path="cap02.html"><a href="cap02.html#métricas-da-paisagem-e-pacote-landscapemetrics"><i class="fa fa-check"></i><b>2.2</b> Métricas da paisagem e pacote “landscapemetrics”</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="cap02.html"><a href="cap02.html#pacotes-1"><i class="fa fa-check"></i><b>2.2.1</b> Pacotes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="cap02.html"><a href="cap02.html#dados-1"><i class="fa fa-check"></i><b>2.3</b> Dados</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="cap02.html"><a href="cap02.html#exibir-dados-raster-e-sobreposição-com-locais-de-amostragem"><i class="fa fa-check"></i><b>2.3.1</b> Exibir dados raster e sobreposição com locais de amostragem</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="cap02.html"><a href="cap02.html#calculo-de-métricas"><i class="fa fa-check"></i><b>2.4</b> Calculo de métricas</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="cap02.html"><a href="cap02.html#uso-de-pontos-de-amostragem-na-ecologia-da-paisagem"><i class="fa fa-check"></i><b>2.4.1</b> Uso de pontos de amostragem na ecologia da paisagem</a></li>
<li class="chapter" data-level="2.4.2" data-path="cap02.html"><a href="cap02.html#ponto-único-raio-único-métrica-única"><i class="fa fa-check"></i><b>2.4.2</b> Ponto único, raio único, métrica única</a></li>
<li class="chapter" data-level="2.4.3" data-path="cap02.html"><a href="cap02.html#ponto-único-distâncias-variados-métrica-única"><i class="fa fa-check"></i><b>2.4.3</b> Ponto único, distâncias variados, métrica única</a></li>
<li class="chapter" data-level="2.4.4" data-path="cap02.html"><a href="cap02.html#ponto-único-distâncias-variados-métricas-variadas"><i class="fa fa-check"></i><b>2.4.4</b> Ponto único, distâncias variados, métricas variadas</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="cap02.html"><a href="cap02.html#links-úteis"><i class="fa fa-check"></i><b>2.5</b> Links úteis</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cap03.html"><a href="cap03.html"><i class="fa fa-check"></i><b>3</b> Mudanças na cobertura vegetal</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cap03.html"><a href="cap03.html#apresentação-2"><i class="fa fa-check"></i><b>3.1</b> Apresentação</a></li>
<li class="chapter" data-level="3.2" data-path="cap03.html"><a href="cap03.html#área-de-estudo"><i class="fa fa-check"></i><b>3.2</b> Área de estudo</a></li>
<li class="chapter" data-level="3.3" data-path="cap03.html"><a href="cap03.html#pacotes-e-fontes-de-dados"><i class="fa fa-check"></i><b>3.3</b> Pacotes e Fontes de dados</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="cap03.html"><a href="cap03.html#pacotes-2"><i class="fa fa-check"></i><b>3.3.1</b> Pacotes</a></li>
<li class="chapter" data-level="3.3.2" data-path="cap03.html"><a href="cap03.html#fontes-de-dados"><i class="fa fa-check"></i><b>3.3.2</b> Fontes de dados</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="cap03.html"><a href="cap03.html#mudanças-na-paisagem-indo-além-de-desmatamento"><i class="fa fa-check"></i><b>3.4</b> Mudanças na paisagem: indo além de desmatamento</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="cap03.html"><a href="cap03.html#definação"><i class="fa fa-check"></i><b>3.4.1</b> Definação</a></li>
<li class="chapter" data-level="3.4.2" data-path="cap03.html"><a href="cap03.html#suavizar-a-variação-nas-estimativas-anuais"><i class="fa fa-check"></i><b>3.4.2</b> Suavizar a variação nas estimativas anuais</a></li>
<li class="chapter" data-level="3.4.3" data-path="cap03.html"><a href="cap03.html#análise-exploratória"><i class="fa fa-check"></i><b>3.4.3</b> Análise exploratória</a></li>
<li class="chapter" data-level="3.4.4" data-path="cap03.html"><a href="cap03.html#reclassificação-1"><i class="fa fa-check"></i><b>3.4.4</b> Reclassificação</a></li>
<li class="chapter" data-level="3.4.5" data-path="cap03.html"><a href="cap03.html#mudanças"><i class="fa fa-check"></i><b>3.4.5</b> Mudanças</a></li>
<li class="chapter" data-level="3.4.6" data-path="cap03.html"><a href="cap03.html#mapeamento-de-mudanças"><i class="fa fa-check"></i><b>3.4.6</b> Mapeamento de mudanças</a></li>
<li class="chapter" data-level="3.4.7" data-path="cap03.html"><a href="cap03.html#conclusão"><i class="fa fa-check"></i><b>3.4.7</b> Conclusão</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="cap03.html"><a href="cap03.html#metodologia-espacialmente-explícita-para-quantificar-os-impactos-a-jusante-da-hidrelétrica-ferreira-gomes-na-cobertura-vegetal-nativa"><i class="fa fa-check"></i><b>3.5</b> Metodologia Espacialmente Explícita para Quantificar os Impactos A Jusante da Hidrelétrica Ferreira Gomes na Cobertura Vegetal Nativa</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="cap03.html"><a href="cap03.html#dados-2"><i class="fa fa-check"></i><b>3.5.1</b> Dados:</a></li>
<li class="chapter" data-level="3.5.2" data-path="cap03.html"><a href="cap03.html#metodologia"><i class="fa fa-check"></i><b>3.5.2</b> Metodologia:</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="cap03.html"><a href="cap03.html#links-uteis"><i class="fa fa-check"></i><b>3.6</b> Links uteis</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="cap04.html"><a href="cap04.html"><i class="fa fa-check"></i><b>4</b> Respostas multiescala de espécies</a>
<ul>
<li class="chapter" data-level="4.1" data-path="cap04.html"><a href="cap04.html#apresentação-3"><i class="fa fa-check"></i><b>4.1</b> Apresentação</a></li>
<li class="chapter" data-level="4.2" data-path="cap04.html"><a href="cap04.html#escala-de-efeito---definição"><i class="fa fa-check"></i><b>4.2</b> Escala de efeito - definição</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="cap04.html"><a href="cap04.html#definições"><i class="fa fa-check"></i><b>4.2.1</b> Definições</a></li>
<li class="chapter" data-level="4.2.2" data-path="cap04.html"><a href="cap04.html#aplicação"><i class="fa fa-check"></i><b>4.2.2</b> Aplicação</a></li>
<li class="chapter" data-level="4.2.3" data-path="cap04.html"><a href="cap04.html#como-identificar-a-escala-de-efeito"><i class="fa fa-check"></i><b>4.2.3</b> Como identificar a escala de efeito?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="cap04.html"><a href="cap04.html#pacotes-e-dados-1"><i class="fa fa-check"></i><b>4.3</b> Pacotes e dados</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="cap04.html"><a href="cap04.html#pacotes-3"><i class="fa fa-check"></i><b>4.3.1</b> Pacotes</a></li>
<li class="chapter" data-level="4.3.2" data-path="cap04.html"><a href="cap04.html#dados-necessarios"><i class="fa fa-check"></i><b>4.3.2</b> Dados necessarios</a></li>
<li class="chapter" data-level="4.3.3" data-path="cap04.html"><a href="cap04.html#o-paisagem-do-estudo"><i class="fa fa-check"></i><b>4.3.3</b> O paisagem do estudo</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="cap04.html"><a href="cap04.html#buffers"><i class="fa fa-check"></i><b>4.4</b> Buffers</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="cap04.html"><a href="cap04.html#floresta"><i class="fa fa-check"></i><b>4.4.1</b> Floresta</a></li>
<li class="chapter" data-level="4.4.2" data-path="cap04.html"><a href="cap04.html#floresta-e-a-ocorrência-de-espécies"><i class="fa fa-check"></i><b>4.4.2</b> Floresta e a ocorrência de espécies</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="cap04.html"><a href="cap04.html#kernels"><i class="fa fa-check"></i><b>4.5</b> Kernels</a></li>
<li class="chapter" data-level="4.6" data-path="cap04.html"><a href="cap04.html#links-úteis-1"><i class="fa fa-check"></i><b>4.6</b> Links úteis</a></li>
</ul></li>
<li class="part"><span><b>III Exemplos de caso: padrões de paisagem</b></span></li>
<li class="chapter" data-level="5" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html"><i class="fa fa-check"></i><b>5</b> Garimpo do Lourenço</a>
<ul>
<li class="chapter" data-level="5.1" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#apresentação-4"><i class="fa fa-check"></i><b>5.1</b> Apresentação</a></li>
<li class="chapter" data-level="5.2" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#pacotes-necessarios"><i class="fa fa-check"></i><b>5.2</b> Pacotes necessarios:</a></li>
<li class="chapter" data-level="5.3" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#área-de-estudo-1"><i class="fa fa-check"></i><b>5.3</b> Área de estudo</a></li>
<li class="chapter" data-level="5.4" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#dados-3"><i class="fa fa-check"></i><b>5.4</b> Dados</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#ponto-de-referência-epsg-4326"><i class="fa fa-check"></i><b>5.4.1</b> Ponto de referência (EPSG: 4326)</a></li>
<li class="chapter" data-level="5.4.2" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#ponto-de-referência-epsg-31976"><i class="fa fa-check"></i><b>5.4.2</b> Ponto de referência (EPSG: 31976)</a></li>
<li class="chapter" data-level="5.4.3" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#verificar-com-mapa-de-base-openstreetmap."><i class="fa fa-check"></i><b>5.4.3</b> Verificar com mapa de base (OpenStreetMap).</a></li>
<li class="chapter" data-level="5.4.4" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#dados-mapbiomas-cobertura-da-terra"><i class="fa fa-check"></i><b>5.4.4</b> Dados: MapBiomas cobertura da terra</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#calculo-de-métricas-1"><i class="fa fa-check"></i><b>5.5</b> Calculo de métricas</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#métricas-para-a-paisagem"><i class="fa fa-check"></i><b>5.5.1</b> Métricas para a paisagem</a></li>
<li class="chapter" data-level="5.5.2" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#métricas-para-as-classes"><i class="fa fa-check"></i><b>5.5.2</b> Métricas para as classes</a></li>
<li class="chapter" data-level="5.5.3" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#métricas-para-as-manchas"><i class="fa fa-check"></i><b>5.5.3</b> Métricas para as manchas</a></li>
<li class="chapter" data-level="5.5.4" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#quais-métricas-devo-escolher"><i class="fa fa-check"></i><b>5.5.4</b> Quais métricas devo escolher?</a></li>
<li class="chapter" data-level="5.5.5" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#métricas-por-classe-de-mineração"><i class="fa fa-check"></i><b>5.5.5</b> Métricas por classe de mineração</a></li>
<li class="chapter" data-level="5.5.6" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#exportar-as-métricas"><i class="fa fa-check"></i><b>5.5.6</b> Exportar as métricas</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#apresentando-os-resultados"><i class="fa fa-check"></i><b>5.6</b> Apresentando os resultados</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#preparando-os-resultados"><i class="fa fa-check"></i><b>5.6.1</b> Preparando os resultados</a></li>
<li class="chapter" data-level="5.6.2" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#uma-tabela-versatil"><i class="fa fa-check"></i><b>5.6.2</b> Uma tabela versatil</a></li>
<li class="chapter" data-level="5.6.3" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#reorganização"><i class="fa fa-check"></i><b>5.6.3</b> Reorganização</a></li>
<li class="chapter" data-level="5.6.4" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#uma-figura-elegante"><i class="fa fa-check"></i><b>5.6.4</b> Uma figura elegante</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#comparação-entre-anos"><i class="fa fa-check"></i><b>5.7</b> Comparação entre anos</a></li>
<li class="chapter" data-level="5.8" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#comparação-entre-anos-e-paisagens"><i class="fa fa-check"></i><b>5.8</b> Comparação entre anos e paisagens</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#dados-anos"><i class="fa fa-check"></i><b>5.8.1</b> Dados: anos</a></li>
<li class="chapter" data-level="5.8.2" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#mapa."><i class="fa fa-check"></i><b>5.8.2</b> Mapa.</a></li>
<li class="chapter" data-level="5.8.3" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#métricas"><i class="fa fa-check"></i><b>5.8.3</b> Métricas</a></li>
<li class="chapter" data-level="5.8.4" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#comparar-classes"><i class="fa fa-check"></i><b>5.8.4</b> Comparar classes</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="garimpo-do-lourenço.html"><a href="garimpo-do-lourenço.html#conclusões-e-próximos-passos"><i class="fa fa-check"></i><b>5.9</b> Conclusões e próximos passos</a></li>
</ul></li>
<li class="part"><span><b>IV R e RStudio: Codigo com certeza</b></span></li>
<li class="chapter" data-level="6" data-path="cap20.html"><a href="cap20.html"><i class="fa fa-check"></i><b>6</b> Pré-requisitos</a>
<ul>
<li class="chapter" data-level="6.1" data-path="cap20.html"><a href="cap20.html#introdução-1"><i class="fa fa-check"></i><b>6.1</b> Introdução</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="cap20.html"><a href="cap20.html#versão-do-r"><i class="fa fa-check"></i><b>6.1.1</b> Versão do R</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="cap20.html"><a href="cap20.html#instalação-do-r"><i class="fa fa-check"></i><b>6.2</b> Instalação do R</a></li>
<li class="chapter" data-level="6.3" data-path="cap20.html"><a href="cap20.html#instalação-do-rtools"><i class="fa fa-check"></i><b>6.3</b> Instalação do Rtools</a></li>
<li class="chapter" data-level="6.4" data-path="cap20.html"><a href="cap20.html#instalação-do-rstudio"><i class="fa fa-check"></i><b>6.4</b> Instalação do RStudio</a></li>
<li class="chapter" data-level="6.5" data-path="cap20.html"><a href="cap20.html#pacotes-4"><i class="fa fa-check"></i><b>6.5</b> Pacotes</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="cap20.html"><a href="cap20.html#pacotes-do-github"><i class="fa fa-check"></i><b>6.5.1</b> Pacotes do GitHUb</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="cap20.html"><a href="cap20.html#dados-4"><i class="fa fa-check"></i><b>6.6</b> Dados</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="cap21.html"><a href="cap21.html"><i class="fa fa-check"></i><b>7</b> Introdução ao R</a>
<ul>
<li class="chapter" data-level="" data-path="cap21.html"><a href="cap21.html#pré-requisitos-do-capítulo"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="7.1" data-path="cap21.html"><a href="cap21.html#contextualização"><i class="fa fa-check"></i><b>7.1</b> Contextualização</a></li>
<li class="chapter" data-level="7.2" data-path="cap21.html"><a href="cap21.html#r-e-rstudio"><i class="fa fa-check"></i><b>7.2</b> R e RStudio</a></li>
<li class="chapter" data-level="7.3" data-path="cap21.html"><a href="cap21.html#funcionamento-da-linguagem-r"><i class="fa fa-check"></i><b>7.3</b> Funcionamento da linguagem R</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="cap21.html"><a href="cap21.html#console"><i class="fa fa-check"></i><b>7.3.1</b> Console</a></li>
<li class="chapter" data-level="7.3.2" data-path="cap21.html"><a href="cap21.html#scripts"><i class="fa fa-check"></i><b>7.3.2</b> Scripts</a></li>
<li class="chapter" data-level="7.3.3" data-path="cap21.html"><a href="cap21.html#operadores"><i class="fa fa-check"></i><b>7.3.3</b> Operadores</a></li>
<li class="chapter" data-level="7.3.4" data-path="cap21.html"><a href="cap21.html#objetos"><i class="fa fa-check"></i><b>7.3.4</b> Objetos</a></li>
<li class="chapter" data-level="7.3.5" data-path="cap21.html"><a href="cap21.html#funções"><i class="fa fa-check"></i><b>7.3.5</b> Funções</a></li>
<li class="chapter" data-level="7.3.6" data-path="cap21.html"><a href="cap21.html#pacotes-5"><i class="fa fa-check"></i><b>7.3.6</b> Pacotes</a></li>
<li class="chapter" data-level="7.3.7" data-path="cap21.html"><a href="cap21.html#ajuda-help"><i class="fa fa-check"></i><b>7.3.7</b> Ajuda (<em>Help</em>)</a></li>
<li class="chapter" data-level="7.3.8" data-path="cap21.html"><a href="cap21.html#ambiente-environment"><i class="fa fa-check"></i><b>7.3.8</b> Ambiente (<em>Environment</em>)</a></li>
<li class="chapter" data-level="7.3.9" data-path="cap21.html"><a href="cap21.html#citações"><i class="fa fa-check"></i><b>7.3.9</b> Citações</a></li>
<li class="chapter" data-level="7.3.10" data-path="cap21.html"><a href="cap21.html#principais-erros-de-iniciantes"><i class="fa fa-check"></i><b>7.3.10</b> Principais erros de iniciantes</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="cap21.html"><a href="cap21.html#estrutura-e-manipulação-de-objetos"><i class="fa fa-check"></i><b>7.4</b> Estrutura e manipulação de objetos</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="cap21.html"><a href="cap21.html#atributo-dos-objetos"><i class="fa fa-check"></i><b>7.4.1</b> Atributo dos objetos</a></li>
<li class="chapter" data-level="7.4.2" data-path="cap21.html"><a href="cap21.html#manipulação-de-objetos-unidimensionais"><i class="fa fa-check"></i><b>7.4.2</b> Manipulação de objetos unidimensionais</a></li>
<li class="chapter" data-level="7.4.3" data-path="cap21.html"><a href="cap21.html#manipulação-de-objetos-multidimensionais"><i class="fa fa-check"></i><b>7.4.3</b> Manipulação de objetos multidimensionais</a></li>
<li class="chapter" data-level="7.4.4" data-path="cap21.html"><a href="cap21.html#valores-faltantes-e-especiais"><i class="fa fa-check"></i><b>7.4.4</b> Valores faltantes e especiais</a></li>
<li class="chapter" data-level="7.4.5" data-path="cap21.html"><a href="cap21.html#diretório-de-trabalho"><i class="fa fa-check"></i><b>7.4.5</b> Diretório de trabalho</a></li>
<li class="chapter" data-level="7.4.6" data-path="cap21.html"><a href="cap21.html#importar-dados"><i class="fa fa-check"></i><b>7.4.6</b> Importar dados</a></li>
<li class="chapter" data-level="7.4.7" data-path="cap21.html"><a href="cap21.html#conferência-dos-dados-importados"><i class="fa fa-check"></i><b>7.4.7</b> Conferência dos dados importados</a></li>
<li class="chapter" data-level="7.4.8" data-path="cap21.html"><a href="cap21.html#exportar-dados"><i class="fa fa-check"></i><b>7.4.8</b> Exportar dados</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="cap21.html"><a href="cap21.html#para-se-aprofundar"><i class="fa fa-check"></i><b>7.5</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="cap21.html"><a href="cap21.html#livros"><i class="fa fa-check"></i><b>7.5.1</b> Livros</a></li>
<li class="chapter" data-level="7.5.2" data-path="cap21.html"><a href="cap21.html#links"><i class="fa fa-check"></i><b>7.5.2</b> Links</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="cap21.html"><a href="cap21.html#exercícios"><i class="fa fa-check"></i><b>7.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="cap22.html"><a href="cap22.html"><i class="fa fa-check"></i><b>8</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="cap22.html"><a href="cap22.html#pré-requisitos-do-capítulo-1"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="8.1" data-path="cap22.html"><a href="cap22.html#contextualização-1"><i class="fa fa-check"></i><b>8.1</b> Contextualização</a></li>
<li class="chapter" data-level="8.2" data-path="cap22.html"><a href="cap22.html#tidyverse"><i class="fa fa-check"></i><b>8.2</b> <em>tidyverse</em></a></li>
<li class="chapter" data-level="8.3" data-path="cap22.html"><a href="cap22.html#readr-readxl-e-writexl"><i class="fa fa-check"></i><b>8.3</b> readr, readxl e writexl</a></li>
<li class="chapter" data-level="8.4" data-path="cap22.html"><a href="cap22.html#tibble"><i class="fa fa-check"></i><b>8.4</b> tibble</a></li>
<li class="chapter" data-level="8.5" data-path="cap22.html"><a href="cap22.html#pipe-base-e-magrittr"><i class="fa fa-check"></i><b>8.5</b> pipe: base (|&gt;) e magrittr (%&gt;%)</a></li>
<li class="chapter" data-level="8.6" data-path="cap22.html"><a href="cap22.html#tidyr"><i class="fa fa-check"></i><b>8.6</b> tidyr</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="cap22.html"><a href="cap22.html#palmerpenguins"><i class="fa fa-check"></i><b>8.6.1</b> palmerpenguins</a></li>
<li class="chapter" data-level="8.6.2" data-path="cap22.html"><a href="cap22.html#glimpse"><i class="fa fa-check"></i><b>8.6.2</b> glimpse()</a></li>
<li class="chapter" data-level="8.6.3" data-path="cap22.html"><a href="cap22.html#unite"><i class="fa fa-check"></i><b>8.6.3</b> unite()</a></li>
<li class="chapter" data-level="8.6.4" data-path="cap22.html"><a href="cap22.html#separate"><i class="fa fa-check"></i><b>8.6.4</b> separate()</a></li>
<li class="chapter" data-level="8.6.5" data-path="cap22.html"><a href="cap22.html#drop_na-e-replace_na"><i class="fa fa-check"></i><b>8.6.5</b> drop_na() e replace_na()</a></li>
<li class="chapter" data-level="8.6.6" data-path="cap22.html"><a href="cap22.html#pivot_longer-e-pivot_wider"><i class="fa fa-check"></i><b>8.6.6</b> pivot_longer() e pivot_wider()</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="cap22.html"><a href="cap22.html#dplyr"><i class="fa fa-check"></i><b>8.7</b> dplyr</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="cap22.html"><a href="cap22.html#gramática"><i class="fa fa-check"></i><b>8.7.1</b> Gramática</a></li>
<li class="chapter" data-level="8.7.2" data-path="cap22.html"><a href="cap22.html#sintaxe"><i class="fa fa-check"></i><b>8.7.2</b> Sintaxe</a></li>
<li class="chapter" data-level="8.7.3" data-path="cap22.html"><a href="cap22.html#palmerpenguins-1"><i class="fa fa-check"></i><b>8.7.3</b> palmerpenguins</a></li>
<li class="chapter" data-level="8.7.4" data-path="cap22.html"><a href="cap22.html#relocate"><i class="fa fa-check"></i><b>8.7.4</b> relocate()</a></li>
<li class="chapter" data-level="8.7.5" data-path="cap22.html"><a href="cap22.html#rename"><i class="fa fa-check"></i><b>8.7.5</b> rename()</a></li>
<li class="chapter" data-level="8.7.6" data-path="cap22.html"><a href="cap22.html#select"><i class="fa fa-check"></i><b>8.7.6</b> select()</a></li>
<li class="chapter" data-level="8.7.7" data-path="cap22.html"><a href="cap22.html#pull"><i class="fa fa-check"></i><b>8.7.7</b> pull()</a></li>
<li class="chapter" data-level="8.7.8" data-path="cap22.html"><a href="cap22.html#mutate"><i class="fa fa-check"></i><b>8.7.8</b> mutate()</a></li>
<li class="chapter" data-level="8.7.9" data-path="cap22.html"><a href="cap22.html#arrange"><i class="fa fa-check"></i><b>8.7.9</b> arrange()</a></li>
<li class="chapter" data-level="8.7.10" data-path="cap22.html"><a href="cap22.html#filter"><i class="fa fa-check"></i><b>8.7.10</b> filter()</a></li>
<li class="chapter" data-level="8.7.11" data-path="cap22.html"><a href="cap22.html#slice"><i class="fa fa-check"></i><b>8.7.11</b> slice()</a></li>
<li class="chapter" data-level="8.7.12" data-path="cap22.html"><a href="cap22.html#distinct"><i class="fa fa-check"></i><b>8.7.12</b> distinct()</a></li>
<li class="chapter" data-level="8.7.13" data-path="cap22.html"><a href="cap22.html#count"><i class="fa fa-check"></i><b>8.7.13</b> count()</a></li>
<li class="chapter" data-level="8.7.14" data-path="cap22.html"><a href="cap22.html#group_by"><i class="fa fa-check"></i><b>8.7.14</b> group_by()</a></li>
<li class="chapter" data-level="8.7.15" data-path="cap22.html"><a href="cap22.html#summarise"><i class="fa fa-check"></i><b>8.7.15</b> summarise()</a></li>
<li class="chapter" data-level="8.7.16" data-path="cap22.html"><a href="cap22.html#bind_rows-e-bind_cols"><i class="fa fa-check"></i><b>8.7.16</b> bind_rows() e bind_cols()</a></li>
<li class="chapter" data-level="8.7.17" data-path="cap22.html"><a href="cap22.html#join"><i class="fa fa-check"></i><b>8.7.17</b> *_join()</a></li>
<li class="chapter" data-level="8.7.18" data-path="cap22.html"><a href="cap22.html#operações-de-conjuntos-e-comparação-de-dados"><i class="fa fa-check"></i><b>8.7.18</b> Operações de conjuntos e comparação de dados</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="cap22.html"><a href="cap22.html#stringr"><i class="fa fa-check"></i><b>8.8</b> stringr</a></li>
<li class="chapter" data-level="8.9" data-path="cap22.html"><a href="cap22.html#forcats"><i class="fa fa-check"></i><b>8.9</b> forcats</a></li>
<li class="chapter" data-level="8.10" data-path="cap22.html"><a href="cap22.html#lubridate"><i class="fa fa-check"></i><b>8.10</b> lubridate</a></li>
<li class="chapter" data-level="8.11" data-path="cap22.html"><a href="cap22.html#purrr"><i class="fa fa-check"></i><b>8.11</b> purrr</a></li>
<li class="chapter" data-level="8.12" data-path="cap22.html"><a href="cap22.html#para-se-aprofundar-1"><i class="fa fa-check"></i><b>8.12</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="8.12.1" data-path="cap22.html"><a href="cap22.html#livros-1"><i class="fa fa-check"></i><b>8.12.1</b> Livros</a></li>
<li class="chapter" data-level="8.12.2" data-path="cap22.html"><a href="cap22.html#links-1"><i class="fa fa-check"></i><b>8.12.2</b> Links</a></li>
</ul></li>
<li class="chapter" data-level="8.13" data-path="cap22.html"><a href="cap22.html#exercícios-1"><i class="fa fa-check"></i><b>8.13</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="cap23.html"><a href="cap23.html"><i class="fa fa-check"></i><b>9</b> Visualização de dados</a>
<ul>
<li class="chapter" data-level="" data-path="cap23.html"><a href="cap23.html#pré-requisitos-do-capítulo-2"><i class="fa fa-check"></i>Pré-requisitos do capítulo</a></li>
<li class="chapter" data-level="9.1" data-path="cap23.html"><a href="cap23.html#contextualização-2"><i class="fa fa-check"></i><b>9.1</b> Contextualização</a></li>
<li class="chapter" data-level="9.2" data-path="cap23.html"><a href="cap23.html#principais-pacotes"><i class="fa fa-check"></i><b>9.2</b> Principais pacotes</a></li>
<li class="chapter" data-level="9.3" data-path="cap23.html"><a href="cap23.html#grámatica-dos-gráficos"><i class="fa fa-check"></i><b>9.3</b> Grámatica dos gráficos</a></li>
<li class="chapter" data-level="9.4" data-path="cap23.html"><a href="cap23.html#tipos-de-gráficos"><i class="fa fa-check"></i><b>9.4</b> Tipos de gráficos</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="cap23.html"><a href="cap23.html#histograma-histogram"><i class="fa fa-check"></i><b>9.4.1</b> Histograma (<em>histogram</em>)</a></li>
<li class="chapter" data-level="9.4.2" data-path="cap23.html"><a href="cap23.html#gráfico-de-densidade-density-plot"><i class="fa fa-check"></i><b>9.4.2</b> Gráfico de densidade (<em>density plot</em>)</a></li>
<li class="chapter" data-level="9.4.3" data-path="cap23.html"><a href="cap23.html#diagrama-de-pontos-dot-plot"><i class="fa fa-check"></i><b>9.4.3</b> Diagrama de pontos (<em>dot plot</em>)</a></li>
<li class="chapter" data-level="9.4.4" data-path="cap23.html"><a href="cap23.html#gráfico-de-barras-bar-plot"><i class="fa fa-check"></i><b>9.4.4</b> Gráfico de barras (<em>bar plot</em>)</a></li>
<li class="chapter" data-level="9.4.5" data-path="cap23.html"><a href="cap23.html#gráfico-de-setores-pie-chart-e-donut-chart"><i class="fa fa-check"></i><b>9.4.5</b> Gráfico de setores (<em>pie chart</em> e <em>donut chart</em>)</a></li>
<li class="chapter" data-level="9.4.6" data-path="cap23.html"><a href="cap23.html#gráfico-de-caixa-boxplot"><i class="fa fa-check"></i><b>9.4.6</b> Gráfico de caixa (<em>boxplot</em>)</a></li>
<li class="chapter" data-level="9.4.7" data-path="cap23.html"><a href="cap23.html#gráfico-de-dispersão-scatter-plot"><i class="fa fa-check"></i><b>9.4.7</b> Gráfico de dispersão (<em>scatter plot</em>)</a></li>
<li class="chapter" data-level="9.4.8" data-path="cap23.html"><a href="cap23.html#visualização-de-múltiplos-gráficos-pareados"><i class="fa fa-check"></i><b>9.4.8</b> Visualização de múltiplos gráficos pareados</a></li>
<li class="chapter" data-level="9.4.9" data-path="cap23.html"><a href="cap23.html#erros-comuns-dos-usuários-do-ggplot2-e-como-evitá-los"><i class="fa fa-check"></i><b>9.4.9</b> Erros comuns dos usuários do <code>ggplot2</code> e como evitá-los</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="cap23.html"><a href="cap23.html#finalização-de-gráficos-para-publicação"><i class="fa fa-check"></i><b>9.5</b> Finalização de gráficos para publicação</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="cap23.html"><a href="cap23.html#posição-cores-e-fonte-da-legenda"><i class="fa fa-check"></i><b>9.5.1</b> Posição, cores e fonte da legenda</a></li>
<li class="chapter" data-level="9.5.2" data-path="cap23.html"><a href="cap23.html#elementos-gráficos-eixo-fonte-gride"><i class="fa fa-check"></i><b>9.5.2</b> Elementos gráficos: eixo, fonte, gride</a></li>
<li class="chapter" data-level="9.5.3" data-path="cap23.html"><a href="cap23.html#temas-personalizados-ggtheme"><i class="fa fa-check"></i><b>9.5.3</b> Temas personalizados <code>ggtheme()</code></a></li>
<li class="chapter" data-level="9.5.4" data-path="cap23.html"><a href="cap23.html#exportando-gráficos-com-alta-qualidade-com-a-função-ggsave"><i class="fa fa-check"></i><b>9.5.4</b> Exportando gráficos com alta qualidade com a função <code>ggsave()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="cap23.html"><a href="cap23.html#para-se-aprofundar-2"><i class="fa fa-check"></i><b>9.6</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="cap23.html"><a href="cap23.html#livros-2"><i class="fa fa-check"></i><b>9.6.1</b> Livros</a></li>
<li class="chapter" data-level="9.6.2" data-path="cap23.html"><a href="cap23.html#links-2"><i class="fa fa-check"></i><b>9.6.2</b> Links</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="cap23.html"><a href="cap23.html#exercícios-2"><i class="fa fa-check"></i><b>9.7</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="cap25.html"><a href="cap25.html"><i class="fa fa-check"></i><b>10</b> Primeiros passos com uma raster</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="cap25.html"><a href="cap25.html#obter-e-carregar-dados-raster-1"><i class="fa fa-check"></i><b>10.0.1</b> Obter e carregar dados (raster)</a></li>
<li class="chapter" data-level="10.0.2" data-path="cap25.html"><a href="cap25.html#reclassificação-2"><i class="fa fa-check"></i><b>10.0.2</b> Reclassificação</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="primeiros-passos-com-vector.html"><a href="primeiros-passos-com-vector.html"><i class="fa fa-check"></i><b>11</b> Primeiros passos com vector</a>
<ul>
<li class="chapter" data-level="11.1" data-path="primeiros-passos-com-vector.html"><a href="primeiros-passos-com-vector.html#obter-e-carregar-dados-vectores-1"><i class="fa fa-check"></i><b>11.1</b> Obter e carregar dados (vectores)</a></li>
<li class="chapter" data-level="11.2" data-path="primeiros-passos-com-vector.html"><a href="primeiros-passos-com-vector.html#visualizar-os-arquivos-camadas-vector-1"><i class="fa fa-check"></i><b>11.2</b> Visualizar os arquivos (camadas vector)</a></li>
</ul></li>
<li class="part"><span><b>V Encerramento</b></span></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a></li>
<li class="chapter" data-level="" data-path="glossário.html"><a href="glossário.html"><i class="fa fa-check"></i>Glossário</a></li>
<li class="appendix"><span><b>Apêndice</b></span></li>
<li class="chapter" data-level="A" data-path="annexo-1.html"><a href="annexo-1.html"><i class="fa fa-check"></i><b>A</b> Annexo 1</a>
<ul>
<li class="chapter" data-level="A.1" data-path="annexo-1.html"><a href="annexo-1.html#download-mapbiomas-cover"><i class="fa fa-check"></i><b>A.1</b> Download mapbiomas cover</a></li>
<li class="chapter" data-level="A.2" data-path="annexo-1.html"><a href="annexo-1.html#crop-mapbiomas-cover"><i class="fa fa-check"></i><b>A.2</b> Crop mapbiomas cover</a></li>
<li class="chapter" data-level="A.3" data-path="annexo-1.html"><a href="annexo-1.html#plot-with-legend"><i class="fa fa-check"></i><b>A.3</b> Plot with legend</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ecologia de Paisagens com R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="garimpo-do-lourenço" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Capítulo 5</span> Garimpo do Lourenço<a href="garimpo-do-lourenço.html#garimpo-do-lourenço" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="apresentação-4" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Apresentação<a href="garimpo-do-lourenço.html#apresentação-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mudanças na paisagem ao redor do Garimpo do Lourenço. Changes in the landscape surrounding the Lourenço gold mine.</p>
<p><img src="www/lourenco_metrics.jpg" alt="Gold mine" align="right" width="300" style="margin-top: 20px"/></p>
<p>Código de <a href="https://cran.r-project.org/">R</a> e dados para calcular métricas de paisagem associadas com a exploração de recursos minerários.</p>
<p>O objetivo é calcular métricas de paisagem e descrever a composição e a configuração da paisagem no entorno do Garimpo do Lourenço.</p>
<p>As métricas de paisagem são a forma que os ecólogos de paisagem usam para descrever os padrões espaciais de paisagens para depois avaliar a influência destes padrões espaciais nos padrões e processos ecológicos.</p>
<p>Nesta exemplo (<a href="https://rpubs.com/darren75/lourenco" class="uri">https://rpubs.com/darren75/lourenco</a>) aprenderemos sobre como analisar a cobertura da terra com métricas de paisagem em R.</p>
<p>Este exemplo tem como base teórica o modelo “mancha-corredor-matriz” - uma representação da paisagem em manchas de habitat (fragmentos).</p>
<div style="page-break-after: always;"></div>
</div>
<div id="pacotes-necessarios" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Pacotes necessarios:<a href="garimpo-do-lourenço.html#pacotes-necessarios" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="garimpo-do-lourenço.html#cb93-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb93-2"><a href="garimpo-do-lourenço.html#cb93-2" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb93-3"><a href="garimpo-do-lourenço.html#cb93-3" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb93-4"><a href="garimpo-do-lourenço.html#cb93-4" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb93-5"><a href="garimpo-do-lourenço.html#cb93-5" tabindex="-1"></a><span class="fu">library</span>(landscapemetrics)</span>
<span id="cb93-6"><a href="garimpo-do-lourenço.html#cb93-6" tabindex="-1"></a><span class="fu">library</span>(mapview)</span>
<span id="cb93-7"><a href="garimpo-do-lourenço.html#cb93-7" tabindex="-1"></a><span class="fu">library</span>(knitr) </span>
<span id="cb93-8"><a href="garimpo-do-lourenço.html#cb93-8" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb93-9"><a href="garimpo-do-lourenço.html#cb93-9" tabindex="-1"></a><span class="fu">library</span>(eprdados)</span>
<span id="cb93-10"><a href="garimpo-do-lourenço.html#cb93-10" tabindex="-1"></a><span class="fu">library</span>(tidyterra)</span>
<span id="cb93-11"><a href="garimpo-do-lourenço.html#cb93-11" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code></pre></div>
</div>
<div id="área-de-estudo-1" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Área de estudo<a href="garimpo-do-lourenço.html#área-de-estudo-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para alcançar o objetivo de caracterizar a paisagem no entorno do Garimpo do Lourenço, precisamos estabelecer a extensão da área de estudo. Isso seria estabelicida com base nos objetivos e estudos anteriores. Sabemos que atividades asociados com a mineração pode aumentar a perda da floresta até 70 km além dos limites do processo de mineração: Sonter et. al. 2017. Mining drives extensive deforestation in the Brazilian Amazon <a href="https://www.nature.com/articles/s41467-017-00557-w" class="uri">https://www.nature.com/articles/s41467-017-00557-w</a></p>
<p>Para visualizar um exemplo com a <a href="https://cpisp.org.br/mais-uma-uc-na-amazonia-sob-risco-mineracao-ameaca-flona-saraca-taquera-no-para/">Extração de bauxita na Flona Saracá-Taquera</a>: <a href="https://earthengine.google.com/timelapse/#v=-1.70085,-56.45017,8.939,latLng&amp;t=2.70" class="uri">https://earthengine.google.com/timelapse/#v=-1.70085,-56.45017,8.939,latLng&amp;t=2.70</a></p>
<p>E aqui com o Garimpo do Lourenço: <a href="https://earthengine.google.com/timelapse#v=2.2994,-51.68423,11.382,latLng&amp;t=0.03" class="uri">https://earthengine.google.com/timelapse#v=2.2994,-51.68423,11.382,latLng&amp;t=0.03</a></p>
</div>
<div id="dados-3" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Dados<a href="garimpo-do-lourenço.html#dados-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="ponto-de-referência-epsg-4326" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Ponto de referência (EPSG: 4326)<a href="garimpo-do-lourenço.html#ponto-de-referência-epsg-4326" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Aqui vamos incluir um raio de 20 km além do ponto de acesso para o Garimpo do Lourenço em 1985. Isso representa uma área quadrada de 40 x 40 km (1600 km2).</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="garimpo-do-lourenço.html#cb94-1" tabindex="-1"></a><span class="co"># Tabela de dados com coordenados de acesso em 1985.</span></span>
<span id="cb94-2"><a href="garimpo-do-lourenço.html#cb94-2" tabindex="-1"></a>acesso <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nome =</span> <span class="st">&quot;garimpo do Lourenço&quot;</span>, </span>
<span id="cb94-3"><a href="garimpo-do-lourenço.html#cb94-3" tabindex="-1"></a>           <span class="at">coord_x =</span> <span class="sc">-</span><span class="fl">51.630871</span>, </span>
<span id="cb94-4"><a href="garimpo-do-lourenço.html#cb94-4" tabindex="-1"></a>           <span class="at">coord_y =</span> <span class="fl">2.318514</span>)</span>
<span id="cb94-5"><a href="garimpo-do-lourenço.html#cb94-5" tabindex="-1"></a>           </span>
<span id="cb94-6"><a href="garimpo-do-lourenço.html#cb94-6" tabindex="-1"></a><span class="co"># Converter para objeto espacial, com sistema de coordenados geográfica.</span></span>
<span id="cb94-7"><a href="garimpo-do-lourenço.html#cb94-7" tabindex="-1"></a>sf_acesso <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(acesso, </span>
<span id="cb94-8"><a href="garimpo-do-lourenço.html#cb94-8" tabindex="-1"></a>               <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;coord_x&quot;</span>, <span class="st">&quot;coord_y&quot;</span>),</span>
<span id="cb94-9"><a href="garimpo-do-lourenço.html#cb94-9" tabindex="-1"></a>            <span class="at">crs =</span> <span class="dv">4326</span>)</span></code></pre></div>
<p>Visualizar para verificar.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="garimpo-do-lourenço.html#cb95-1" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb95-2"><a href="garimpo-do-lourenço.html#cb95-2" tabindex="-1"></a><span class="fu">plot</span>(sf_acesso) <span class="co"># teste basica</span></span>
<span id="cb95-3"><a href="garimpo-do-lourenço.html#cb95-3" tabindex="-1"></a><span class="fu">mapview</span>(sf_acesso) <span class="co">#verificar com mapa de base (OpenStreetMap)</span></span></code></pre></div>
<p><img src="figures/fig_garimpo_access.png" width="80%" height="80%" /></p>
</div>
<div id="ponto-de-referência-epsg-31976" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Ponto de referência (EPSG: 31976)<a href="garimpo-do-lourenço.html#ponto-de-referência-epsg-31976" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As análises da paisagem com o modelo “mancha-corredor-matriz” depende de uma classificação categórica. Portanto, deve optar para uma sistema de coordenados projetados, com pixels de área igual e com unidade em metros. Temos um raio de 20 km, que é um area geografica onde o retângulo envolvente é menor que um fuso <a href="https://forest-gis.com/2016/06/um-pouco-sobre-a-projecao-utm.html/">UTM</a>. Assim sendo, vamos adotar a sistema de coordenados projetados de datum SIRGAS 2000, especificamente EPSG:31976 (SIRGAS 2000/UTM zone 22N).</p>
<p>Precisamos então reprojetar o objeto original (em coordenados geográficas) para a sistema de coordenados projetados. Em seguida, vamos produzir um polígono com raio de 20 km no entorno do ponto.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="garimpo-do-lourenço.html#cb96-1" tabindex="-1"></a><span class="co"># Reprojetar o ponto.</span></span>
<span id="cb96-2"><a href="garimpo-do-lourenço.html#cb96-2" tabindex="-1"></a>sf_acesso_utm <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(sf_acesso, <span class="at">crs =</span> <span class="dv">31976</span>)</span>
<span id="cb96-3"><a href="garimpo-do-lourenço.html#cb96-3" tabindex="-1"></a><span class="co"># Polígono com raio de 500 metros no entorno do ponto.</span></span>
<span id="cb96-4"><a href="garimpo-do-lourenço.html#cb96-4" tabindex="-1"></a>sf_acesso_500m <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_utm, <span class="at">dist=</span><span class="dv">500</span>) <span class="sc">|&gt;</span> </span>
<span id="cb96-5"><a href="garimpo-do-lourenço.html#cb96-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="fl">0.5</span>)</span>
<span id="cb96-6"><a href="garimpo-do-lourenço.html#cb96-6" tabindex="-1"></a><span class="co"># Polígono com raio de 1 km no entorno do ponto.</span></span>
<span id="cb96-7"><a href="garimpo-do-lourenço.html#cb96-7" tabindex="-1"></a>sf_acesso_1km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_utm, <span class="at">dist=</span><span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb96-8"><a href="garimpo-do-lourenço.html#cb96-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">1</span>)</span>
<span id="cb96-9"><a href="garimpo-do-lourenço.html#cb96-9" tabindex="-1"></a><span class="co"># Polígono com raio de 2 km no entorno do ponto.</span></span>
<span id="cb96-10"><a href="garimpo-do-lourenço.html#cb96-10" tabindex="-1"></a>sf_acesso_2km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_utm, <span class="at">dist=</span><span class="dv">2000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb96-11"><a href="garimpo-do-lourenço.html#cb96-11" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">2</span>)</span>
<span id="cb96-12"><a href="garimpo-do-lourenço.html#cb96-12" tabindex="-1"></a><span class="co"># Polígono com raio de 4 km no entorno do ponto.</span></span>
<span id="cb96-13"><a href="garimpo-do-lourenço.html#cb96-13" tabindex="-1"></a>sf_acesso_4km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_utm, <span class="at">dist=</span><span class="dv">4000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb96-14"><a href="garimpo-do-lourenço.html#cb96-14" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">4</span>)</span>
<span id="cb96-15"><a href="garimpo-do-lourenço.html#cb96-15" tabindex="-1"></a><span class="co"># Polígono com raio de 20 km no entorno do ponto.</span></span>
<span id="cb96-16"><a href="garimpo-do-lourenço.html#cb96-16" tabindex="-1"></a>sf_acesso_20km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_utm, <span class="at">dist=</span><span class="dv">20000</span>)</span>
<span id="cb96-17"><a href="garimpo-do-lourenço.html#cb96-17" tabindex="-1"></a></span>
<span id="cb96-18"><a href="garimpo-do-lourenço.html#cb96-18" tabindex="-1"></a>acesso_buffers <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(sf_acesso_500m, sf_acesso_1km, </span>
<span id="cb96-19"><a href="garimpo-do-lourenço.html#cb96-19" tabindex="-1"></a>                            sf_acesso_2km, sf_acesso_4km)</span></code></pre></div>
</div>
<div id="verificar-com-mapa-de-base-openstreetmap." class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Verificar com mapa de base (OpenStreetMap).<a href="garimpo-do-lourenço.html#verificar-com-mapa-de-base-openstreetmap." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="garimpo-do-lourenço.html#cb97-1" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb97-2"><a href="garimpo-do-lourenço.html#cb97-2" tabindex="-1"></a><span class="fu">mapview</span>(sf_acesso_20km) <span class="sc">+</span> </span>
<span id="cb97-3"><a href="garimpo-do-lourenço.html#cb97-3" tabindex="-1"></a>  <span class="fu">mapview</span>(sf_acesso_utm, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">col.regions =</span> <span class="st">&quot;yellow&quot;</span>)</span></code></pre></div>
<p><img src="figures/mapview_point_buffer.png" width="80%" height="80%" /></p>
</div>
<div id="dados-mapbiomas-cobertura-da-terra" class="section level3 hasAnchor" number="5.4.4">
<h3><span class="header-section-number">5.4.4</span> Dados: MapBiomas cobertura da terra<a href="garimpo-do-lourenço.html#dados-mapbiomas-cobertura-da-terra" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Agora vamos olhar cobertura e uso da terra no espaco que preciso (área de estudo). Para isso, vamos utilizar um arquivo de raster do projeto <a href="https://mapbiomas.org/">MapBiomas</a> com cobertura de terra ao redor do Garimpo do Lourenço em 1985. Este arquivo no formato raster, tem apenas valores inteiros, em que cada célula/pixel representa uma área considerada homogênea, como uso do solo ou tipo de vegetação. Arquivo “.tif” disponível aqui: <a href="https://github.com/darrennorris/Amapa-mine/blob/main/data/raster/Mapbiomas_cover_lourenco_utm/utm_cover_AP_lorenco_1985.tif">utm_cover_AP_lorenco_1985.tif</a></p>
<p>Não vamos construir mapas, portanto os cores nas visualizações não corresponde ao mundo real (por exemplo, verde não é floresta). Para visualizar em QGIS preciso baixar um arquivo com a legenda e cores para Coleção¨6 (<a href="https://mapbiomas.org/codigos-de-legenda" class="uri">https://mapbiomas.org/codigos-de-legenda</a>) e segue tutoriais: <a href="https://www.youtube.com/watch?v=WtyotodHK8E" class="uri">https://www.youtube.com/watch?v=WtyotodHK8E</a> .</p>
<p>Este vez, a entrada de dados espaciais seria atraves a importação de um raster (arquivo de .tif). Lembre-se, para facilitar, os arquivos deve ficar no mesmo diretório do seu código (verifique com <code>getwd()</code>). Como nós já sabemos a sistema de coordenados desejadas, o geoprocessamento da raster foi concluído antes de começar com as análises da paisagem.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="garimpo-do-lourenço.html#cb98-1" tabindex="-1"></a>r1985 <span class="ot">&lt;-</span> <span class="fu">rast</span>(<span class="st">&quot;utm_cover_AP_lorenco_1985.tif&quot;</span>)</span>
<span id="cb98-2"><a href="garimpo-do-lourenço.html#cb98-2" tabindex="-1"></a>r1985</span>
<span id="cb98-3"><a href="garimpo-do-lourenço.html#cb98-3" tabindex="-1"></a></span>
<span id="cb98-4"><a href="garimpo-do-lourenço.html#cb98-4" tabindex="-1"></a><span class="co">#class       : SpatRaster </span></span>
<span id="cb98-5"><a href="garimpo-do-lourenço.html#cb98-5" tabindex="-1"></a><span class="co">#dimensions  : 1341, 1341, 1  (nrow, ncol, nlyr)</span></span>
<span id="cb98-6"><a href="garimpo-do-lourenço.html#cb98-6" tabindex="-1"></a><span class="co">#resolution  : 29.87713, 29.87713  (x, y)</span></span>
<span id="cb98-7"><a href="garimpo-do-lourenço.html#cb98-7" tabindex="-1"></a><span class="co">#extent      : 409829.5, 449894.7, 236241.1, 276306.3  (xmin, xmax, ymin, ymax)</span></span>
<span id="cb98-8"><a href="garimpo-do-lourenço.html#cb98-8" tabindex="-1"></a><span class="co">#coord. ref. : SIRGAS 2000 / UTM zone 22N (EPSG:31976) </span></span>
<span id="cb98-9"><a href="garimpo-do-lourenço.html#cb98-9" tabindex="-1"></a><span class="co">#source      : utm_cover_AP_lorenco_1985.tif </span></span>
<span id="cb98-10"><a href="garimpo-do-lourenço.html#cb98-10" tabindex="-1"></a><span class="co">#name        : classification_1985 </span></span>
<span id="cb98-11"><a href="garimpo-do-lourenço.html#cb98-11" tabindex="-1"></a><span class="co">#min value   :                   3 </span></span>
<span id="cb98-12"><a href="garimpo-do-lourenço.html#cb98-12" tabindex="-1"></a><span class="co">#max value   :                  33 </span></span></code></pre></div>
<p>Ou use o função <code>file.choose()</code>, que faz a busca para arquivos.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="garimpo-do-lourenço.html#cb99-1" tabindex="-1"></a>r1985 <span class="ot">&lt;-</span> <span class="fu">rast</span>(<span class="fu">file.choose</span>())</span>
<span id="cb99-2"><a href="garimpo-do-lourenço.html#cb99-2" tabindex="-1"></a>r1985</span></code></pre></div>
<pre><code>##            used  (Mb) gc trigger   (Mb)  max used   (Mb)
## Ncells  8678562 463.5   19594787 1046.5  19594787 1046.5
## Vcells 38247843 291.9  118462564  903.8 148077084 1129.8</code></pre>
<p>Agora que o arquivo foi importado, podemos visualizá- lo.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="garimpo-do-lourenço.html#cb101-1" tabindex="-1"></a><span class="co"># Visualizar para verificar</span></span>
<span id="cb101-2"><a href="garimpo-do-lourenço.html#cb101-2" tabindex="-1"></a><span class="co"># Gradiente de cores padrão não corresponde </span></span>
<span id="cb101-3"><a href="garimpo-do-lourenço.html#cb101-3" tabindex="-1"></a><span class="co"># ao mundo real (por exemplo verde não é floresta)</span></span>
<span id="cb101-4"><a href="garimpo-do-lourenço.html#cb101-4" tabindex="-1"></a><span class="fu">plot</span>(r1985, <span class="at">type=</span><span class="st">&quot;classes&quot;</span>) </span>
<span id="cb101-5"><a href="garimpo-do-lourenço.html#cb101-5" tabindex="-1"></a><span class="fu">plot</span>(sf_acesso_20km, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">lty =</span><span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb101-6"><a href="garimpo-do-lourenço.html#cb101-6" tabindex="-1"></a><span class="fu">plot</span>(sf_acesso_utm, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">cex =</span> <span class="dv">2</span>, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="epr_files/figure-html/fig-plot-raster-1.png" width="672" /></p>
</div>
</div>
<div id="calculo-de-métricas-1" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Calculo de métricas<a href="garimpo-do-lourenço.html#calculo-de-métricas-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vamos olhar alguns exemplos de métricas para cada nível da análise:</p>
<ul>
<li>landscape (métricas para a paisagem como um todo).</li>
<li>class (métricas por classe ou tipo de habiat).</li>
<li>patch (para a mancha ou fragmento).</li>
</ul>
<p>Primeiro, pecisamos verificar se o raster está no formato correto.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="garimpo-do-lourenço.html#cb102-1" tabindex="-1"></a><span class="fu">check_landscape</span>(r1985)</span></code></pre></div>
<pre><code>##   layer       crs units   class n_classes OK
## 1     1 projected     m integer         7  ✔</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="garimpo-do-lourenço.html#cb104-1" tabindex="-1"></a><span class="co">#  layer crs    units   class n_classes OK</span></span>
<span id="cb104-2"><a href="garimpo-do-lourenço.html#cb104-2" tabindex="-1"></a><span class="co">#  1  projected   m   integer         7  v</span></span></code></pre></div>
<p>Tudo certo (veja a coluna do “OK”)!</p>
<div id="métricas-para-a-paisagem" class="section level3 hasAnchor" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Métricas para a paisagem<a href="garimpo-do-lourenço.html#métricas-para-a-paisagem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vamos começar avaliando a área total da paisagem (área) de estudo.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="garimpo-do-lourenço.html#cb105-1" tabindex="-1"></a>area.total <span class="ot">&lt;-</span> <span class="fu">lsm_l_ta</span>(r1985) </span>
<span id="cb105-2"><a href="garimpo-do-lourenço.html#cb105-2" tabindex="-1"></a>area.total <span class="co">#160264 Hectares</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 6
##   layer level     class    id metric   value
##   &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;dbl&gt;
## 1     1 landscape    NA    NA ta     160264.</code></pre>
<p>Agora vamos ver a distância total de borda (te= “total edge”).</p>
<pre><code>##            used  (Mb) gc trigger   (Mb)  max used   (Mb)
## Ncells  8679360 463.6   19594787 1046.5  19594787 1046.5
## Vcells 38247531 291.9  118462564  903.8 148077084 1129.8</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="garimpo-do-lourenço.html#cb108-1" tabindex="-1"></a>te <span class="ot">&lt;-</span> <span class="fu">lsm_l_te</span>(r1985)</span>
<span id="cb108-2"><a href="garimpo-do-lourenço.html#cb108-2" tabindex="-1"></a>te <span class="co"># 547140 metros</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 6
##   layer level     class    id metric   value
##   &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;    &lt;dbl&gt;
## 1     1 landscape    NA    NA te     547140.</code></pre>
<p>Total de borda mede a configuração da paisagem porque uma paisagem altamente fragmentada terá muitas bordas. No entanto, a borda total é uma medida absoluta, dificultando comparações entre paisagens com<br />
áreas totais diferentes. Mas pode ser aplicado para comparar a configuração na mesma paisagem em anos diferentes.</p>
<p>Agora vamos ver a densidade de Borda (“Edge Density”). Densidade de Borda mede a configuração da paisagem porque uma paisagem altamente fragmentada terá valores mais altas. “Densidade” é uma medida adequado para comparacoes de paisagens com áreas totais diferentes.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="garimpo-do-lourenço.html#cb110-1" tabindex="-1"></a>ed <span class="ot">&lt;-</span> <span class="fu">lsm_l_ed</span>(r1985) </span>
<span id="cb110-2"><a href="garimpo-do-lourenço.html#cb110-2" tabindex="-1"></a>ed <span class="co">#3.41 metros por hectare</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 6
##   layer level     class    id metric value
##   &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt;
## 1     1 landscape    NA    NA ed      3.41</code></pre>
</div>
<div id="métricas-para-as-classes" class="section level3 hasAnchor" number="5.5.2">
<h3><span class="header-section-number">5.5.2</span> Métricas para as classes<a href="garimpo-do-lourenço.html#métricas-para-as-classes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Area de cada classe em hectares.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="garimpo-do-lourenço.html#cb112-1" tabindex="-1"></a><span class="fu">lsm_c_ca</span>(r1985) </span></code></pre></div>
<pre><code>## # A tibble: 7 × 6
##   layer level class    id metric     value
##   &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;      &lt;dbl&gt;
## 1     1 class     3    NA ca     158582.  
## 2     1 class     4    NA ca          1.70
## 3     1 class    11    NA ca          1.79
## 4     1 class    12    NA ca        548.  
## 5     1 class    15    NA ca        563.  
## 6     1 class    30    NA ca        526.  
## 7     1 class    33    NA ca         41.4</code></pre>
<p>Como tem varios classes é dificil de interpretar os resultados porque os numeros (3, 4, 11…..) não tem uma referncia do mundo real. Para entender os resultados, precisamos acrescentar nomes para os valores. Ou seja incluir uma coluna de legenda com os nomes para cada classe. Para isso precisamos outro arquivo com os nomes.</p>
<p>Baixar a arquivo de legenda: <a href="https://github.com/darrennorris/Amapa-mine/blob/main/data/raster/Mapbiomas_cover_lourenco_utm/mapbiomas_6_legend.xlsx">mapbiomas_6_legend.xlsx</a>.</p>
<p>Agora carregar o arquivo com o codigo a seguir.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="garimpo-do-lourenço.html#cb114-1" tabindex="-1"></a>class_nomes <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">file.choose</span>())</span></code></pre></div>
<p>Agora rodar de novo, com os resultados juntos com a legenda de cada classe. Nos resultados acima, os valores na coluna “class” são as mesmas que tem na coluna “aid” no objeto “class_nomes”, onde também tem os nomes . Assim, podemos repetir, mas agora incluindo os nomes para cada valor de class, com base na ligação (join) entre as colunas.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="garimpo-do-lourenço.html#cb115-1" tabindex="-1"></a><span class="co"># Área de cada classe em hectares, incluindo os nomes para cada classe</span></span>
<span id="cb115-2"><a href="garimpo-do-lourenço.html#cb115-2" tabindex="-1"></a><span class="fu">lsm_c_ca</span>(r1985) <span class="sc">|&gt;</span> </span>
<span id="cb115-3"><a href="garimpo-do-lourenço.html#cb115-3" tabindex="-1"></a>  <span class="fu">left_join</span>(class_nomes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;class&quot;</span> <span class="ot">=</span> <span class="st">&quot;aid&quot;</span>))</span>
<span id="cb115-4"><a href="garimpo-do-lourenço.html#cb115-4" tabindex="-1"></a>  </span>
<span id="cb115-5"><a href="garimpo-do-lourenço.html#cb115-5" tabindex="-1"></a><span class="co"># Numero de fragmentos (manchas)</span></span>
<span id="cb115-6"><a href="garimpo-do-lourenço.html#cb115-6" tabindex="-1"></a><span class="fu">lsm_c_np</span>(r1985) <span class="sc">|&gt;</span> </span>
<span id="cb115-7"><a href="garimpo-do-lourenço.html#cb115-7" tabindex="-1"></a>  <span class="fu">left_join</span>(class_nomes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;class&quot;</span> <span class="ot">=</span> <span class="st">&quot;aid&quot;</span>))</span>
<span id="cb115-8"><a href="garimpo-do-lourenço.html#cb115-8" tabindex="-1"></a>  </span>
<span id="cb115-9"><a href="garimpo-do-lourenço.html#cb115-9" tabindex="-1"></a><span class="co"># Maior numero de manchas em classes de cobertura classificadas como </span></span>
<span id="cb115-10"><a href="garimpo-do-lourenço.html#cb115-10" tabindex="-1"></a><span class="co"># pasto (pasture) e formação campestre (grassland).</span></span>
<span id="cb115-11"><a href="garimpo-do-lourenço.html#cb115-11" tabindex="-1"></a></span>
<span id="cb115-12"><a href="garimpo-do-lourenço.html#cb115-12" tabindex="-1"></a><span class="co">#  layer level class    id metric value class_description  group_description</span></span>
<span id="cb115-13"><a href="garimpo-do-lourenço.html#cb115-13" tabindex="-1"></a><span class="co">#     1 class     3    NA np        28 Forest Formation     Natural forest         </span></span>
<span id="cb115-14"><a href="garimpo-do-lourenço.html#cb115-14" tabindex="-1"></a><span class="co">#     1 class     4    NA np         2 Savanna Formation    Natural forest           </span></span>
<span id="cb115-15"><a href="garimpo-do-lourenço.html#cb115-15" tabindex="-1"></a><span class="co">#     1 class    11    NA np         7 Wetlands             Natural non fore</span></span>
<span id="cb115-16"><a href="garimpo-do-lourenço.html#cb115-16" tabindex="-1"></a><span class="co">#     1 class    12    NA np       246 Grassland            Natural non fore.           </span></span>
<span id="cb115-17"><a href="garimpo-do-lourenço.html#cb115-17" tabindex="-1"></a><span class="co">#     1 class    15    NA np       262 Pasture              Farming              </span></span>
<span id="cb115-18"><a href="garimpo-do-lourenço.html#cb115-18" tabindex="-1"></a><span class="co">#     1 class    30    NA np        35 Mining               Non vegetated           </span></span>
<span id="cb115-19"><a href="garimpo-do-lourenço.html#cb115-19" tabindex="-1"></a><span class="co">#     1 class    33    NA np        50 River,Lake and Ocean Water             </span></span></code></pre></div>
</div>
<div id="métricas-para-as-manchas" class="section level3 hasAnchor" number="5.5.3">
<h3><span class="header-section-number">5.5.3</span> Métricas para as manchas<a href="garimpo-do-lourenço.html#métricas-para-as-manchas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vamos calcular o tamanho de cada mancha agora.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="garimpo-do-lourenço.html#cb116-1" tabindex="-1"></a>mancha_area <span class="ot">&lt;-</span> <span class="fu">lsm_p_area</span>(r1985) <span class="co"># 630 manchas</span></span>
<span id="cb116-2"><a href="garimpo-do-lourenço.html#cb116-2" tabindex="-1"></a>mancha_area</span></code></pre></div>
<p>Agora queremos saber o tamanho da maior mancha em cada class, e portanto o tamanho da maior mancha de mineração.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="garimpo-do-lourenço.html#cb117-1" tabindex="-1"></a>mancha_area <span class="sc">|&gt;</span> </span>
<span id="cb117-2"><a href="garimpo-do-lourenço.html#cb117-2" tabindex="-1"></a><span class="fu">group_by</span>(class) <span class="sc">|&gt;</span> </span>
<span id="cb117-3"><a href="garimpo-do-lourenço.html#cb117-3" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">max_ha =</span> <span class="fu">max</span>(value))</span>
<span id="cb117-4"><a href="garimpo-do-lourenço.html#cb117-4" tabindex="-1"></a><span class="co"># 30.8 hectares (class 15 = mineração)</span></span></code></pre></div>
</div>
<div id="quais-métricas-devo-escolher" class="section level3 hasAnchor" number="5.5.4">
<h3><span class="header-section-number">5.5.4</span> Quais métricas devo escolher?<a href="garimpo-do-lourenço.html#quais-métricas-devo-escolher" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A decisão deve ser tomada com base em uma combinação de fatores. Incluindo tais fatores como: base teórica, considerações estatísticas, relevância para o objetivo/hipótese e a escala e heterogeneidade na paisagem de estudo.</p>
<p>Queremos caracterizar áreas de mineração na paisagem, e aqui vamos olhar somente uma paisagem, em um momento do tempo. Então as métricas para a paisagem como todo não tem relevância.</p>
<p>Estamos olhando uma classe (mineração), portanto vamos incluir as métricas para classes. Alem disso, as métricas de paisagem em nível de classe são mais eficazes na definição de processos ecológicos (Tischendorf, L. Can landscape indices predict ecological processes consistently?. Landscape Ecology 16, 235–254 (2001). <a href="https://doi.org/10.1023/A:1011112719782" class="uri">https://doi.org/10.1023/A:1011112719782</a>.).</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="garimpo-do-lourenço.html#cb118-1" tabindex="-1"></a><span class="co"># métricas de composição para a paisagem por classes</span></span>
<span id="cb118-2"><a href="garimpo-do-lourenço.html#cb118-2" tabindex="-1"></a><span class="fu">list_lsm</span>(<span class="at">level =</span> <span class="st">&quot;class&quot;</span>, <span class="at">type =</span> <span class="st">&quot;area and edge metric&quot;</span>)</span>
<span id="cb118-3"><a href="garimpo-do-lourenço.html#cb118-3" tabindex="-1"></a></span>
<span id="cb118-4"><a href="garimpo-do-lourenço.html#cb118-4" tabindex="-1"></a><span class="co"># métricas de configuração para a paisagem por classes</span></span>
<span id="cb118-5"><a href="garimpo-do-lourenço.html#cb118-5" tabindex="-1"></a><span class="fu">list_lsm</span>(<span class="at">level =</span> <span class="st">&quot;class&quot;</span>, <span class="at">type =</span> <span class="st">&quot;aggregation metric&quot;</span>)</span></code></pre></div>
</div>
<div id="métricas-por-classe-de-mineração" class="section level3 hasAnchor" number="5.5.5">
<h3><span class="header-section-number">5.5.5</span> Métricas por classe de mineração<a href="garimpo-do-lourenço.html#métricas-por-classe-de-mineração" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Aqui vamos calcular todos as métricas por classe (função <code>calculate_lsm()</code>)).</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="garimpo-do-lourenço.html#cb119-1" tabindex="-1"></a><span class="co"># métricas de composição para a paisagem por classes</span></span>
<span id="cb119-2"><a href="garimpo-do-lourenço.html#cb119-2" tabindex="-1"></a>metrics_comp <span class="ot">&lt;-</span> <span class="fu">calculate_lsm</span>(r1985, <span class="at">level =</span> <span class="st">&quot;class&quot;</span>, <span class="at">type =</span> <span class="st">&quot;area and edge metric&quot;</span>)</span>
<span id="cb119-3"><a href="garimpo-do-lourenço.html#cb119-3" tabindex="-1"></a></span>
<span id="cb119-4"><a href="garimpo-do-lourenço.html#cb119-4" tabindex="-1"></a><span class="co"># métricas de configuração para a paisagem por classes</span></span>
<span id="cb119-5"><a href="garimpo-do-lourenço.html#cb119-5" tabindex="-1"></a>metrics_config <span class="ot">&lt;-</span> <span class="fu">calculate_lsm</span>(r1985, <span class="at">level =</span> <span class="st">&quot;class&quot;</span>, <span class="at">type =</span> <span class="st">&quot;aggregation metric&quot;</span>)</span></code></pre></div>
<p>E aqui, calcular correlações entre todos as métricas por classe (função <code>show_correlation()</code>)).</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="garimpo-do-lourenço.html#cb120-1" tabindex="-1"></a><span class="fu">show_correlation</span>(<span class="at">data =</span> metrics_comp, <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span>, <span class="at">labels =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="garimpo-do-lourenço.html#cb121-1" tabindex="-1"></a><span class="fu">show_correlation</span>(<span class="at">data =</span> metrics_config, <span class="at">method =</span> <span class="st">&quot;pearson&quot;</span>, <span class="at">labels =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-71-2.png" width="672" /></p>
<p>Temos muitos valores e muitas métricas. Este se chama um “tiro no escuro”, algo cujo resultado se desconhece ou é imprevisível. Isso não é recomendado. Para fazer uma escolha melhor (mais robusta), seguindo princípios básicos da ciência, precisamos ler os estudos anteriores (artigos) para obter as métricas mais relevantes para nosso objetivo e a hipótese a ser testada. Com base em os estudos anteriores e os objetivos vamos incluir 8 métricas nos resultados.</p>
</div>
<div id="exportar-as-métricas" class="section level3 hasAnchor" number="5.5.6">
<h3><span class="header-section-number">5.5.6</span> Exportar as métricas<a href="garimpo-do-lourenço.html#exportar-as-métricas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O próximo passo é comunicar os resultados obtidos. Para isso precisamos resumir e apresentar as métricas selecionadas em tabelas e figuras. Agora já fizemos os cálculos, as tabelas e figuras podem ser feitas no R (<a href="https://www.youtube.com/watch?v=0RxEDDiRzQY">figuras</a>), tanto quanto em aplicativos diferentes (por exemplo tabelas atraves [“tabelas dinamicas”] no <a href="https://www.techtudo.com.br/dicas-e-tutoriais/2018/10/como-fazer-tabela-dinamica-no-excel.ghtml">Microsoft Excel</a> ou <a href="https://www.youtube.com/watch?v=Mqi5BJwzAzo">LibreOffice calc</a>). Mas por isso, primeiramente precisamos exportar os resultados (veja mais exemplos aqui: <a href="https://www.lampada.uerj.br/arquivosdb/_book2/importexport.html">Introdução ao R import-export</a>.</p>
<p>O arquivo vai sai no mesmo diretório do seu código (verifique com <code>getwd()</code>).</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="garimpo-do-lourenço.html#cb122-1" tabindex="-1"></a><span class="fu">bind_rows</span>(metrics_comp, metrics_config) <span class="ot">-&gt;</span> metricas_1985</span>
<span id="cb122-2"><a href="garimpo-do-lourenço.html#cb122-2" tabindex="-1"></a><span class="fu">write.csv2</span>(metricas_1985, <span class="st">&quot;metricas_lourenco_1985.csv&quot;</span>, <span class="at">row.names=</span><span class="cn">FALSE</span>)</span></code></pre></div>
</div>
</div>
<div id="apresentando-os-resultados" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Apresentando os resultados<a href="garimpo-do-lourenço.html#apresentando-os-resultados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="preparando-os-resultados" class="section level3 hasAnchor" number="5.6.1">
<h3><span class="header-section-number">5.6.1</span> Preparando os resultados<a href="garimpo-do-lourenço.html#preparando-os-resultados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A entrada de dados seria com as métricas da paisagem calculados anteriormente.</p>
<p>Vocês devem baixar o arquivo de Excel <a href="https://github.com/darrennorris/Amapa-mine/blob/main/data/metricas_lourenco_1985.xlsx">metricas_lourenco_1985.xlsx</a>. Lembre-se, para facilitar, os dados deve ficar no mesmo diretório do seu código (verifique com <code>getwd()</code>).</p>
<p>No caso de um arquivo de Excel simples, a importação poderia ser feita através menu de “Import Dataset” na janela/panel “Environment” de Rstudio. Ou com linhas de código:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="garimpo-do-lourenço.html#cb123-1" tabindex="-1"></a>metricas_1985 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;metricas_lourenco_1985.xlsx&quot;</span>)</span>
<span id="cb123-2"><a href="garimpo-do-lourenço.html#cb123-2" tabindex="-1"></a>metricas_1985</span>
<span id="cb123-3"><a href="garimpo-do-lourenço.html#cb123-3" tabindex="-1"></a></span>
<span id="cb123-4"><a href="garimpo-do-lourenço.html#cb123-4" tabindex="-1"></a><span class="co">#  layer level class id    metric     value</span></span>
<span id="cb123-5"><a href="garimpo-do-lourenço.html#cb123-5" tabindex="-1"></a><span class="co">#   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;</span></span>
<span id="cb123-6"><a href="garimpo-do-lourenço.html#cb123-6" tabindex="-1"></a><span class="co">#     1 class     3 NA    area_cv  529.   </span></span>
<span id="cb123-7"><a href="garimpo-do-lourenço.html#cb123-7" tabindex="-1"></a><span class="co">#     1 class     4 NA    area_cv   22.3  </span></span>
<span id="cb123-8"><a href="garimpo-do-lourenço.html#cb123-8" tabindex="-1"></a><span class="co">#     1 class    11 NA    area_cv   71.2  </span></span></code></pre></div>
<p>Ou use o função <code>file.choose()</code>, que faz a busca para arquivos.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="garimpo-do-lourenço.html#cb124-1" tabindex="-1"></a>metricas_1985 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">file.choose</span>())</span>
<span id="cb124-2"><a href="garimpo-do-lourenço.html#cb124-2" tabindex="-1"></a>metricas_1985</span></code></pre></div>
<pre><code>## # A tibble: 182 × 6
##    layer level class id    metric     value
##    &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;      &lt;dbl&gt;
##  1     1 class     3 NA    area_cv  529.   
##  2     1 class     4 NA    area_cv   22.3  
##  3     1 class    11 NA    area_cv   71.2  
##  4     1 class    12 NA    area_cv  169.   
##  5     1 class    15 NA    area_cv  175.   
##  6     1 class    30 NA    area_cv  276.   
##  7     1 class    33 NA    area_cv   74.2  
##  8     1 class     3 NA    area_mn 5664.   
##  9     1 class     4 NA    area_mn    0.848
## 10     1 class    11 NA    area_mn    0.255
## # ℹ 172 more rows</code></pre>
<p>Os dados são padronizados (“tidy”), mas ainda não parece adequados para apresentação em tabelas ou figuras. Temos muitos valores e muitas métricas (listadas na coluna “metric”). Com base em os estudos anteriores e os objetivos vamos incluir 8 métricas (4 de composição e 4 de configuração).</p>
<p>Métricas de composição:</p>
<ul>
<li>mean patch area (<code>lsm_c_area_mn</code>) Área médio das manchas por classe.</li>
<li>SD patch area (<code>lsm_c_area_sd</code>) Desvio padrão das áreas dos manchas por classe.</li>
<li>class area percentage of landscape (<code>lsm_c_pland</code>) Porcentagem de área na paisagem por classe.</li>
<li>largest patch index (<code>lsm_c_lpi</code>) Índice de maior mancha (proporção da paisagem).</li>
</ul>
<p>Métricas de configuração:</p>
<ul>
<li>aggregation index (<code>lsm_c_ai</code>) Índice de agregação.</li>
<li>patch cohesion index (<code>lsm_c_cohesion</code>) Índice de coesão das manchas.</li>
<li>number of patches (<code>lsm_c_np</code>) Número de manchas.</li>
<li>patch density (<code>lsm_c_pd</code>) Densidade de manchas.</li>
</ul>
<p>Escolheremos (atraves um filtro) as métricas que queremos para obter uma tabela de dados. Mantendo os dados originais, assim sendo para acresentar mais métricas nos resultados, preciso somente acrescentar mais no codigo.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="garimpo-do-lourenço.html#cb126-1" tabindex="-1"></a><span class="co"># Arquivo com os nomes das classes</span></span>
<span id="cb126-2"><a href="garimpo-do-lourenço.html#cb126-2" tabindex="-1"></a>class_in <span class="ot">&lt;-</span> <span class="st">&quot;C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">user</span><span class="sc">\\</span><span class="st">Documents</span><span class="sc">\\</span><span class="st">Articles</span><span class="sc">\\</span><span class="st">gis_layers</span><span class="sc">\\</span><span class="st">gisdata</span><span class="sc">\\</span><span class="st">inst</span><span class="sc">\\</span><span class="st">raster</span><span class="sc">\\</span><span class="st">mapbiomas_cover_lourenco_utm</span><span class="sc">\\</span><span class="st">mapbiomas_6_legend.xlsx&quot;</span></span>
<span id="cb126-3"><a href="garimpo-do-lourenço.html#cb126-3" tabindex="-1"></a>class_nomes <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(class_in)</span>
<span id="cb126-4"><a href="garimpo-do-lourenço.html#cb126-4" tabindex="-1"></a></span>
<span id="cb126-5"><a href="garimpo-do-lourenço.html#cb126-5" tabindex="-1"></a><span class="co"># Especificar métricas desejados</span></span>
<span id="cb126-6"><a href="garimpo-do-lourenço.html#cb126-6" tabindex="-1"></a>met_comp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;pland&quot;</span>, <span class="st">&quot;lpi&quot;</span>, <span class="st">&quot;area_mn&quot;</span>, <span class="st">&quot;area_sd&quot;</span>)</span>
<span id="cb126-7"><a href="garimpo-do-lourenço.html#cb126-7" tabindex="-1"></a>met_conf <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ai&quot;</span>, <span class="st">&quot;cohesion&quot;</span>, <span class="st">&quot;np&quot;</span>, <span class="st">&quot;pd&quot;</span>)</span>
<span id="cb126-8"><a href="garimpo-do-lourenço.html#cb126-8" tabindex="-1"></a>met_todos <span class="ot">&lt;-</span> <span class="fu">c</span>(met_comp, met_conf)</span>
<span id="cb126-9"><a href="garimpo-do-lourenço.html#cb126-9" tabindex="-1"></a></span>
<span id="cb126-10"><a href="garimpo-do-lourenço.html#cb126-10" tabindex="-1"></a><span class="co"># Escholer métricas desejados do conjunto completo</span></span>
<span id="cb126-11"><a href="garimpo-do-lourenço.html#cb126-11" tabindex="-1"></a>metricas_1985 <span class="sc">|&gt;</span> </span>
<span id="cb126-12"><a href="garimpo-do-lourenço.html#cb126-12" tabindex="-1"></a><span class="fu">filter</span>(metric <span class="sc">%in%</span> met_todos) <span class="sc">|&gt;</span> </span>
<span id="cb126-13"><a href="garimpo-do-lourenço.html#cb126-13" tabindex="-1"></a><span class="fu">left_join</span>(class_nomes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;class&quot;</span> <span class="ot">=</span> <span class="st">&quot;aid&quot;</span>)) <span class="ot">-&gt;</span> metricas_nomes</span></code></pre></div>
<div style="page-break-after: always;"></div>
</div>
<div id="uma-tabela-versatil" class="section level3 hasAnchor" number="5.6.2">
<h3><span class="header-section-number">5.6.2</span> Uma tabela versatil<a href="garimpo-do-lourenço.html#uma-tabela-versatil" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mas, ainda não tem uma coluna com os nomes das métricas. Portanto, solução simples é de exportar no formato de .csv e finalizar/editar no Excel / calc.</p>
<p>Outra opção que pode facilitar, particularmente quando pode há mudanças e revisões, é produzir a tabela no R. Aqui vamos repetir no R os passos que vocês conhecem com as ferramentas de Excel (arraste e solte, copiar-colar, filtro, tabela dinâmica).</p>
</div>
<div id="reorganização" class="section level3 hasAnchor" number="5.6.3">
<h3><span class="header-section-number">5.6.3</span> Reorganização<a href="garimpo-do-lourenço.html#reorganização" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Escolhendo as colunas desejadas (<code>select</code>), reorganizando para as métricas ficam nas colunas (<code>pivot_wider</code>) e colocando as colunas novas na sequência desejada (<code>select</code>).</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="garimpo-do-lourenço.html#cb127-1" tabindex="-1"></a>metricas_nomes <span class="sc">|&gt;</span> </span>
<span id="cb127-2"><a href="garimpo-do-lourenço.html#cb127-2" tabindex="-1"></a><span class="co"># Escholer métricas desejados do conjunto completo de métricas.</span></span>
<span id="cb127-3"><a href="garimpo-do-lourenço.html#cb127-3" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(type_class, classe_descricao, hexadecimal_code, </span>
<span id="cb127-4"><a href="garimpo-do-lourenço.html#cb127-4" tabindex="-1"></a>metric, value)) <span class="sc">|&gt;</span> </span>
<span id="cb127-5"><a href="garimpo-do-lourenço.html#cb127-5" tabindex="-1"></a><span class="co"># reorganizando</span></span>
<span id="cb127-6"><a href="garimpo-do-lourenço.html#cb127-6" tabindex="-1"></a><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> metric, <span class="at">values_from =</span> value) <span class="ot">-&gt;</span> metricas_tab</span></code></pre></div>
<div style="page-break-after: always;"></div>
</div>
<div id="uma-figura-elegante" class="section level3 hasAnchor" number="5.6.4">
<h3><span class="header-section-number">5.6.4</span> Uma figura elegante<a href="garimpo-do-lourenço.html#uma-figura-elegante" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uma imagem vale mais que mil palavras. Portanto, gráficos/figuras/imagens são uma das mais importantes formas de comunicar a ciência.</p>
<p>Como exemplo ilustrativo, aqui vamos produzir gráficos comparando métricas de composição e configuração da paisagem ao redor do Garimpo do Lourenço.</p>
<p>É uma boa ideia gastar bastante tempo para tornar figuras científicas as mais informativas e atraentes possíveis. Escusado será dizer que a precisão empírica é primordial. E por isso, o que fica excluído/omitido é tão importante quanto o que foi incluído. Para ajudar, você deve se perguntar o seguinte ao criar uma figura: eu apresentaria essa figura em uma apresentação para um grupo de colegas? Eu o apresentaria a um público de não especialistas? Eu gostaria que essa figura aparecesse em um artigo de notícias sobre meu trabalho? É claro que todos esses locais exigem diferentes graus de precisão, complexidade e estética, mas uma boa figura deve servir para educar simultaneamente públicos muito diferentes.</p>
<p>Tabelas versus gráficos — A primeira pergunta que você deve se fazer é se você pode transformar aquela tabela (chata e feia) em algum tipo de gráfico. Você realmente precisa dessa tabela no texto principal? Você não pode simplesmente traduzir as entradas das células em um gráfico de barras/colunas/xy? Se você pode, você deve. Quando uma tabela não pode ser facilmente traduzida em uma figura, na maioria das vezes a provavelmente pertence às Informações Suplementares/Anexos/Apêndices.</p>
<div id="gráfico-de-barra" class="section level4 hasAnchor" number="5.6.4.1">
<h4><span class="header-section-number">5.6.4.1</span> Gráfico de barra<a href="garimpo-do-lourenço.html#gráfico-de-barra" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Primeiramente, vamos produzir uma gráfico de barra comparando a proporção que cada classe representa na paisagem.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="garimpo-do-lourenço.html#cb128-1" tabindex="-1"></a><span class="co"># Inclundo cores conforme legenda da Mapbiomas Coleção 6</span></span>
<span id="cb128-2"><a href="garimpo-do-lourenço.html#cb128-2" tabindex="-1"></a><span class="co"># Legenda nomes ordem alfabetica</span></span>
<span id="cb128-3"><a href="garimpo-do-lourenço.html#cb128-3" tabindex="-1"></a>classe_cores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Campo Alagado e Área Pantanosa&quot;</span> <span class="ot">=</span> <span class="st">&quot;#45C2A5&quot;</span>, </span>
<span id="cb128-4"><a href="garimpo-do-lourenço.html#cb128-4" tabindex="-1"></a><span class="st">&quot;Formação Campestre&quot;</span> <span class="ot">=</span> <span class="st">&quot;#B8AF4F&quot;</span>, </span>
<span id="cb128-5"><a href="garimpo-do-lourenço.html#cb128-5" tabindex="-1"></a><span class="st">&quot;Formação Florestal&quot;</span> <span class="ot">=</span> <span class="st">&quot;#006400&quot;</span>, </span>
<span id="cb128-6"><a href="garimpo-do-lourenço.html#cb128-6" tabindex="-1"></a><span class="st">&quot;Formação Savânica&quot;</span> <span class="ot">=</span> <span class="st">&quot;#00ff00&quot;</span>, </span>
<span id="cb128-7"><a href="garimpo-do-lourenço.html#cb128-7" tabindex="-1"></a><span class="st">&quot;Mineração&quot;</span> <span class="ot">=</span> <span class="st">&quot;#af2a2a&quot;</span>, </span>
<span id="cb128-8"><a href="garimpo-do-lourenço.html#cb128-8" tabindex="-1"></a><span class="st">&quot;Pastagem&quot;</span> <span class="ot">=</span> <span class="st">&quot;#FFD966&quot;</span>, </span>
<span id="cb128-9"><a href="garimpo-do-lourenço.html#cb128-9" tabindex="-1"></a><span class="st">&quot;Rio, Lago e Oceano&quot;</span> <span class="ot">=</span> <span class="st">&quot;#0000FF&quot;</span>) </span></code></pre></div>
<p>E agora o grafico…….</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="garimpo-do-lourenço.html#cb129-1" tabindex="-1"></a><span class="co"># Grafico de barra basica</span></span>
<span id="cb129-2"><a href="garimpo-do-lourenço.html#cb129-2" tabindex="-1"></a>metricas_tab <span class="sc">|&gt;</span> </span>
<span id="cb129-3"><a href="garimpo-do-lourenço.html#cb129-3" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">class_prop =</span> pland) <span class="sc">|&gt;</span> </span>
<span id="cb129-4"><a href="garimpo-do-lourenço.html#cb129-4" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> classe_descricao, <span class="at">y =</span> class_prop)) <span class="sc">+</span></span>
<span id="cb129-5"><a href="garimpo-do-lourenço.html#cb129-5" tabindex="-1"></a><span class="fu">geom_col</span>()</span>
<span id="cb129-6"><a href="garimpo-do-lourenço.html#cb129-6" tabindex="-1"></a></span>
<span id="cb129-7"><a href="garimpo-do-lourenço.html#cb129-7" tabindex="-1"></a></span>
<span id="cb129-8"><a href="garimpo-do-lourenço.html#cb129-8" tabindex="-1"></a><span class="co"># Agora com ajustes</span></span>
<span id="cb129-9"><a href="garimpo-do-lourenço.html#cb129-9" tabindex="-1"></a><span class="co"># Agrupando por tipo (natural e antropico)</span></span>
<span id="cb129-10"><a href="garimpo-do-lourenço.html#cb129-10" tabindex="-1"></a><span class="co"># Com cores conforme legenda da Mapbiomas Coleção 6</span></span>
<span id="cb129-11"><a href="garimpo-do-lourenço.html#cb129-11" tabindex="-1"></a><span class="co"># Corrigindo texto dos eixos.</span></span>
<span id="cb129-12"><a href="garimpo-do-lourenço.html#cb129-12" tabindex="-1"></a><span class="co"># Mudar posição da leganda para o texto com nomes longas encaixar.</span></span>
<span id="cb129-13"><a href="garimpo-do-lourenço.html#cb129-13" tabindex="-1"></a>metricas_tab <span class="sc">|&gt;</span> </span>
<span id="cb129-14"><a href="garimpo-do-lourenço.html#cb129-14" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">class_prop =</span> pland) <span class="sc">|&gt;</span> </span>
<span id="cb129-15"><a href="garimpo-do-lourenço.html#cb129-15" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> type_class, <span class="at">y =</span> class_prop, </span>
<span id="cb129-16"><a href="garimpo-do-lourenço.html#cb129-16" tabindex="-1"></a><span class="at">fill =</span> classe_descricao)) <span class="sc">+</span> </span>
<span id="cb129-17"><a href="garimpo-do-lourenço.html#cb129-17" tabindex="-1"></a><span class="fu">scale_fill_manual</span>(<span class="st">&quot;classe&quot;</span>, <span class="at">values =</span> classe_cores) <span class="sc">+</span></span>
<span id="cb129-18"><a href="garimpo-do-lourenço.html#cb129-18" tabindex="-1"></a><span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_dodge2</span>(<span class="at">width =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb129-19"><a href="garimpo-do-lourenço.html#cb129-19" tabindex="-1"></a><span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb129-20"><a href="garimpo-do-lourenço.html#cb129-20" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MapBiomas cobertura da terra&quot;</span>, </span>
<span id="cb129-21"><a href="garimpo-do-lourenço.html#cb129-21" tabindex="-1"></a><span class="at">subtitle =</span> <span class="st">&quot;Entorno do Garimpo do Lorenço 1985&quot;</span>,</span>
<span id="cb129-22"><a href="garimpo-do-lourenço.html#cb129-22" tabindex="-1"></a><span class="at">y =</span> <span class="st">&quot;Proporção da paisagem (%)&quot;</span>, </span>
<span id="cb129-23"><a href="garimpo-do-lourenço.html#cb129-23" tabindex="-1"></a><span class="at">x =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb129-24"><a href="garimpo-do-lourenço.html#cb129-24" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span> </span>
<span id="cb129-25"><a href="garimpo-do-lourenço.html#cb129-25" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">4</span>))</span></code></pre></div>
<p>Uma imagem vale mais que mil palavras:</p>
<p><img src="figures/fig_cobertura.png" alt="cobertura" width="680" height="300"/></p>
<p>Mas existe uma separação grande na faixa de valores e ainda é difícil de ver todas as classes. Temos uma distribuição com valores muito mais altos comparada com os outros. extremos. Uma solução seria uma transformação (por exemplo “log”), assim os valores ficarem mais proximos.</p>
</div>
<div id="gráfico-de-boxplot" class="section level4 hasAnchor" number="5.6.4.2">
<h4><span class="header-section-number">5.6.4.2</span> Gráfico de boxplot<a href="garimpo-do-lourenço.html#gráfico-de-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Agora com uma métrica de configuração:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="garimpo-do-lourenço.html#cb130-1" tabindex="-1"></a><span class="co"># Métrica de configuração: Densidade de manchas (coluna &quot;pd&quot;).</span></span>
<span id="cb130-2"><a href="garimpo-do-lourenço.html#cb130-2" tabindex="-1"></a><span class="co"># Agrupando por tipo (natural e antrópico)</span></span>
<span id="cb130-3"><a href="garimpo-do-lourenço.html#cb130-3" tabindex="-1"></a><span class="co"># Incluindo boxplot indicando tendência central (mediano)</span></span>
<span id="cb130-4"><a href="garimpo-do-lourenço.html#cb130-4" tabindex="-1"></a><span class="co"># Com cores conforme legenda da Mapbiomas Coleção 6</span></span>
<span id="cb130-5"><a href="garimpo-do-lourenço.html#cb130-5" tabindex="-1"></a><span class="co"># Tamanho dos pontos proporcional o numero de manchas</span></span>
<span id="cb130-6"><a href="garimpo-do-lourenço.html#cb130-6" tabindex="-1"></a><span class="co"># Corrigindo texto dos eixos.</span></span>
<span id="cb130-7"><a href="garimpo-do-lourenço.html#cb130-7" tabindex="-1"></a><span class="co"># Mudar posição da leganda para o texto com nomes longas encaixar.</span></span>
<span id="cb130-8"><a href="garimpo-do-lourenço.html#cb130-8" tabindex="-1"></a>metricas_tab <span class="sc">|&gt;</span> </span>
<span id="cb130-9"><a href="garimpo-do-lourenço.html#cb130-9" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> type_class, <span class="at">y =</span> pd)) <span class="sc">+</span> </span>
<span id="cb130-10"><a href="garimpo-do-lourenço.html#cb130-10" tabindex="-1"></a><span class="fu">geom_boxplot</span>(<span class="at">colour =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span></span>
<span id="cb130-11"><a href="garimpo-do-lourenço.html#cb130-11" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> np, <span class="at">colour =</span> classe_descricao)) <span class="sc">+</span> </span>
<span id="cb130-12"><a href="garimpo-do-lourenço.html#cb130-12" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="st">&quot;classe&quot;</span>, <span class="at">values =</span> classe_cores) <span class="sc">+</span></span>
<span id="cb130-13"><a href="garimpo-do-lourenço.html#cb130-13" tabindex="-1"></a><span class="fu">scale_size</span>(<span class="at">guide =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb130-14"><a href="garimpo-do-lourenço.html#cb130-14" tabindex="-1"></a><span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb130-15"><a href="garimpo-do-lourenço.html#cb130-15" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MapBiomas cobertura da terra&quot;</span>, </span>
<span id="cb130-16"><a href="garimpo-do-lourenço.html#cb130-16" tabindex="-1"></a><span class="at">subtitle =</span> <span class="st">&quot;Entorno do Garimpo do Lorenço 1985&quot;</span>,</span>
<span id="cb130-17"><a href="garimpo-do-lourenço.html#cb130-17" tabindex="-1"></a><span class="at">y =</span> <span class="st">&quot;Densidade de manchas (número por 100 hectares)&quot;</span>, </span>
<span id="cb130-18"><a href="garimpo-do-lourenço.html#cb130-18" tabindex="-1"></a><span class="at">x =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb130-19"><a href="garimpo-do-lourenço.html#cb130-19" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>) <span class="sc">+</span> </span>
<span id="cb130-20"><a href="garimpo-do-lourenço.html#cb130-20" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">col =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">4</span>)) </span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-80-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="comparação-entre-anos" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> Comparação entre anos<a href="garimpo-do-lourenço.html#comparação-entre-anos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Calcular as métricas para 3 anos.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="garimpo-do-lourenço.html#cb131-1" tabindex="-1"></a><span class="co"># metricas desejados</span></span>
<span id="cb131-2"><a href="garimpo-do-lourenço.html#cb131-2" tabindex="-1"></a>what_metricas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;lsm_c_pland&quot;</span>, <span class="st">&quot;lsm_c_lpi&quot;</span>, <span class="st">&quot;lsm_c_area_mn&quot;</span>, <span class="st">&quot;lsm_c_area_sd&quot;</span>, </span>
<span id="cb131-3"><a href="garimpo-do-lourenço.html#cb131-3" tabindex="-1"></a>                   <span class="st">&quot;lsm_c_ai&quot;</span>, <span class="st">&quot;lsm_c_cohesion&quot;</span>, <span class="st">&quot;lsm_c_np&quot;</span>, <span class="st">&quot;lsm_c_pd&quot;</span>)</span>
<span id="cb131-4"><a href="garimpo-do-lourenço.html#cb131-4" tabindex="-1"></a><span class="co"># rodar</span></span>
<span id="cb131-5"><a href="garimpo-do-lourenço.html#cb131-5" tabindex="-1"></a>metricas_anos <span class="ot">&lt;-</span> <span class="fu">sample_lsm</span>(<span class="at">landscape =</span> mapbiomas_85a20, </span>
<span id="cb131-6"><a href="garimpo-do-lourenço.html#cb131-6" tabindex="-1"></a>                            <span class="at">y =</span> acesso_buffers,</span>
<span id="cb131-7"><a href="garimpo-do-lourenço.html#cb131-7" tabindex="-1"></a>                           <span class="at">plot_id =</span> <span class="fu">data.frame</span>(acesso_buffers)[, <span class="st">&#39;raio_km&#39;</span>],</span>
<span id="cb131-8"><a href="garimpo-do-lourenço.html#cb131-8" tabindex="-1"></a>                             <span class="at">what =</span> what_metricas, </span>
<span id="cb131-9"><a href="garimpo-do-lourenço.html#cb131-9" tabindex="-1"></a>                           <span class="at">edge_depth =</span> <span class="dv">1</span>)</span>
<span id="cb131-10"><a href="garimpo-do-lourenço.html#cb131-10" tabindex="-1"></a></span>
<span id="cb131-11"><a href="garimpo-do-lourenço.html#cb131-11" tabindex="-1"></a><span class="co"># Organizar dados</span></span>
<span id="cb131-12"><a href="garimpo-do-lourenço.html#cb131-12" tabindex="-1"></a><span class="co"># Dados rferentes os buffers</span></span>
<span id="cb131-13"><a href="garimpo-do-lourenço.html#cb131-13" tabindex="-1"></a>resultados_anos <span class="ot">&lt;-</span> acesso_buffers <span class="sc">|&gt;</span> </span>
<span id="cb131-14"><a href="garimpo-do-lourenço.html#cb131-14" tabindex="-1"></a>  <span class="fu">left_join</span>(metricas_anos <span class="sc">|&gt;</span></span>
<span id="cb131-15"><a href="garimpo-do-lourenço.html#cb131-15" tabindex="-1"></a>              dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">round</span>(value,<span class="dv">2</span>), </span>
<span id="cb131-16"><a href="garimpo-do-lourenço.html#cb131-16" tabindex="-1"></a>         <span class="at">ano =</span> <span class="fu">case_when</span>(layer<span class="sc">==</span><span class="dv">1</span> <span class="sc">~</span><span class="dv">1985</span>, </span>
<span id="cb131-17"><a href="garimpo-do-lourenço.html#cb131-17" tabindex="-1"></a>                         layer<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="dv">2003</span>, </span>
<span id="cb131-18"><a href="garimpo-do-lourenço.html#cb131-18" tabindex="-1"></a>                         layer<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span><span class="dv">2020</span>)) <span class="sc">|&gt;</span></span>
<span id="cb131-19"><a href="garimpo-do-lourenço.html#cb131-19" tabindex="-1"></a>              dplyr<span class="sc">::</span><span class="fu">select</span>(ano, plot_id, class, metric, value), </span>
<span id="cb131-20"><a href="garimpo-do-lourenço.html#cb131-20" tabindex="-1"></a>            <span class="at">by=</span><span class="fu">c</span>(<span class="st">&quot;raio_km&quot;</span><span class="ot">=</span><span class="st">&quot;plot_id&quot;</span>))</span>
<span id="cb131-21"><a href="garimpo-do-lourenço.html#cb131-21" tabindex="-1"></a><span class="co"># Dados referentes os classes</span></span>
<span id="cb131-22"><a href="garimpo-do-lourenço.html#cb131-22" tabindex="-1"></a>resultados_anos <span class="ot">&lt;-</span> resultados_anos <span class="sc">|&gt;</span></span>
<span id="cb131-23"><a href="garimpo-do-lourenço.html#cb131-23" tabindex="-1"></a><span class="fu">left_join</span>(class_nomes, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;class&quot;</span> <span class="ot">=</span> <span class="st">&quot;aid&quot;</span>))</span></code></pre></div>
<p>Agora grafico de barra com varios anos</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="garimpo-do-lourenço.html#cb132-1" tabindex="-1"></a><span class="co"># It&#39;s recommended to use a named vector</span></span>
<span id="cb132-2"><a href="garimpo-do-lourenço.html#cb132-2" tabindex="-1"></a><span class="co"># Legenda nomes ordem alfabetica</span></span>
<span id="cb132-3"><a href="garimpo-do-lourenço.html#cb132-3" tabindex="-1"></a>classe_cores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Campo Alagado e Área Pantanosa&quot;</span> <span class="ot">=</span> <span class="st">&quot;#45C2A5&quot;</span>, </span>
<span id="cb132-4"><a href="garimpo-do-lourenço.html#cb132-4" tabindex="-1"></a><span class="st">&quot;Formação Campestre&quot;</span> <span class="ot">=</span> <span class="st">&quot;#B8AF4F&quot;</span>, </span>
<span id="cb132-5"><a href="garimpo-do-lourenço.html#cb132-5" tabindex="-1"></a><span class="st">&quot;Formação Florestal&quot;</span> <span class="ot">=</span> <span class="st">&quot;#006400&quot;</span>, </span>
<span id="cb132-6"><a href="garimpo-do-lourenço.html#cb132-6" tabindex="-1"></a><span class="st">&quot;Formação Savânica&quot;</span> <span class="ot">=</span> <span class="st">&quot;#00ff00&quot;</span>, </span>
<span id="cb132-7"><a href="garimpo-do-lourenço.html#cb132-7" tabindex="-1"></a><span class="st">&quot;Mineração&quot;</span> <span class="ot">=</span> <span class="st">&quot;#af2a2a&quot;</span>, </span>
<span id="cb132-8"><a href="garimpo-do-lourenço.html#cb132-8" tabindex="-1"></a><span class="st">&quot;Pastagem&quot;</span> <span class="ot">=</span> <span class="st">&quot;#FFD966&quot;</span>, </span>
<span id="cb132-9"><a href="garimpo-do-lourenço.html#cb132-9" tabindex="-1"></a><span class="st">&quot;Rio, Lago e Oceano&quot;</span> <span class="ot">=</span> <span class="st">&quot;#0000FF&quot;</span>,</span>
<span id="cb132-10"><a href="garimpo-do-lourenço.html#cb132-10" tabindex="-1"></a><span class="st">&quot;Outras Lavouras Temporárias&quot;</span> <span class="ot">=</span> <span class="st">&quot;#e787f8&quot;</span>) </span>
<span id="cb132-11"><a href="garimpo-do-lourenço.html#cb132-11" tabindex="-1"></a></span>
<span id="cb132-12"><a href="garimpo-do-lourenço.html#cb132-12" tabindex="-1"></a>resultados_anos <span class="sc">|&gt;</span> </span>
<span id="cb132-13"><a href="garimpo-do-lourenço.html#cb132-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rcor =</span> <span class="fu">paste</span>(<span class="st">&quot;#&quot;</span>, hexadecimal_code, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb132-14"><a href="garimpo-do-lourenço.html#cb132-14" tabindex="-1"></a>  <span class="fu">filter</span>(metric<span class="sc">==</span><span class="st">&quot;pland&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb132-15"><a href="garimpo-do-lourenço.html#cb132-15" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ano, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb132-16"><a href="garimpo-do-lourenço.html#cb132-16" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position=</span><span class="st">&quot;stack&quot;</span>, <span class="fu">aes</span>(<span class="at">fill=</span>classe_descricao)) <span class="sc">+</span> </span>
<span id="cb132-17"><a href="garimpo-do-lourenço.html#cb132-17" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> classe_cores) <span class="sc">+</span></span>
<span id="cb132-18"><a href="garimpo-do-lourenço.html#cb132-18" tabindex="-1"></a>  <span class="fu">facet_grid</span>(raio_km<span class="sc">~</span>type_class)</span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>
<p>Agora com “pland” e densidade de manchas juntos.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="garimpo-do-lourenço.html#cb133-1" tabindex="-1"></a>resultados_anos <span class="sc">|&gt;</span> </span>
<span id="cb133-2"><a href="garimpo-do-lourenço.html#cb133-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rcor =</span> <span class="fu">paste</span>(<span class="st">&quot;#&quot;</span>, hexadecimal_code, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb133-3"><a href="garimpo-do-lourenço.html#cb133-3" tabindex="-1"></a>  <span class="fu">filter</span>(metric<span class="sc">==</span><span class="st">&quot;pland&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb133-4"><a href="garimpo-do-lourenço.html#cb133-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ano, <span class="at">y=</span>value)) <span class="sc">+</span> </span>
<span id="cb133-5"><a href="garimpo-do-lourenço.html#cb133-5" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position=</span><span class="st">&quot;stack&quot;</span>, <span class="fu">aes</span>(<span class="at">fill=</span>classe_descricao)) <span class="sc">+</span> </span>
<span id="cb133-6"><a href="garimpo-do-lourenço.html#cb133-6" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">&quot;classe&quot;</span>, <span class="at">values =</span> classe_cores) <span class="sc">+</span></span>
<span id="cb133-7"><a href="garimpo-do-lourenço.html#cb133-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">50</span>,<span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb133-8"><a href="garimpo-do-lourenço.html#cb133-8" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">1985</span>,<span class="dv">2003</span>, <span class="dv">2020</span>)) <span class="sc">+</span></span>
<span id="cb133-9"><a href="garimpo-do-lourenço.html#cb133-9" tabindex="-1"></a>  <span class="fu">facet_grid</span>(raio_km<span class="sc">~</span>type_class) <span class="sc">+</span> </span>
<span id="cb133-10"><a href="garimpo-do-lourenço.html#cb133-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MapBiomas cobertura da terra&quot;</span>, </span>
<span id="cb133-11"><a href="garimpo-do-lourenço.html#cb133-11" tabindex="-1"></a><span class="at">subtitle =</span> <span class="st">&quot;Entorno do Garimpo do Lorenço 1985-2020&quot;</span>,</span>
<span id="cb133-12"><a href="garimpo-do-lourenço.html#cb133-12" tabindex="-1"></a><span class="at">y =</span> <span class="st">&quot;Porcentagem da paisagem&quot;</span>, </span>
<span id="cb133-13"><a href="garimpo-do-lourenço.html#cb133-13" tabindex="-1"></a><span class="at">x =</span> <span class="st">&quot;Ano&quot;</span>) <span class="sc">+</span> </span>
<span id="cb133-14"><a href="garimpo-do-lourenço.html#cb133-14" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb133-15"><a href="garimpo-do-lourenço.html#cb133-15" tabindex="-1"></a>      <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>), </span>
<span id="cb133-16"><a href="garimpo-do-lourenço.html#cb133-16" tabindex="-1"></a>              <span class="at">legend.text  =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>),</span>
<span id="cb133-17"><a href="garimpo-do-lourenço.html#cb133-17" tabindex="-1"></a>              <span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">&quot;lines&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb133-18"><a href="garimpo-do-lourenço.html#cb133-18" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">4</span>)) <span class="ot">-&gt;</span> fig_pland</span>
<span id="cb133-19"><a href="garimpo-do-lourenço.html#cb133-19" tabindex="-1"></a></span>
<span id="cb133-20"><a href="garimpo-do-lourenço.html#cb133-20" tabindex="-1"></a><span class="co"># Densidade de manchas</span></span>
<span id="cb133-21"><a href="garimpo-do-lourenço.html#cb133-21" tabindex="-1"></a>resultados_anos <span class="sc">|&gt;</span> </span>
<span id="cb133-22"><a href="garimpo-do-lourenço.html#cb133-22" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rcor =</span> <span class="fu">paste</span>(<span class="st">&quot;#&quot;</span>, hexadecimal_code, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb133-23"><a href="garimpo-do-lourenço.html#cb133-23" tabindex="-1"></a>  <span class="fu">filter</span>(metric<span class="sc">==</span><span class="st">&quot;pd&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb133-24"><a href="garimpo-do-lourenço.html#cb133-24" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(ano), <span class="at">y =</span> value)) <span class="sc">+</span> </span>
<span id="cb133-25"><a href="garimpo-do-lourenço.html#cb133-25" tabindex="-1"></a><span class="fu">geom_boxplot</span>(<span class="at">colour =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span> </span>
<span id="cb133-26"><a href="garimpo-do-lourenço.html#cb133-26" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> classe_descricao)) <span class="sc">+</span> </span>
<span id="cb133-27"><a href="garimpo-do-lourenço.html#cb133-27" tabindex="-1"></a><span class="fu">scale_color_manual</span>(<span class="st">&quot;classe&quot;</span>, <span class="at">values =</span> classe_cores) <span class="sc">+</span></span>
<span id="cb133-28"><a href="garimpo-do-lourenço.html#cb133-28" tabindex="-1"></a><span class="fu">scale_size</span>(<span class="at">guide =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span> </span>
<span id="cb133-29"><a href="garimpo-do-lourenço.html#cb133-29" tabindex="-1"></a><span class="fu">facet_grid</span>(raio_km<span class="sc">~</span>type_class) <span class="sc">+</span></span>
<span id="cb133-30"><a href="garimpo-do-lourenço.html#cb133-30" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MapBiomas cobertura da terra&quot;</span>, </span>
<span id="cb133-31"><a href="garimpo-do-lourenço.html#cb133-31" tabindex="-1"></a><span class="at">subtitle =</span> <span class="st">&quot;Entorno do Garimpo do Lorenço 1985-2020&quot;</span>,</span>
<span id="cb133-32"><a href="garimpo-do-lourenço.html#cb133-32" tabindex="-1"></a><span class="at">y =</span> <span class="st">&quot;Densidade de manchas (número por 100 hectares)&quot;</span>, </span>
<span id="cb133-33"><a href="garimpo-do-lourenço.html#cb133-33" tabindex="-1"></a><span class="at">x =</span> <span class="st">&quot;Ano&quot;</span>) <span class="sc">+</span> </span>
<span id="cb133-34"><a href="garimpo-do-lourenço.html#cb133-34" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>, </span>
<span id="cb133-35"><a href="garimpo-do-lourenço.html#cb133-35" tabindex="-1"></a>      <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>), </span>
<span id="cb133-36"><a href="garimpo-do-lourenço.html#cb133-36" tabindex="-1"></a>              <span class="at">legend.text  =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">3</span>),</span>
<span id="cb133-37"><a href="garimpo-do-lourenço.html#cb133-37" tabindex="-1"></a>              <span class="at">legend.key.size =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">&quot;lines&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb133-38"><a href="garimpo-do-lourenço.html#cb133-38" tabindex="-1"></a><span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">4</span>)) <span class="ot">-&gt;</span> fig_pd</span>
<span id="cb133-39"><a href="garimpo-do-lourenço.html#cb133-39" tabindex="-1"></a></span>
<span id="cb133-40"><a href="garimpo-do-lourenço.html#cb133-40" tabindex="-1"></a><span class="fu">grid.arrange</span>(fig_pland, fig_pd, <span class="at">nrow=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
</div>
<div id="comparação-entre-anos-e-paisagens" class="section level2 hasAnchor" number="5.8">
<h2><span class="header-section-number">5.8</span> Comparação entre anos e paisagens<a href="garimpo-do-lourenço.html#comparação-entre-anos-e-paisagens" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Aqui compararemos as mudanças na cobertura e uso da terra entre dois garimpos: Garimpo do Lourenço e Garimpo do Vila Nova. Como eles estão separados por aproximadamente 200 quilômetros em linha reta, iremos processar os dois separadamente e depois combinar os resultados.</p>
<div id="dados-anos" class="section level3 hasAnchor" number="5.8.1">
<h3><span class="header-section-number">5.8.1</span> Dados: anos<a href="garimpo-do-lourenço.html#dados-anos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Para Vila Nova, vamos incluir buffers com os mesmos raios do que fizemos para Garimpo do Lourenço.</p>
<div id="dados-vetor-anos" class="section level4 hasAnchor" number="5.8.1.1">
<h4><span class="header-section-number">5.8.1.1</span> Dados vetor: anos<a href="garimpo-do-lourenço.html#dados-vetor-anos" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="garimpo-do-lourenço.html#cb134-1" tabindex="-1"></a><span class="co"># Tabela de dados com coordenados.</span></span>
<span id="cb134-2"><a href="garimpo-do-lourenço.html#cb134-2" tabindex="-1"></a>acesso_vn <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nome =</span> <span class="st">&quot;garimpo do Vila Nova&quot;</span>, </span>
<span id="cb134-3"><a href="garimpo-do-lourenço.html#cb134-3" tabindex="-1"></a>           <span class="at">coord_x =</span> <span class="sc">-</span><span class="fl">51.735512</span>, </span>
<span id="cb134-4"><a href="garimpo-do-lourenço.html#cb134-4" tabindex="-1"></a>           <span class="at">coord_y =</span> <span class="fl">0.402381</span>)</span>
<span id="cb134-5"><a href="garimpo-do-lourenço.html#cb134-5" tabindex="-1"></a>           </span>
<span id="cb134-6"><a href="garimpo-do-lourenço.html#cb134-6" tabindex="-1"></a><span class="co"># Converter para objeto espacial, com sistema de coordenados geográfica.</span></span>
<span id="cb134-7"><a href="garimpo-do-lourenço.html#cb134-7" tabindex="-1"></a>sf_acesso_vn <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(acesso_vn, </span>
<span id="cb134-8"><a href="garimpo-do-lourenço.html#cb134-8" tabindex="-1"></a>               <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;coord_x&quot;</span>, <span class="st">&quot;coord_y&quot;</span>),</span>
<span id="cb134-9"><a href="garimpo-do-lourenço.html#cb134-9" tabindex="-1"></a>            <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb134-10"><a href="garimpo-do-lourenço.html#cb134-10" tabindex="-1"></a></span>
<span id="cb134-11"><a href="garimpo-do-lourenço.html#cb134-11" tabindex="-1"></a><span class="co"># Agora fazer os buffers</span></span>
<span id="cb134-12"><a href="garimpo-do-lourenço.html#cb134-12" tabindex="-1"></a><span class="co"># Reprojetar o ponto.</span></span>
<span id="cb134-13"><a href="garimpo-do-lourenço.html#cb134-13" tabindex="-1"></a>sf_acesso_vn_utm <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(sf_acesso_vn, <span class="at">crs =</span> <span class="dv">31976</span>)</span>
<span id="cb134-14"><a href="garimpo-do-lourenço.html#cb134-14" tabindex="-1"></a><span class="co"># Polígono com raio de 500 metros no entorno do ponto.</span></span>
<span id="cb134-15"><a href="garimpo-do-lourenço.html#cb134-15" tabindex="-1"></a>sf_acesso_vn_500m <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_vn_utm, <span class="at">dist=</span><span class="dv">500</span>) <span class="sc">|&gt;</span></span>
<span id="cb134-16"><a href="garimpo-do-lourenço.html#cb134-16" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="fl">0.5</span>)</span>
<span id="cb134-17"><a href="garimpo-do-lourenço.html#cb134-17" tabindex="-1"></a><span class="co"># Polígono com raio de 1 km no entorno do ponto.</span></span>
<span id="cb134-18"><a href="garimpo-do-lourenço.html#cb134-18" tabindex="-1"></a>sf_acesso_vn_1km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_vn_utm, <span class="at">dist=</span><span class="dv">1000</span>) <span class="sc">|&gt;</span></span>
<span id="cb134-19"><a href="garimpo-do-lourenço.html#cb134-19" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">1</span>)</span>
<span id="cb134-20"><a href="garimpo-do-lourenço.html#cb134-20" tabindex="-1"></a><span class="co"># Polígono com raio de 2 km no entorno do ponto.</span></span>
<span id="cb134-21"><a href="garimpo-do-lourenço.html#cb134-21" tabindex="-1"></a>sf_acesso_vn_2km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_vn_utm, <span class="at">dist=</span><span class="dv">2000</span>) <span class="sc">|&gt;</span></span>
<span id="cb134-22"><a href="garimpo-do-lourenço.html#cb134-22" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">2</span>)</span>
<span id="cb134-23"><a href="garimpo-do-lourenço.html#cb134-23" tabindex="-1"></a><span class="co"># Polígono com raio de 4 km no entorno do ponto.</span></span>
<span id="cb134-24"><a href="garimpo-do-lourenço.html#cb134-24" tabindex="-1"></a>sf_acesso_vn_4km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_vn_utm, <span class="at">dist=</span><span class="dv">4000</span>) <span class="sc">|&gt;</span></span>
<span id="cb134-25"><a href="garimpo-do-lourenço.html#cb134-25" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">4</span>)</span>
<span id="cb134-26"><a href="garimpo-do-lourenço.html#cb134-26" tabindex="-1"></a><span class="co"># Polígono com raio de 20 km no entorno do ponto.</span></span>
<span id="cb134-27"><a href="garimpo-do-lourenço.html#cb134-27" tabindex="-1"></a>sf_acesso_vn_20km <span class="ot">&lt;-</span> <span class="fu">st_buffer</span>(sf_acesso_vn_utm, </span>
<span id="cb134-28"><a href="garimpo-do-lourenço.html#cb134-28" tabindex="-1"></a>                               <span class="at">dist=</span><span class="dv">20000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb134-29"><a href="garimpo-do-lourenço.html#cb134-29" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">raio_km =</span> <span class="dv">20</span>)</span>
<span id="cb134-30"><a href="garimpo-do-lourenço.html#cb134-30" tabindex="-1"></a></span>
<span id="cb134-31"><a href="garimpo-do-lourenço.html#cb134-31" tabindex="-1"></a>acesso_buffers_vn <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(sf_acesso_vn_500m, </span>
<span id="cb134-32"><a href="garimpo-do-lourenço.html#cb134-32" tabindex="-1"></a>                               sf_acesso_vn_1km, </span>
<span id="cb134-33"><a href="garimpo-do-lourenço.html#cb134-33" tabindex="-1"></a>                            sf_acesso_vn_2km, </span>
<span id="cb134-34"><a href="garimpo-do-lourenço.html#cb134-34" tabindex="-1"></a>                            sf_acesso_vn_4km)</span></code></pre></div>
<p>Verificar:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="garimpo-do-lourenço.html#cb135-1" tabindex="-1"></a><span class="fu">mapview</span>(sf_acesso_vn) <span class="sc">+</span> </span>
<span id="cb135-2"><a href="garimpo-do-lourenço.html#cb135-2" tabindex="-1"></a>  <span class="fu">mapview</span>(sf_acesso_vn_20km)</span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-55f355874e4516f9e674" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-55f355874e4516f9e674">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[0.402381,-51.735512,6,null,"sf_acesso_vn",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>nome&emsp;<\/th><td>garimpo do Vila Nova&emsp;<\/td><\/tr><tr><td>2<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"garimpo do Vila Nova",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-51.735512,0.402381,-51.735512,0.402381,true,"sf_acesso_vn","Zoom to sf_acesso_vn","<strong> sf_acesso_vn <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["garimpo do Vila Nova"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"sf_acesso_vn"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-51.55578420921313,-51.55602989050286,-51.55676754143281,-51.5579951382194,-51.55970931403989,-51.56190536827786,-51.56457727942393,-51.56771772159616,-51.57131808463507,-51.57536849771822,-51.57985785642964,-51.58477385321039,-51.59010301110659,-51.59583072072285,-51.60194128027999,-51.60841793866727,-51.61524294137146,-51.62239757915694,-51.62986223936338,-51.63761645968053,-51.64563898425278,-51.65390782195944,-51.66240030671102,-51.67109315959598,-51.67996255270747,-51.68898417447455,-51.69813329631881,-51.70738484045296,-51.71671344863541,-51.72609355169167,-51.73549943961172,-51.74490533203075,-51.75428544889949,-51.76361408115012,-51.77286566116366,-51.78201483284529,-51.79103652111537,-51.79990600062528,-51.80859896350995,-51.81709158599097,-51.82536059364809,-51.83338332518024,-51.84113779448155,-51.84860275086285,-51.85575773725367,-51.86258314622606,-51.86906027368736,-51.8751713700952,-51.88089968905543,-51.88622953317047,-51.89114629701326,-51.89563650711003,-51.89968785882296,-51.90328925003278,-51.90643081152953,-51.90910393402913,-51.91130129174237,-51.91301686243218,-51.91424594390497,-51.91498516689101,-51.91523250427879,-51.9149872766785,-51.91425015429894,-51.91302315513293,-51.91130963945578,-51.90911430065143,-51.90644315239108,-51.90330351219855,-51.89970398144689,-51.89565442184005,-51.89116592844327,-51.8862507993351,-51.88092250196311,-51.87519563629464,-51.86908589486244,-51.86261001981365,-51.85578575707896,-51.84863180778664,-51.84116777705356,-51.83341412029311,-51.82539208718626,-51.81712366346886,-51.80863151069443,-51.79993890413705,-51.79106966900458,-51.7820481151369,-51.77289897036838,-51.76364731273735,-51.75431850172886,-51.7449381087396,-51.73553184695619,-51.72612550083966,-51.71674485541021,-51.70741562552686,-51.69816338535657,-51.6890134982272,-51.67999104705722,-51.67112076555396,-51.66242697036952,-51.65393349440139,-51.64566362142094,-51.63764002221011,-51.62988469238127,-51.62241889205179,-51.61526308753864,-51.60843689523321,-51.60195902781046,-51.59584724291979,-51.59011829449834,-51.58478788684001,-51.57987063154592,-51.57538000747407,-51.57132832379764,-51.56772668627274,-51.56458496680781,-51.56191177641747,-51.55971444163463,-51.55799898444501,-51.55677010579863,-51.556031172743,-51.55578420921313],"lat":[0.4023953196646795,0.3929257600098898,0.3834821240873811,0.3740902984874999,0.3647760276745595,0.3555648434094391,0.346481994755882,0.3375523788622634,0.3288004727084868,0.3202502660050502,0.3119251954281898,0.3038480803713747,0.2960410603893077,0.2885255345059781,0.2813221025532379,0.2744505087008354,0.2679295873328699,0.2617772114192108,0.256010243523619,0.2506444895830795,0.2456946555852728,0.2411743072631613,0.2370958329173841,0.2334704094685633,0.2303079718327406,0.2276171857040176,0.2254054238190901,0.2236787457687711,0.2224418814118171,0.2216982179364368,0.2214497906047996,0.2216972772056961,0.2224399962302749,0.2236759087755102,0.22540162416977,0.2276124093046037,0.230302201646652,0.2334636258934549,0.2370880142269141,0.2411654301082821,0.2456846955488292,0.2506334217808213,0.2559980432441266,0.2617638547947179,0.2679150520325357,0.2744347746376889,0.28130515259578,0.2885073551853022,0.2960216425925636,0.303827420012487,0.3119032940869157,0.3202271315257494,0.3287761197503531,0.3375268293932499,0.3464552784831119,0.3555369981395512,0.3647470995981595,0.3740603423826869,0.3834512034381738,0.3928939470362878,0.4023626952620388,0.4118314988894939,0.4212744084530688,0.4306655453204359,0.4399791725730791,0.4491897655010257,0.4582720815192998,0.4672012293151744,0.4759527370373385,0.4845026193406409,0.4928274431031161,0.5009043916355459,0.5087113272078249,0.5162268517209118,0.5234303653581152,0.5303021230548837,0.5368232886321523,0.5429759864445802,0.5487433504017376,0.5541095702274066,0.5590599348296467,0.5635808726621283,0.5676599889654287,0.5712860997854896,0.5744492626752393,0.5771408039944672,0.5793533427323521,0.5810808107865955,0.5823184696428556,0.5830629234080761,0.583312128161357,0.5830653975961663,0.5823234049379326,0.5810881811313394,0.5793631093019534,0.5771529155071184,0.5744636558013034,0.5713026996512786,0.5676787097465914,0.5636016182607675,0.5590825996284654,0.5541340399134378,0.5487695028515427,0.5430036926622258,0.536852413730778,0.5303325272722936,0.5234619050965283,0.5162593806008258,0.5087446971258709,0.5009384538162415,0.4928620491345543,0.4845376221844003,0.4759879920032392,0.4672365949919429,0.4583074206527444,0.4492249458119401,0.4400140675077951,0.4307000347277211,0.4213083791818963,0.411864845303109,0.4023953196646795]}]]],null,"sf_acesso_vn_20km",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>nome&emsp;<\/th><td>garimpo do Vila Nova&emsp;<\/td><\/tr><tr><td>2<\/td><th>geometry&emsp;<\/th><td>sfc_POLYGON&emsp;<\/td><\/tr><tr><td>3<\/td><th>raio_km&emsp;<\/th><td>20&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-51.91523250427879,0.2214497906047996,-51.55578420921313,0.583312128161357,true,"sf_acesso_vn_20km","Zoom to sf_acesso_vn_20km","<strong> sf_acesso_vn_20km <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["sf_acesso_vn","sf_acesso_vn_20km"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["sf_acesso_vn_20km"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"sf_acesso_vn_20km"}]},{"method":"addHomeButton","args":[-51.91523250427879,0.2214497906047996,-51.55578420921313,0.583312128161357,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[0.402381,0.402381],"lng":[-51.735512,-51.735512]},"fitBounds":[0.2214497906047996,-51.91523250427879,0.583312128161357,-51.55578420921313,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="dados-raster-anos" class="section level4 hasAnchor" number="5.8.1.2">
<h4><span class="header-section-number">5.8.1.2</span> Dados raster: anos<a href="garimpo-do-lourenço.html#dados-raster-anos" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Agora dados raster de Mapbiomas. Cópias são fornecidas no pacote eprdados. Um arquivo para cada garimpo. Cada arquivo é um raster que inclui múltiplas camadas, uma para cada ano.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="garimpo-do-lourenço.html#cb136-1" tabindex="-1"></a><span class="co"># arquivo no pacote &quot;eprdados&quot;</span></span>
<span id="cb136-2"><a href="garimpo-do-lourenço.html#cb136-2" tabindex="-1"></a>arquivo_l <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;raster/lorenco_85a22.tif&quot;</span>, </span>
<span id="cb136-3"><a href="garimpo-do-lourenço.html#cb136-3" tabindex="-1"></a>                       <span class="at">package =</span> <span class="st">&quot;eprdados&quot;</span>)</span>
<span id="cb136-4"><a href="garimpo-do-lourenço.html#cb136-4" tabindex="-1"></a>arquivo_vn <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;raster/vilanova_85a22.tif&quot;</span>, </span>
<span id="cb136-5"><a href="garimpo-do-lourenço.html#cb136-5" tabindex="-1"></a>                       <span class="at">package =</span> <span class="st">&quot;eprdados&quot;</span>)</span>
<span id="cb136-6"><a href="garimpo-do-lourenço.html#cb136-6" tabindex="-1"></a><span class="co"># carregar</span></span>
<span id="cb136-7"><a href="garimpo-do-lourenço.html#cb136-7" tabindex="-1"></a>r85a22_l <span class="ot">&lt;-</span> <span class="fu">rast</span>(arquivo_l)</span>
<span id="cb136-8"><a href="garimpo-do-lourenço.html#cb136-8" tabindex="-1"></a>r85a22_vn <span class="ot">&lt;-</span> <span class="fu">rast</span>(arquivo_vn)</span></code></pre></div>
</div>
</div>
<div id="mapa." class="section level3 hasAnchor" number="5.8.2">
<h3><span class="header-section-number">5.8.2</span> Mapa.<a href="garimpo-do-lourenço.html#mapa." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Primeiro queremos comparar visualmente as mudanças na cobertura da
terra ao longo do tempo. Para fazer isso, precisamos saber a que correspondem
os valores de classificação numérica nos rasters no mundo real.
Para entender o que os valores (3, 12, 33 … etc) representam no mundo real
precisamos de uma referência (legenda).
Para a MapBiomas Coleção 8,
baixar o arquivo: <a href="https://brasil.mapbiomas.org/wp-content/uploads/sites/4/2023/09/Codigos-da-legenda-colecao-8-csv.zip" target="_blank">https://brasil.mapbiomas.org/wp-content/uploads/sites/4/2023/09/Codigos-da-legenda-colecao-8-csv.zip</a> .
Lembre-se de descompactar e salvar em um local conhecido no seu computador.</p>
<p>Carregar a legenda do Mapbiomas.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="garimpo-do-lourenço.html#cb137-1" tabindex="-1"></a><span class="co"># Mapbiomas legend</span></span>
<span id="cb137-2"><a href="garimpo-do-lourenço.html#cb137-2" tabindex="-1"></a>legendfile <span class="ot">&lt;-</span> <span class="st">&quot;data/raster/mapbiomas/legend/Codigos-da-legenda-colecao-8.csv&quot;</span></span>
<span id="cb137-3"><a href="garimpo-do-lourenço.html#cb137-3" tabindex="-1"></a><span class="co"># Carregar a legenda e encurte alguns nomes de classes muito longos</span></span>
<span id="cb137-4"><a href="garimpo-do-lourenço.html#cb137-4" tabindex="-1"></a>mapbiomas_legend <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="fu">file.choose</span>(), <span class="at">as.is =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb137-5"><a href="garimpo-do-lourenço.html#cb137-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Descricao_novo =</span> <span class="fu">case_when</span>(Descricao <span class="sc">==</span> <span class="st">&quot;Campo Alagado e Área Pantanosa&quot;</span> <span class="sc">~</span> <span class="st">&quot;Campo Alagado&quot;</span>, </span>
<span id="cb137-6"><a href="garimpo-do-lourenço.html#cb137-6" tabindex="-1"></a>                                    Descricao <span class="sc">==</span> <span class="st">&quot;Outras Lavouras Temporárias&quot;</span> <span class="sc">~</span> <span class="st">&quot;Outras Lavouras&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb137-7"><a href="garimpo-do-lourenço.html#cb137-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Descricao =</span> <span class="fu">coalesce</span>(Descricao_novo, Descricao))</span>
<span id="cb137-8"><a href="garimpo-do-lourenço.html#cb137-8" tabindex="-1"></a></span>
<span id="cb137-9"><a href="garimpo-do-lourenço.html#cb137-9" tabindex="-1"></a><span class="co"># Nova coluna para identificar classes antroopicos:</span></span>
<span id="cb137-10"><a href="garimpo-do-lourenço.html#cb137-10" tabindex="-1"></a> antropico <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Agropecuária&quot;</span>, <span class="st">&quot;Pastagem&quot;</span>, <span class="st">&quot;Agricultura&quot;</span>, </span>
<span id="cb137-11"><a href="garimpo-do-lourenço.html#cb137-11" tabindex="-1"></a>                <span class="st">&quot;Lavoura Temporária&quot;</span>, <span class="st">&quot;Soja&quot;</span>,  <span class="st">&quot;Cana&quot;</span>, </span>
<span id="cb137-12"><a href="garimpo-do-lourenço.html#cb137-12" tabindex="-1"></a>                <span class="st">&quot;Arroz&quot;</span>, <span class="st">&quot;Algodão (beta)&quot;</span>,  <span class="st">&quot;Outras Lavouras&quot;</span> ,</span>
<span id="cb137-13"><a href="garimpo-do-lourenço.html#cb137-13" tabindex="-1"></a>                <span class="st">&quot;Lavoura Perene&quot;</span>, <span class="st">&quot;Café&quot;</span>, <span class="st">&quot;Citrus&quot;</span>, <span class="st">&quot;Dendê (beta)&quot;</span>, </span>
<span id="cb137-14"><a href="garimpo-do-lourenço.html#cb137-14" tabindex="-1"></a>                <span class="st">&quot;Outras Lavouras Perenes&quot;</span>, <span class="st">&quot;Silvicultura&quot;</span>, <span class="st">&quot;Mosaico de Usos&quot;</span>, </span>
<span id="cb137-15"><a href="garimpo-do-lourenço.html#cb137-15" tabindex="-1"></a>                <span class="st">&quot;Área Urbanizada&quot;</span>, <span class="st">&quot;Mineração&quot;</span>, <span class="st">&quot;Aquicultura&quot;</span>)</span>
<span id="cb137-16"><a href="garimpo-do-lourenço.html#cb137-16" tabindex="-1"></a> mapbiomas_legend<span class="sc">$</span>tipo <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(mapbiomas_legend<span class="sc">$</span>Descricao <span class="sc">%in%</span> antropico, </span>
<span id="cb137-17"><a href="garimpo-do-lourenço.html#cb137-17" tabindex="-1"></a>                          <span class="st">&quot;antropico&quot;</span>, <span class="st">&quot;natural&quot;</span>)</span></code></pre></div>
<div id="mapa-lourenço" class="section level4 hasAnchor" number="5.8.2.1">
<h4><span class="header-section-number">5.8.2.1</span> Mapa: Lourenço<a href="garimpo-do-lourenço.html#mapa-lourenço" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Aqui usamos a modal de três anos para suavizar a variação nas estimativas
de dados anuais da classificação de cobertura terrestre do MapBiomas.
Para os três anos usamos:</p>
<ul>
<li><ol style="list-style-type: lower-roman">
<li>o ano atual,</li>
</ol></li>
<li><ol start="2" style="list-style-type: lower-roman">
<li>o ano anterior e</li>
</ol></li>
<li><ol start="3" style="list-style-type: lower-roman">
<li>o ano seguinte.</li>
</ol></li>
</ul>
<p>Obter o valor modal de três anos para suavizar a variação na classificação
(mais detalhes no Capítulo <a href="cap03.html#cap03">3</a>):</p>
<ol style="list-style-type: decimal">
<li><p>Selecionar os três anos com <code>subset()</code> ,</p></li>
<li><p>Aggregar pixels para reduzir tempo de processamento <code>aggregate()</code> e</p></li>
<li><p>Calcular o valor modal de cada pixel para os três anos <code>modal()</code>.</p></li>
</ol>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="garimpo-do-lourenço.html#cb138-1" tabindex="-1"></a><span class="co"># 85 a 87</span></span>
<span id="cb138-2"><a href="garimpo-do-lourenço.html#cb138-2" tabindex="-1"></a>r86 <span class="ot">&lt;-</span> <span class="fu">subset</span>(r85a22_l, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb138-3"><a href="garimpo-do-lourenço.html#cb138-3" tabindex="-1"></a>r86_agg10 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(r86, <span class="at">fact=</span><span class="dv">5</span>, <span class="at">fun=</span><span class="st">&quot;modal&quot;</span>) </span>
<span id="cb138-4"><a href="garimpo-do-lourenço.html#cb138-4" tabindex="-1"></a>r86_agg10_mod <span class="ot">&lt;-</span> <span class="fu">modal</span>(r86_agg10, <span class="at">ties =</span> <span class="st">&quot;first&quot;</span>)</span>
<span id="cb138-5"><a href="garimpo-do-lourenço.html#cb138-5" tabindex="-1"></a><span class="fu">names</span>(r86_agg10_mod) <span class="ot">&lt;-</span> <span class="st">&quot;modal_85a87&quot;</span></span>
<span id="cb138-6"><a href="garimpo-do-lourenço.html#cb138-6" tabindex="-1"></a><span class="co"># 2020 a 2022</span></span>
<span id="cb138-7"><a href="garimpo-do-lourenço.html#cb138-7" tabindex="-1"></a>r21 <span class="ot">&lt;-</span> <span class="fu">subset</span>(r85a22_l, <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">36</span>))</span>
<span id="cb138-8"><a href="garimpo-do-lourenço.html#cb138-8" tabindex="-1"></a>r21_agg10 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(r21, <span class="at">fact=</span><span class="dv">5</span>, <span class="at">fun=</span><span class="st">&quot;modal&quot;</span>) </span>
<span id="cb138-9"><a href="garimpo-do-lourenço.html#cb138-9" tabindex="-1"></a>r21_agg10_mod <span class="ot">&lt;-</span> <span class="fu">modal</span>(r21_agg10, <span class="at">ties =</span> <span class="st">&quot;first&quot;</span>)</span>
<span id="cb138-10"><a href="garimpo-do-lourenço.html#cb138-10" tabindex="-1"></a><span class="fu">names</span>(r21_agg10_mod) <span class="ot">&lt;-</span> <span class="st">&quot;modal_20a22&quot;</span></span>
<span id="cb138-11"><a href="garimpo-do-lourenço.html#cb138-11" tabindex="-1"></a></span>
<span id="cb138-12"><a href="garimpo-do-lourenço.html#cb138-12" tabindex="-1"></a>r86a21 <span class="ot">&lt;-</span> <span class="fu">c</span>(r86_agg10_mod, r21_agg10_mod)</span></code></pre></div>
<p>Fazer legenda para rasters de 86 e 21.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="garimpo-do-lourenço.html#cb139-1" tabindex="-1"></a>classes_r86a21 <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">c</span>(<span class="fu">as.numeric</span>(<span class="fu">unlist</span>(<span class="fu">unique</span>(r86_agg10_mod))), </span>
<span id="cb139-2"><a href="garimpo-do-lourenço.html#cb139-2" tabindex="-1"></a>                                <span class="fu">as.numeric</span>(<span class="fu">unlist</span>(<span class="fu">unique</span>(r21_agg10_mod))) </span>
<span id="cb139-3"><a href="garimpo-do-lourenço.html#cb139-3" tabindex="-1"></a>                                )))</span>
<span id="cb139-4"><a href="garimpo-do-lourenço.html#cb139-4" tabindex="-1"></a>classes_l <span class="ot">&lt;-</span> mapbiomas_legend <span class="sc">|&gt;</span></span>
<span id="cb139-5"><a href="garimpo-do-lourenço.html#cb139-5" tabindex="-1"></a>  <span class="fu">filter</span>(Class_ID <span class="sc">%in%</span> classes_r86a21) <span class="sc">|&gt;</span> </span>
<span id="cb139-6"><a href="garimpo-do-lourenço.html#cb139-6" tabindex="-1"></a>  <span class="fu">arrange</span>(Class_ID)</span>
<span id="cb139-7"><a href="garimpo-do-lourenço.html#cb139-7" tabindex="-1"></a>mybreaks <span class="ot">&lt;-</span> <span class="fu">as.character</span>(classes_r86a21)</span></code></pre></div>
<p>Agora fazer a mapa.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="garimpo-do-lourenço.html#cb140-1" tabindex="-1"></a>fig_mapa_lourenco <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb140-2"><a href="garimpo-do-lourenço.html#cb140-2" tabindex="-1"></a>  <span class="fu">geom_spatraster</span>(<span class="at">data =</span> <span class="fu">as.factor</span>(r86a21)) <span class="sc">+</span> </span>
<span id="cb140-3"><a href="garimpo-do-lourenço.html#cb140-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sf_acesso_4km,</span>
<span id="cb140-4"><a href="garimpo-do-lourenço.html#cb140-4" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">&quot;transparent&quot;</span>, </span>
<span id="cb140-5"><a href="garimpo-do-lourenço.html#cb140-5" tabindex="-1"></a>        <span class="at">linetype =</span> <span class="st">&quot;longdash&quot;</span>,</span>
<span id="cb140-6"><a href="garimpo-do-lourenço.html#cb140-6" tabindex="-1"></a>        <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb140-7"><a href="garimpo-do-lourenço.html#cb140-7" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">&quot;Classe&quot;</span>, <span class="at">breaks=</span> mybreaks,</span>
<span id="cb140-8"><a href="garimpo-do-lourenço.html#cb140-8" tabindex="-1"></a>                      <span class="at">labels=</span> classes_l<span class="sc">$</span>Descricao, </span>
<span id="cb140-9"><a href="garimpo-do-lourenço.html#cb140-9" tabindex="-1"></a>                      <span class="at">values =</span> classes_l<span class="sc">$</span>Color) <span class="sc">+</span> </span>
<span id="cb140-10"><a href="garimpo-do-lourenço.html#cb140-10" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> </span>
<span id="cb140-11"><a href="garimpo-do-lourenço.html#cb140-11" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="sc">-</span><span class="fl">51.8</span>, <span class="sc">-</span><span class="fl">51.7</span>, <span class="sc">-</span><span class="fl">51.6</span>, <span class="sc">-</span><span class="fl">51.5</span>)) <span class="sc">+</span> </span>
<span id="cb140-12"><a href="garimpo-do-lourenço.html#cb140-12" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>lyr, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-13"><a href="garimpo-do-lourenço.html#cb140-13" tabindex="-1"></a>       <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span>
<span id="cb140-14"><a href="garimpo-do-lourenço.html#cb140-14" tabindex="-1"></a></span>
<span id="cb140-15"><a href="garimpo-do-lourenço.html#cb140-15" tabindex="-1"></a>fig_mapa_lourenco</span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
<p>Salvar.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="garimpo-do-lourenço.html#cb141-1" tabindex="-1"></a><span class="fu">png</span>(<span class="st">&quot;fig_mapa_lourenco.png&quot;</span>, <span class="at">width=</span><span class="dv">10</span>, <span class="at">height=</span><span class="dv">5</span>, </span>
<span id="cb141-2"><a href="garimpo-do-lourenço.html#cb141-2" tabindex="-1"></a>    <span class="at">units=</span><span class="st">&quot;in&quot;</span>, <span class="at">res =</span> <span class="dv">600</span>)</span>
<span id="cb141-3"><a href="garimpo-do-lourenço.html#cb141-3" tabindex="-1"></a>fig_mapa_lourenco</span>
<span id="cb141-4"><a href="garimpo-do-lourenço.html#cb141-4" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
<div id="mapa-vila-nova" class="section level4 hasAnchor" number="5.8.2.2">
<h4><span class="header-section-number">5.8.2.2</span> Mapa: Vila Nova<a href="garimpo-do-lourenço.html#mapa-vila-nova" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="garimpo-do-lourenço.html#cb142-1" tabindex="-1"></a><span class="co"># 85 a 87</span></span>
<span id="cb142-2"><a href="garimpo-do-lourenço.html#cb142-2" tabindex="-1"></a>r86 <span class="ot">&lt;-</span> <span class="fu">subset</span>(r85a22_vn, <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb142-3"><a href="garimpo-do-lourenço.html#cb142-3" tabindex="-1"></a>r86_agg10 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(r86, <span class="at">fact=</span><span class="dv">5</span>, <span class="at">fun=</span><span class="st">&quot;modal&quot;</span>) </span>
<span id="cb142-4"><a href="garimpo-do-lourenço.html#cb142-4" tabindex="-1"></a>r86_agg10_mod <span class="ot">&lt;-</span> <span class="fu">modal</span>(r86_agg10, <span class="at">ties =</span> <span class="st">&quot;first&quot;</span>)</span>
<span id="cb142-5"><a href="garimpo-do-lourenço.html#cb142-5" tabindex="-1"></a><span class="fu">names</span>(r86_agg10_mod) <span class="ot">&lt;-</span> <span class="st">&quot;modal_85a87&quot;</span></span>
<span id="cb142-6"><a href="garimpo-do-lourenço.html#cb142-6" tabindex="-1"></a><span class="co"># 2020 a 2022</span></span>
<span id="cb142-7"><a href="garimpo-do-lourenço.html#cb142-7" tabindex="-1"></a>r21 <span class="ot">&lt;-</span> <span class="fu">subset</span>(r85a22_vn, <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">36</span>))</span>
<span id="cb142-8"><a href="garimpo-do-lourenço.html#cb142-8" tabindex="-1"></a>r21_agg10 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(r21, <span class="at">fact=</span><span class="dv">5</span>, <span class="at">fun=</span><span class="st">&quot;modal&quot;</span>) </span>
<span id="cb142-9"><a href="garimpo-do-lourenço.html#cb142-9" tabindex="-1"></a>r21_agg10_mod <span class="ot">&lt;-</span> <span class="fu">modal</span>(r21_agg10, <span class="at">ties =</span> <span class="st">&quot;first&quot;</span>)</span>
<span id="cb142-10"><a href="garimpo-do-lourenço.html#cb142-10" tabindex="-1"></a><span class="fu">names</span>(r21_agg10_mod) <span class="ot">&lt;-</span> <span class="st">&quot;modal_20a22&quot;</span></span>
<span id="cb142-11"><a href="garimpo-do-lourenço.html#cb142-11" tabindex="-1"></a></span>
<span id="cb142-12"><a href="garimpo-do-lourenço.html#cb142-12" tabindex="-1"></a>r86a21 <span class="ot">&lt;-</span> <span class="fu">c</span>(r86_agg10_mod, r21_agg10_mod)</span></code></pre></div>
<p>Fazer legenda para rasters de 86 e 21.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="garimpo-do-lourenço.html#cb143-1" tabindex="-1"></a>classes_r86a21 <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">c</span>(<span class="fu">as.numeric</span>(<span class="fu">unlist</span>(<span class="fu">unique</span>(r86_agg10_mod))), </span>
<span id="cb143-2"><a href="garimpo-do-lourenço.html#cb143-2" tabindex="-1"></a>                                <span class="fu">as.numeric</span>(<span class="fu">unlist</span>(<span class="fu">unique</span>(r21_agg10_mod))) </span>
<span id="cb143-3"><a href="garimpo-do-lourenço.html#cb143-3" tabindex="-1"></a>                                )))</span>
<span id="cb143-4"><a href="garimpo-do-lourenço.html#cb143-4" tabindex="-1"></a>classes_vn <span class="ot">&lt;-</span> mapbiomas_legend <span class="sc">|&gt;</span></span>
<span id="cb143-5"><a href="garimpo-do-lourenço.html#cb143-5" tabindex="-1"></a>  <span class="fu">filter</span>(Class_ID <span class="sc">%in%</span> classes_r86a21) <span class="sc">|&gt;</span> </span>
<span id="cb143-6"><a href="garimpo-do-lourenço.html#cb143-6" tabindex="-1"></a>  <span class="fu">arrange</span>(Class_ID)</span>
<span id="cb143-7"><a href="garimpo-do-lourenço.html#cb143-7" tabindex="-1"></a>mybreaks_vn <span class="ot">&lt;-</span> <span class="fu">as.character</span>(classes_r86a21)</span></code></pre></div>
<p>Agora fazer a mapa.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="garimpo-do-lourenço.html#cb144-1" tabindex="-1"></a>fig_mapa_vilanova <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb144-2"><a href="garimpo-do-lourenço.html#cb144-2" tabindex="-1"></a>  <span class="fu">geom_spatraster</span>(<span class="at">data =</span> <span class="fu">as.factor</span>(r86a21)) <span class="sc">+</span> </span>
<span id="cb144-3"><a href="garimpo-do-lourenço.html#cb144-3" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> sf_acesso_vn_4km,</span>
<span id="cb144-4"><a href="garimpo-do-lourenço.html#cb144-4" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">&quot;transparent&quot;</span>, </span>
<span id="cb144-5"><a href="garimpo-do-lourenço.html#cb144-5" tabindex="-1"></a>        <span class="at">linetype =</span> <span class="st">&quot;longdash&quot;</span>,</span>
<span id="cb144-6"><a href="garimpo-do-lourenço.html#cb144-6" tabindex="-1"></a>        <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb144-7"><a href="garimpo-do-lourenço.html#cb144-7" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="st">&quot;Classe&quot;</span>, <span class="at">breaks=</span> mybreaks_vn,</span>
<span id="cb144-8"><a href="garimpo-do-lourenço.html#cb144-8" tabindex="-1"></a>                      <span class="at">labels=</span> classes_vn<span class="sc">$</span>Descricao, </span>
<span id="cb144-9"><a href="garimpo-do-lourenço.html#cb144-9" tabindex="-1"></a>                      <span class="at">values =</span> classes_vn<span class="sc">$</span>Color) <span class="sc">+</span> </span>
<span id="cb144-10"><a href="garimpo-do-lourenço.html#cb144-10" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> </span>
<span id="cb144-11"><a href="garimpo-do-lourenço.html#cb144-11" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="sc">-</span><span class="fl">51.9</span>, <span class="sc">-</span><span class="fl">51.8</span>, <span class="sc">-</span><span class="fl">51.7</span>, <span class="sc">-</span><span class="fl">51.6</span>)) <span class="sc">+</span> </span>
<span id="cb144-12"><a href="garimpo-do-lourenço.html#cb144-12" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>lyr, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb144-13"><a href="garimpo-do-lourenço.html#cb144-13" tabindex="-1"></a>       <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span>
<span id="cb144-14"><a href="garimpo-do-lourenço.html#cb144-14" tabindex="-1"></a></span>
<span id="cb144-15"><a href="garimpo-do-lourenço.html#cb144-15" tabindex="-1"></a>fig_mapa_vilanova</span></code></pre></div>
<p><img src="epr_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<p>Salvar.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="garimpo-do-lourenço.html#cb145-1" tabindex="-1"></a><span class="fu">png</span>(<span class="st">&quot;fig_mapa_vilanova.png&quot;</span>, <span class="at">width=</span><span class="dv">10</span>, <span class="at">height=</span><span class="dv">5</span>, </span>
<span id="cb145-2"><a href="garimpo-do-lourenço.html#cb145-2" tabindex="-1"></a>    <span class="at">units=</span><span class="st">&quot;in&quot;</span>, <span class="at">res =</span> <span class="dv">600</span>)</span>
<span id="cb145-3"><a href="garimpo-do-lourenço.html#cb145-3" tabindex="-1"></a>fig_mapa_vilanova</span>
<span id="cb145-4"><a href="garimpo-do-lourenço.html#cb145-4" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
</div>
<div id="métricas" class="section level3 hasAnchor" number="5.8.3">
<h3><span class="header-section-number">5.8.3</span> Métricas<a href="garimpo-do-lourenço.html#métricas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="métricas-diversidade-da-paisagem" class="section level4 hasAnchor" number="5.8.3.1">
<h4><span class="header-section-number">5.8.3.1</span> Métricas: Diversidade da paisagem<a href="garimpo-do-lourenço.html#métricas-diversidade-da-paisagem" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A expectativa é que se houvesse mudanças na paisagem (por exemplo, novas classes que poderiam incluir usos humanos, como mineração e áreas urbanas), então métricas como a diversidade da paisagem deveriam aumentar significativamente.</p>
<p>Tome cuidado, pois se for executado em grandes paisagens, isso pode levar algum tempo (horas). Para este exemplo, primeiro cortamos o raster para uma extensão menor de quatro quilômetros usando o buffer que fizemos anteriormente.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="garimpo-do-lourenço.html#cb146-1" tabindex="-1"></a><span class="co"># Cortar</span></span>
<span id="cb146-2"><a href="garimpo-do-lourenço.html#cb146-2" tabindex="-1"></a>r85a22_l_c <span class="ot">&lt;-</span> <span class="fu">crop</span>(r85a22_l, sf_acesso_4km, <span class="at">snap=</span><span class="st">&quot;out&quot;</span>)</span>
<span id="cb146-3"><a href="garimpo-do-lourenço.html#cb146-3" tabindex="-1"></a>r85a22_vn_c <span class="ot">&lt;-</span> <span class="fu">crop</span>(r85a22_vn, sf_acesso_vn_4km, <span class="at">snap=</span><span class="st">&quot;out&quot;</span>)</span>
<span id="cb146-4"><a href="garimpo-do-lourenço.html#cb146-4" tabindex="-1"></a><span class="co"># Métricas</span></span>
<span id="cb146-5"><a href="garimpo-do-lourenço.html#cb146-5" tabindex="-1"></a><span class="co"># lsm_l_joinent = Complexity of a landscape pattern. </span></span>
<span id="cb146-6"><a href="garimpo-do-lourenço.html#cb146-6" tabindex="-1"></a><span class="co"># An overall spatio-thematic complexity metric.</span></span>
<span id="cb146-7"><a href="garimpo-do-lourenço.html#cb146-7" tabindex="-1"></a><span class="co"># lsm_l_ent = diversity </span></span>
<span id="cb146-8"><a href="garimpo-do-lourenço.html#cb146-8" tabindex="-1"></a><span class="co"># (thematic complexity) of landscape classes.</span></span>
<span id="cb146-9"><a href="garimpo-do-lourenço.html#cb146-9" tabindex="-1"></a><span class="co"># lsm_l_condent = geometric intricacy </span></span>
<span id="cb146-10"><a href="garimpo-do-lourenço.html#cb146-10" tabindex="-1"></a><span class="co"># (configurational complexity) of a landscape pattern.</span></span>
<span id="cb146-11"><a href="garimpo-do-lourenço.html#cb146-11" tabindex="-1"></a><span class="co"># lsm_l_shdi = Shannon diversity</span></span>
<span id="cb146-12"><a href="garimpo-do-lourenço.html#cb146-12" tabindex="-1"></a>mymetrics <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;lsm_l_joinent&quot;</span>, <span class="st">&quot;lsm_l_ent&quot;</span>, </span>
<span id="cb146-13"><a href="garimpo-do-lourenço.html#cb146-13" tabindex="-1"></a>          <span class="st">&quot;lsm_l_condent&quot;</span>, <span class="st">&quot;lsm_l_shdi&quot;</span>)</span>
<span id="cb146-14"><a href="garimpo-do-lourenço.html#cb146-14" tabindex="-1"></a><span class="co"># Métricas para toda a paisagem de 4 quilometros </span></span>
<span id="cb146-15"><a href="garimpo-do-lourenço.html#cb146-15" tabindex="-1"></a><span class="co"># acerca do Garimpo do Lourenço.</span></span>
<span id="cb146-16"><a href="garimpo-do-lourenço.html#cb146-16" tabindex="-1"></a><span class="co"># Lourenço</span></span>
<span id="cb146-17"><a href="garimpo-do-lourenço.html#cb146-17" tabindex="-1"></a>metricas_lourenco <span class="ot">&lt;-</span> <span class="fu">calculate_lsm</span>(r85a22_l_c, </span>
<span id="cb146-18"><a href="garimpo-do-lourenço.html#cb146-18" tabindex="-1"></a>                                   <span class="at">what =</span> mymetrics)</span>
<span id="cb146-19"><a href="garimpo-do-lourenço.html#cb146-19" tabindex="-1"></a><span class="co"># Vila Nova</span></span>
<span id="cb146-20"><a href="garimpo-do-lourenço.html#cb146-20" tabindex="-1"></a>metricas_vilanova <span class="ot">&lt;-</span> <span class="fu">calculate_lsm</span>(r85a22_vn_c, </span>
<span id="cb146-21"><a href="garimpo-do-lourenço.html#cb146-21" tabindex="-1"></a>                                   <span class="at">what =</span> mymetrics)</span></code></pre></div>
<p>Acabamos de calcular quatro métricas de paisagem diferentes ao longo de 38 anos. Assim sendo, os resultados (no novo objeto metricas_lourenco) deve ter 152 linhas (4 métricas X 38 anos = 152).</p>
<p>Aora vamos arrumar os dados para facilitar apresentação e comunicação dos resultados:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="garimpo-do-lourenço.html#cb147-1" tabindex="-1"></a>resultados_anos_lourenco <span class="ot">&lt;-</span> metricas_lourenco <span class="sc">|&gt;</span></span>
<span id="cb147-2"><a href="garimpo-do-lourenço.html#cb147-2" tabindex="-1"></a>              dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">round</span>(value,<span class="dv">2</span>), </span>
<span id="cb147-3"><a href="garimpo-do-lourenço.html#cb147-3" tabindex="-1"></a>                            <span class="at">onde =</span> <span class="st">&quot;Garimpo do Lourenço&quot;</span>,</span>
<span id="cb147-4"><a href="garimpo-do-lourenço.html#cb147-4" tabindex="-1"></a>                            <span class="at">ano =</span> <span class="fu">case_when</span>(layer<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">1985</span>, </span>
<span id="cb147-5"><a href="garimpo-do-lourenço.html#cb147-5" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="dv">1986</span>, </span>
<span id="cb147-6"><a href="garimpo-do-lourenço.html#cb147-6" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span><span class="dv">1987</span>,</span>
<span id="cb147-7"><a href="garimpo-do-lourenço.html#cb147-7" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="dv">1988</span>,</span>
<span id="cb147-8"><a href="garimpo-do-lourenço.html#cb147-8" tabindex="-1"></a>                       layer<span class="sc">==</span><span class="dv">5</span><span class="sc">~</span><span class="dv">1989</span>, </span>
<span id="cb147-9"><a href="garimpo-do-lourenço.html#cb147-9" tabindex="-1"></a>                       layer<span class="sc">==</span><span class="dv">6</span><span class="sc">~</span><span class="dv">1990</span>, </span>
<span id="cb147-10"><a href="garimpo-do-lourenço.html#cb147-10" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">7</span><span class="sc">~</span><span class="dv">1991</span>, </span>
<span id="cb147-11"><a href="garimpo-do-lourenço.html#cb147-11" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">8</span><span class="sc">~</span><span class="dv">1992</span>, </span>
<span id="cb147-12"><a href="garimpo-do-lourenço.html#cb147-12" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">9</span><span class="sc">~</span><span class="dv">1993</span>, </span>
<span id="cb147-13"><a href="garimpo-do-lourenço.html#cb147-13" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">10</span><span class="sc">~</span><span class="dv">1994</span>, </span>
<span id="cb147-14"><a href="garimpo-do-lourenço.html#cb147-14" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">11</span><span class="sc">~</span><span class="dv">1995</span>, </span>
<span id="cb147-15"><a href="garimpo-do-lourenço.html#cb147-15" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">12</span><span class="sc">~</span><span class="dv">1996</span>, </span>
<span id="cb147-16"><a href="garimpo-do-lourenço.html#cb147-16" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">13</span> <span class="sc">~</span> <span class="dv">1997</span>, </span>
<span id="cb147-17"><a href="garimpo-do-lourenço.html#cb147-17" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">14</span> <span class="sc">~</span> <span class="dv">1998</span>, </span>
<span id="cb147-18"><a href="garimpo-do-lourenço.html#cb147-18" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">15</span> <span class="sc">~</span> <span class="dv">1999</span>, </span>
<span id="cb147-19"><a href="garimpo-do-lourenço.html#cb147-19" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">16</span> <span class="sc">~</span> <span class="dv">2000</span>, </span>
<span id="cb147-20"><a href="garimpo-do-lourenço.html#cb147-20" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">17</span> <span class="sc">~</span> <span class="dv">2001</span>, </span>
<span id="cb147-21"><a href="garimpo-do-lourenço.html#cb147-21" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">18</span> <span class="sc">~</span> <span class="dv">2002</span>, </span>
<span id="cb147-22"><a href="garimpo-do-lourenço.html#cb147-22" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">19</span> <span class="sc">~</span> <span class="dv">2003</span>, </span>
<span id="cb147-23"><a href="garimpo-do-lourenço.html#cb147-23" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">20</span> <span class="sc">~</span> <span class="dv">2004</span>, </span>
<span id="cb147-24"><a href="garimpo-do-lourenço.html#cb147-24" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">21</span> <span class="sc">~</span> <span class="dv">2005</span>, </span>
<span id="cb147-25"><a href="garimpo-do-lourenço.html#cb147-25" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">22</span> <span class="sc">~</span> <span class="dv">2006</span>, </span>
<span id="cb147-26"><a href="garimpo-do-lourenço.html#cb147-26" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">23</span> <span class="sc">~</span> <span class="dv">2007</span>, </span>
<span id="cb147-27"><a href="garimpo-do-lourenço.html#cb147-27" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">24</span> <span class="sc">~</span> <span class="dv">2008</span>, </span>
<span id="cb147-28"><a href="garimpo-do-lourenço.html#cb147-28" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">25</span> <span class="sc">~</span> <span class="dv">2009</span>, </span>
<span id="cb147-29"><a href="garimpo-do-lourenço.html#cb147-29" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">26</span> <span class="sc">~</span> <span class="dv">2010</span>, </span>
<span id="cb147-30"><a href="garimpo-do-lourenço.html#cb147-30" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">27</span> <span class="sc">~</span> <span class="dv">2011</span>, </span>
<span id="cb147-31"><a href="garimpo-do-lourenço.html#cb147-31" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">28</span> <span class="sc">~</span> <span class="dv">2012</span>, </span>
<span id="cb147-32"><a href="garimpo-do-lourenço.html#cb147-32" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">29</span> <span class="sc">~</span> <span class="dv">2013</span>, </span>
<span id="cb147-33"><a href="garimpo-do-lourenço.html#cb147-33" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">30</span> <span class="sc">~</span> <span class="dv">2014</span>, </span>
<span id="cb147-34"><a href="garimpo-do-lourenço.html#cb147-34" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">31</span> <span class="sc">~</span> <span class="dv">2015</span>, </span>
<span id="cb147-35"><a href="garimpo-do-lourenço.html#cb147-35" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">32</span> <span class="sc">~</span> <span class="dv">2016</span>, </span>
<span id="cb147-36"><a href="garimpo-do-lourenço.html#cb147-36" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">33</span> <span class="sc">~</span> <span class="dv">2017</span>, </span>
<span id="cb147-37"><a href="garimpo-do-lourenço.html#cb147-37" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">34</span> <span class="sc">~</span> <span class="dv">2018</span>, </span>
<span id="cb147-38"><a href="garimpo-do-lourenço.html#cb147-38" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">35</span> <span class="sc">~</span> <span class="dv">2019</span>, </span>
<span id="cb147-39"><a href="garimpo-do-lourenço.html#cb147-39" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">36</span> <span class="sc">~</span> <span class="dv">2020</span>, </span>
<span id="cb147-40"><a href="garimpo-do-lourenço.html#cb147-40" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">37</span> <span class="sc">~</span> <span class="dv">2021</span>, </span>
<span id="cb147-41"><a href="garimpo-do-lourenço.html#cb147-41" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">38</span> <span class="sc">~</span> <span class="dv">2022</span>))</span></code></pre></div>
<p>E agora para Vila Nova.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="garimpo-do-lourenço.html#cb148-1" tabindex="-1"></a>resultados_anos_vilanova <span class="ot">&lt;-</span> metricas_vilanova <span class="sc">|&gt;</span></span>
<span id="cb148-2"><a href="garimpo-do-lourenço.html#cb148-2" tabindex="-1"></a>              dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">round</span>(value,<span class="dv">2</span>), </span>
<span id="cb148-3"><a href="garimpo-do-lourenço.html#cb148-3" tabindex="-1"></a>                            <span class="at">onde =</span> <span class="st">&quot;Garimpo do Vila Nova&quot;</span>,</span>
<span id="cb148-4"><a href="garimpo-do-lourenço.html#cb148-4" tabindex="-1"></a>                            <span class="at">ano =</span> <span class="fu">case_when</span>(</span>
<span id="cb148-5"><a href="garimpo-do-lourenço.html#cb148-5" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">1</span> <span class="sc">~</span> <span class="dv">1985</span>, </span>
<span id="cb148-6"><a href="garimpo-do-lourenço.html#cb148-6" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">2</span> <span class="sc">~</span> <span class="dv">1986</span>, </span>
<span id="cb148-7"><a href="garimpo-do-lourenço.html#cb148-7" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">3</span> <span class="sc">~</span> <span class="dv">1987</span>,</span>
<span id="cb148-8"><a href="garimpo-do-lourenço.html#cb148-8" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">4</span> <span class="sc">~</span> <span class="dv">1988</span>, </span>
<span id="cb148-9"><a href="garimpo-do-lourenço.html#cb148-9" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">5</span> <span class="sc">~</span> <span class="dv">1989</span>, </span>
<span id="cb148-10"><a href="garimpo-do-lourenço.html#cb148-10" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">6</span> <span class="sc">~</span> <span class="dv">1990</span>, </span>
<span id="cb148-11"><a href="garimpo-do-lourenço.html#cb148-11" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">7</span> <span class="sc">~</span> <span class="dv">1991</span>, </span>
<span id="cb148-12"><a href="garimpo-do-lourenço.html#cb148-12" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">8</span> <span class="sc">~</span> <span class="dv">1992</span>, </span>
<span id="cb148-13"><a href="garimpo-do-lourenço.html#cb148-13" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">9</span> <span class="sc">~</span> <span class="dv">1993</span>, </span>
<span id="cb148-14"><a href="garimpo-do-lourenço.html#cb148-14" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">10</span> <span class="sc">~</span> <span class="dv">1994</span>, </span>
<span id="cb148-15"><a href="garimpo-do-lourenço.html#cb148-15" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">11</span> <span class="sc">~</span> <span class="dv">1995</span>, </span>
<span id="cb148-16"><a href="garimpo-do-lourenço.html#cb148-16" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">12</span> <span class="sc">~</span> <span class="dv">1996</span>, </span>
<span id="cb148-17"><a href="garimpo-do-lourenço.html#cb148-17" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">13</span> <span class="sc">~</span> <span class="dv">1997</span>, </span>
<span id="cb148-18"><a href="garimpo-do-lourenço.html#cb148-18" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">14</span> <span class="sc">~</span> <span class="dv">1998</span>, </span>
<span id="cb148-19"><a href="garimpo-do-lourenço.html#cb148-19" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">15</span> <span class="sc">~</span> <span class="dv">1999</span>, </span>
<span id="cb148-20"><a href="garimpo-do-lourenço.html#cb148-20" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">16</span> <span class="sc">~</span> <span class="dv">2000</span>, </span>
<span id="cb148-21"><a href="garimpo-do-lourenço.html#cb148-21" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">17</span> <span class="sc">~</span> <span class="dv">2001</span>, </span>
<span id="cb148-22"><a href="garimpo-do-lourenço.html#cb148-22" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">18</span> <span class="sc">~</span> <span class="dv">2002</span>, </span>
<span id="cb148-23"><a href="garimpo-do-lourenço.html#cb148-23" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">19</span> <span class="sc">~</span> <span class="dv">2003</span>, </span>
<span id="cb148-24"><a href="garimpo-do-lourenço.html#cb148-24" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">20</span> <span class="sc">~</span> <span class="dv">2004</span>, </span>
<span id="cb148-25"><a href="garimpo-do-lourenço.html#cb148-25" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">21</span> <span class="sc">~</span> <span class="dv">2005</span>, </span>
<span id="cb148-26"><a href="garimpo-do-lourenço.html#cb148-26" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">22</span> <span class="sc">~</span> <span class="dv">2006</span>, </span>
<span id="cb148-27"><a href="garimpo-do-lourenço.html#cb148-27" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">23</span> <span class="sc">~</span> <span class="dv">2007</span>, </span>
<span id="cb148-28"><a href="garimpo-do-lourenço.html#cb148-28" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">24</span> <span class="sc">~</span> <span class="dv">2008</span>, </span>
<span id="cb148-29"><a href="garimpo-do-lourenço.html#cb148-29" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">25</span> <span class="sc">~</span> <span class="dv">2009</span>, </span>
<span id="cb148-30"><a href="garimpo-do-lourenço.html#cb148-30" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">26</span> <span class="sc">~</span> <span class="dv">2010</span>, </span>
<span id="cb148-31"><a href="garimpo-do-lourenço.html#cb148-31" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">27</span> <span class="sc">~</span> <span class="dv">2011</span>, </span>
<span id="cb148-32"><a href="garimpo-do-lourenço.html#cb148-32" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">28</span> <span class="sc">~</span> <span class="dv">2012</span>, </span>
<span id="cb148-33"><a href="garimpo-do-lourenço.html#cb148-33" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">29</span> <span class="sc">~</span> <span class="dv">2013</span>, </span>
<span id="cb148-34"><a href="garimpo-do-lourenço.html#cb148-34" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">30</span> <span class="sc">~</span> <span class="dv">2014</span>, </span>
<span id="cb148-35"><a href="garimpo-do-lourenço.html#cb148-35" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">31</span> <span class="sc">~</span> <span class="dv">2015</span>, </span>
<span id="cb148-36"><a href="garimpo-do-lourenço.html#cb148-36" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">32</span> <span class="sc">~</span> <span class="dv">2016</span>, </span>
<span id="cb148-37"><a href="garimpo-do-lourenço.html#cb148-37" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">33</span> <span class="sc">~</span> <span class="dv">2017</span>, </span>
<span id="cb148-38"><a href="garimpo-do-lourenço.html#cb148-38" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">34</span> <span class="sc">~</span> <span class="dv">2018</span>, </span>
<span id="cb148-39"><a href="garimpo-do-lourenço.html#cb148-39" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">35</span> <span class="sc">~</span> <span class="dv">2019</span>, </span>
<span id="cb148-40"><a href="garimpo-do-lourenço.html#cb148-40" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">36</span> <span class="sc">~</span> <span class="dv">2020</span>, </span>
<span id="cb148-41"><a href="garimpo-do-lourenço.html#cb148-41" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">37</span> <span class="sc">~</span> <span class="dv">2021</span>, </span>
<span id="cb148-42"><a href="garimpo-do-lourenço.html#cb148-42" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">38</span> <span class="sc">~</span> <span class="dv">2022</span></span>
<span id="cb148-43"><a href="garimpo-do-lourenço.html#cb148-43" tabindex="-1"></a>                        )</span>
<span id="cb148-44"><a href="garimpo-do-lourenço.html#cb148-44" tabindex="-1"></a>                         )</span></code></pre></div>
<p>Apresentar os resultados em um gráfico.</p>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<div class="figure"><span style="display:block;" id="fig:compare-garimpos"></span>
<img src="figures/fig_compare_garimpos.png" alt="Comparação da diversidade da paisagem em torno de dois garimpos. CComparação de mudanças dentro de quatro quilômetros de Garimpo do Lourenço e garimpo do Vila Nova entre 1985 a 2022.  Classificação de cobertura da terra do MapBiomas Coleção 8 usada para quantificar a diversidade representado por quatro métricas de paisagem (condent: Entropia condicional; ent: Entropia marginal; joinent: Entropia conjunta; shdi: Índice de diversidade de Shannon). " width="80%" height="80%" />
<p class="caption">
Figura 5.1: Comparação da diversidade da paisagem em torno de dois garimpos. CComparação de mudanças dentro de quatro quilômetros de Garimpo do Lourenço e garimpo do Vila Nova entre 1985 a 2022. Classificação de cobertura da terra do MapBiomas Coleção 8 usada para quantificar a diversidade representado por quatro métricas de paisagem (condent: Entropia condicional; ent: Entropia marginal; joinent: Entropia conjunta; shdi: Índice de diversidade de Shannon).
</p>
</div>
<p>Esses resultados mostram mudanças na diversidade da paisagem ao longo do tempo que diferem entre os garimpos. Como podemos ver que os valores de diversidade diferem (Lourenço tende a ter maior diversidade desde o início) seria útil comparar a dinâmica calculada como taxas de mudanças ao longo do tempo. Além disso, agora que sabemos que houve mudanças, faz sentido investigar mais a fundo. Para compreender as mudanças, é necessária uma análise mais aprofundada que compare as métricas de nível de classe em diferentes escalas. Isto permitir-nos-á compreender exactamente que tipos de cobertura do solo mudaram e como essas mudanças estão relacionadas com a mineração e outros usos, como o desenvolvimento urbano.</p>
<p>Poderia ser mais informativo combinar os mapas com os gráficos para que possamos ver padrões espaciais e temporais ao mesmo tempo.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="garimpo-do-lourenço.html#cb150-1" tabindex="-1"></a>diversidade_lourenco <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(resultados_anos_lourenco, </span>
<span id="cb150-2"><a href="garimpo-do-lourenço.html#cb150-2" tabindex="-1"></a>                                 <span class="fu">aes</span>(<span class="at">x =</span> ano, <span class="at">y =</span> value)) <span class="sc">+</span> </span>
<span id="cb150-3"><a href="garimpo-do-lourenço.html#cb150-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb150-4"><a href="garimpo-do-lourenço.html#cb150-4" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">&quot;gam&quot;</span>) <span class="sc">+</span> </span>
<span id="cb150-5"><a href="garimpo-do-lourenço.html#cb150-5" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> metric, <span class="at">ncol =</span> <span class="dv">4</span>) <span class="sc">+</span> </span>
<span id="cb150-6"><a href="garimpo-do-lourenço.html#cb150-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;valor&quot;</span>)</span>
<span id="cb150-7"><a href="garimpo-do-lourenço.html#cb150-7" tabindex="-1"></a></span>
<span id="cb150-8"><a href="garimpo-do-lourenço.html#cb150-8" tabindex="-1"></a>fig_combo_lourenco <span class="ot">&lt;-</span> fig_mapa_lourenco <span class="sc">/</span> diversidade_lourenco  <span class="sc">+</span> </span>
<span id="cb150-9"><a href="garimpo-do-lourenço.html#cb150-9" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">&#39;A&#39;</span>, </span>
<span id="cb150-10"><a href="garimpo-do-lourenço.html#cb150-10" tabindex="-1"></a>                  <span class="at">tag_prefix =</span> <span class="st">&#39;(&#39;</span>, <span class="at">tag_suffix =</span>  <span class="st">&#39;)&#39;</span>)</span>
<span id="cb150-11"><a href="garimpo-do-lourenço.html#cb150-11" tabindex="-1"></a>fig_combo_lourenco</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="epr_files/figure-html/patch_map_graph-1.png" width="672" /></p>
<p>Para obter uma imagem mais clara podemos especificar as proporções
relativas (comprimento e largura) e exportar.
Exportar.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="garimpo-do-lourenço.html#cb152-1" tabindex="-1"></a><span class="fu">png</span>(<span class="st">&quot;fig_combo_lourenco.png&quot;</span>, <span class="at">width=</span><span class="dv">7</span>, <span class="at">height=</span><span class="dv">8</span>, </span>
<span id="cb152-2"><a href="garimpo-do-lourenço.html#cb152-2" tabindex="-1"></a>    <span class="at">units=</span><span class="st">&quot;in&quot;</span>, <span class="at">res =</span> <span class="dv">600</span>)</span>
<span id="cb152-3"><a href="garimpo-do-lourenço.html#cb152-3" tabindex="-1"></a>fig_combo_lourenco</span>
<span id="cb152-4"><a href="garimpo-do-lourenço.html#cb152-4" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="comparar-classes" class="section level3 hasAnchor" number="5.8.4">
<h3><span class="header-section-number">5.8.4</span> Comparar classes<a href="garimpo-do-lourenço.html#comparar-classes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Podemos comparar entre as diferentes classes para compreender como o
uso antropogénico da terra mudou ao longo do tempo.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="garimpo-do-lourenço.html#cb153-1" tabindex="-1"></a>minha_metricas <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;lsm_c_cpland&quot;</span>)</span>
<span id="cb153-2"><a href="garimpo-do-lourenço.html#cb153-2" tabindex="-1"></a>lourenco_cpland <span class="ot">&lt;-</span>  <span class="fu">sample_lsm</span>(r85a22_l, acesso_buffers, </span>
<span id="cb153-3"><a href="garimpo-do-lourenço.html#cb153-3" tabindex="-1"></a>                               <span class="at">what =</span> minha_metricas, </span>
<span id="cb153-4"><a href="garimpo-do-lourenço.html#cb153-4" tabindex="-1"></a>                               <span class="at">plot_id =</span> <span class="fu">data.frame</span>(acesso_buffers)[, <span class="st">&#39;raio_km&#39;</span>])</span></code></pre></div>
<p>Arrumar os dados e compare a proporção de floresta e mineração ao longo do tempo.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="garimpo-do-lourenço.html#cb154-1" tabindex="-1"></a>lourenco_cpland_anos <span class="ot">&lt;-</span> lourenco_cpland <span class="sc">|&gt;</span></span>
<span id="cb154-2"><a href="garimpo-do-lourenço.html#cb154-2" tabindex="-1"></a>              dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">round</span>(value,<span class="dv">2</span>), </span>
<span id="cb154-3"><a href="garimpo-do-lourenço.html#cb154-3" tabindex="-1"></a>                            <span class="at">onde =</span> <span class="st">&quot;Garimpo do Lourenço&quot;</span>,</span>
<span id="cb154-4"><a href="garimpo-do-lourenço.html#cb154-4" tabindex="-1"></a>                            <span class="at">ano =</span> <span class="fu">case_when</span>(layer<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="dv">1985</span>, </span>
<span id="cb154-5"><a href="garimpo-do-lourenço.html#cb154-5" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="dv">1986</span>, </span>
<span id="cb154-6"><a href="garimpo-do-lourenço.html#cb154-6" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">3</span><span class="sc">~</span><span class="dv">1987</span>,</span>
<span id="cb154-7"><a href="garimpo-do-lourenço.html#cb154-7" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">4</span><span class="sc">~</span><span class="dv">1988</span>,</span>
<span id="cb154-8"><a href="garimpo-do-lourenço.html#cb154-8" tabindex="-1"></a>                       layer<span class="sc">==</span><span class="dv">5</span><span class="sc">~</span><span class="dv">1989</span>, </span>
<span id="cb154-9"><a href="garimpo-do-lourenço.html#cb154-9" tabindex="-1"></a>                       layer<span class="sc">==</span><span class="dv">6</span><span class="sc">~</span><span class="dv">1990</span>, </span>
<span id="cb154-10"><a href="garimpo-do-lourenço.html#cb154-10" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">7</span><span class="sc">~</span><span class="dv">1991</span>, </span>
<span id="cb154-11"><a href="garimpo-do-lourenço.html#cb154-11" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">8</span><span class="sc">~</span><span class="dv">1992</span>, </span>
<span id="cb154-12"><a href="garimpo-do-lourenço.html#cb154-12" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">9</span><span class="sc">~</span><span class="dv">1993</span>, </span>
<span id="cb154-13"><a href="garimpo-do-lourenço.html#cb154-13" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">10</span><span class="sc">~</span><span class="dv">1994</span>, </span>
<span id="cb154-14"><a href="garimpo-do-lourenço.html#cb154-14" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">11</span><span class="sc">~</span><span class="dv">1995</span>, </span>
<span id="cb154-15"><a href="garimpo-do-lourenço.html#cb154-15" tabindex="-1"></a>                        layer<span class="sc">==</span><span class="dv">12</span><span class="sc">~</span><span class="dv">1996</span>, </span>
<span id="cb154-16"><a href="garimpo-do-lourenço.html#cb154-16" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">13</span> <span class="sc">~</span> <span class="dv">1997</span>, </span>
<span id="cb154-17"><a href="garimpo-do-lourenço.html#cb154-17" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">14</span> <span class="sc">~</span> <span class="dv">1998</span>, </span>
<span id="cb154-18"><a href="garimpo-do-lourenço.html#cb154-18" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">15</span> <span class="sc">~</span> <span class="dv">1999</span>, </span>
<span id="cb154-19"><a href="garimpo-do-lourenço.html#cb154-19" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">16</span> <span class="sc">~</span> <span class="dv">2000</span>, </span>
<span id="cb154-20"><a href="garimpo-do-lourenço.html#cb154-20" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">17</span> <span class="sc">~</span> <span class="dv">2001</span>, </span>
<span id="cb154-21"><a href="garimpo-do-lourenço.html#cb154-21" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">18</span> <span class="sc">~</span> <span class="dv">2002</span>, </span>
<span id="cb154-22"><a href="garimpo-do-lourenço.html#cb154-22" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">19</span> <span class="sc">~</span> <span class="dv">2003</span>, </span>
<span id="cb154-23"><a href="garimpo-do-lourenço.html#cb154-23" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">20</span> <span class="sc">~</span> <span class="dv">2004</span>, </span>
<span id="cb154-24"><a href="garimpo-do-lourenço.html#cb154-24" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">21</span> <span class="sc">~</span> <span class="dv">2005</span>, </span>
<span id="cb154-25"><a href="garimpo-do-lourenço.html#cb154-25" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">22</span> <span class="sc">~</span> <span class="dv">2006</span>, </span>
<span id="cb154-26"><a href="garimpo-do-lourenço.html#cb154-26" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">23</span> <span class="sc">~</span> <span class="dv">2007</span>, </span>
<span id="cb154-27"><a href="garimpo-do-lourenço.html#cb154-27" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">24</span> <span class="sc">~</span> <span class="dv">2008</span>, </span>
<span id="cb154-28"><a href="garimpo-do-lourenço.html#cb154-28" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">25</span> <span class="sc">~</span> <span class="dv">2009</span>, </span>
<span id="cb154-29"><a href="garimpo-do-lourenço.html#cb154-29" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">26</span> <span class="sc">~</span> <span class="dv">2010</span>, </span>
<span id="cb154-30"><a href="garimpo-do-lourenço.html#cb154-30" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">27</span> <span class="sc">~</span> <span class="dv">2011</span>, </span>
<span id="cb154-31"><a href="garimpo-do-lourenço.html#cb154-31" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">28</span> <span class="sc">~</span> <span class="dv">2012</span>, </span>
<span id="cb154-32"><a href="garimpo-do-lourenço.html#cb154-32" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">29</span> <span class="sc">~</span> <span class="dv">2013</span>, </span>
<span id="cb154-33"><a href="garimpo-do-lourenço.html#cb154-33" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">30</span> <span class="sc">~</span> <span class="dv">2014</span>, </span>
<span id="cb154-34"><a href="garimpo-do-lourenço.html#cb154-34" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">31</span> <span class="sc">~</span> <span class="dv">2015</span>, </span>
<span id="cb154-35"><a href="garimpo-do-lourenço.html#cb154-35" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">32</span> <span class="sc">~</span> <span class="dv">2016</span>, </span>
<span id="cb154-36"><a href="garimpo-do-lourenço.html#cb154-36" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">33</span> <span class="sc">~</span> <span class="dv">2017</span>, </span>
<span id="cb154-37"><a href="garimpo-do-lourenço.html#cb154-37" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">34</span> <span class="sc">~</span> <span class="dv">2018</span>, </span>
<span id="cb154-38"><a href="garimpo-do-lourenço.html#cb154-38" tabindex="-1"></a>                      layer <span class="sc">==</span> <span class="dv">35</span> <span class="sc">~</span> <span class="dv">2019</span>, </span>
<span id="cb154-39"><a href="garimpo-do-lourenço.html#cb154-39" tabindex="-1"></a>                        layer <span class="sc">==</span> <span class="dv">36</span> <span class="sc">~</span> <span class="dv">2020</span>, </span>
<span id="cb154-40"><a href="garimpo-do-lourenço.html#cb154-40" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">37</span> <span class="sc">~</span> <span class="dv">2021</span>, </span>
<span id="cb154-41"><a href="garimpo-do-lourenço.html#cb154-41" tabindex="-1"></a>                       layer <span class="sc">==</span> <span class="dv">38</span> <span class="sc">~</span> <span class="dv">2022</span>))</span></code></pre></div>
<p>Gráfico:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="garimpo-do-lourenço.html#cb155-1" tabindex="-1"></a>lourenco_cpland_anos <span class="sc">|&gt;</span> </span>
<span id="cb155-2"><a href="garimpo-do-lourenço.html#cb155-2" tabindex="-1"></a>  <span class="fu">left_join</span>(mapbiomas_legend, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&#39;class&#39;</span><span class="ot">=</span><span class="st">&#39;Class_ID&#39;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb155-3"><a href="garimpo-do-lourenço.html#cb155-3" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">&quot;raio&quot;</span> <span class="ot">=</span> <span class="st">&quot;plot_id&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb155-4"><a href="garimpo-do-lourenço.html#cb155-4" tabindex="-1"></a>  <span class="fu">filter</span>(Descricao <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Formação Florestal&quot;</span>, <span class="st">&quot;Mineração&quot;</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb155-5"><a href="garimpo-do-lourenço.html#cb155-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> ano, <span class="at">y =</span> value)) <span class="sc">+</span> </span>
<span id="cb155-6"><a href="garimpo-do-lourenço.html#cb155-6" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb155-7"><a href="garimpo-do-lourenço.html#cb155-7" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="st">&quot;raio (km)&quot;</span>) <span class="sc">+</span></span>
<span id="cb155-8"><a href="garimpo-do-lourenço.html#cb155-8" tabindex="-1"></a>  <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">&quot;gam&quot;</span>, </span>
<span id="cb155-9"><a href="garimpo-do-lourenço.html#cb155-9" tabindex="-1"></a>              <span class="fu">aes</span>(<span class="at">colour =</span> <span class="fu">factor</span>(raio))) <span class="sc">+</span> </span>
<span id="cb155-10"><a href="garimpo-do-lourenço.html#cb155-10" tabindex="-1"></a>    <span class="fu">facet_grid</span>(raio <span class="sc">~</span> Descricao) </span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ s(x, bs = &quot;cs&quot;)&#39;</code></pre>
<p><img src="epr_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="conclusões-e-próximos-passos" class="section level2 hasAnchor" number="5.9">
<h2><span class="header-section-number">5.9</span> Conclusões e próximos passos<a href="garimpo-do-lourenço.html#conclusões-e-próximos-passos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para entender melhor os padores, precisamos:</p>
<ul>
<li>Verficar padrões nas outras metricas calculados</li>
<li>Verficar padrões usando poligonos/pontos dos processos de mineração (dados no SIGMINE <a href="https://www.gov.br/anm/pt-br" class="uri">https://www.gov.br/anm/pt-br</a> e <a href="https://app.anm.gov.br/dadosabertos/SIGMINE/PROCESSOS_MINERARIOS/" class="uri">https://app.anm.gov.br/dadosabertos/SIGMINE/PROCESSOS_MINERARIOS/</a>)</li>
</ul>
<p>Alem disso, para aumentar a precisão dos resultados seria relevante buscar complementar os resultados obtidos com:</p>
<ol style="list-style-type: decimal">
<li><p>Imagens com uma classificação do satélite Sentinel-2 com resolução espacial de 10 metros. A Coleção BETA do MapBiomas 10 metros inclui mapas anuais de cobertura e uso da terra para o período de 2016 a 2022 (período de disponibilidade de imagens do satélite Sentinel-2): <a href="https://brasil.mapbiomas.org/mapbiomas-cobertura-10m/" class="uri">https://brasil.mapbiomas.org/mapbiomas-cobertura-10m/</a> .</p></li>
<li><p>Imagens com uma classificação supervisionado usando imagens de Sentinel-2 (exemplo com QGIS Semi-Automatic Classification plugin aqui: <a href="https://fromgistors.blogspot.com/2016/09/basic-tutorial-2.html" class="uri">https://fromgistors.blogspot.com/2016/09/basic-tutorial-2.html</a>).</p></li>
</ol>
<p>Uma forma alternativa para visualização as mudanças entre anos seria um diagrama “Sankey”/“Alluvial”. Como exemplo, veja figura 3 no artigo “Rapid land use conversion in the Cerrado has affected water transparency in a hotspot of ecotourism, Bonito, Brazil” <a href="https://doi.org/10.1177/19400829221127087" class="uri">https://doi.org/10.1177/19400829221127087</a> .</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:plot-fig-sankey"></span>
<img src="figures/images_large_10.1177_19400829221127087-fig3.jpeg" alt="Diagrama Sankey mostrando a mudança de uso da terra na bacia do rio Prata entre 2010 (lado esquerdo) e 2020 (lado direto). Fonte: Figura 3. Chiaravalloti et. al. 2022. Tropical Conservation Science. doi:10.1177/19400829221127087" width="50%" height="50%" />
<p class="caption">
Figura 5.2: Diagrama Sankey mostrando a mudança de uso da terra na bacia do rio Prata entre 2010 (lado esquerdo) e 2020 (lado direto). Fonte: Figura 3. Chiaravalloti et. al. 2022. Tropical Conservation Science. <a href="doi:10.1177/19400829221127087" class="uri">doi:10.1177/19400829221127087</a>
</p>
</div>
<p>No R pode fazer com o pacote “networkD3” segue tutoriais:</p>
<ul>
<li><p><a href="https://www.displayr.com/sankey-diagrams-r/" class="uri">https://www.displayr.com/sankey-diagrams-r/</a></p></li>
<li><p><a href="https://epirhandbook.com/en/diagrams-and-charts.html#alluvialsankey-diagrams" class="uri">https://epirhandbook.com/en/diagrams-and-charts.html#alluvialsankey-diagrams</a></p></li>
<li><p><a href="https://rpubs.com/droach/CPP526-codethrough" class="uri">https://rpubs.com/droach/CPP526-codethrough</a></p></li>
</ul>
<div style="page-break-after: always;"></div>

</div>
</div>



</div>
            </section>

          </div>
        </div>
      </div>
<a href="cap04.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cap20.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/darrennorris/epr/edit/main/10-exemplo-lorenco.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/darrennorris/epr/blob/main/10-exemplo-lorenco.Rmd",
"text": null
},
"download": ["epr.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
