<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Cap√≠tulo 5 Introdu√ß√£o ao R | Ecologia de Paisagens com R</title>
  <meta name="description" content="This is a minimal example." />
  <meta name="generator" content="bookdown 0.36 and GitBook 2.6.7" />

  <meta property="og:title" content="Cap√≠tulo 5 Introdu√ß√£o ao R | Ecologia de Paisagens com R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://darrennorris.github.io/epr/pref%C3%A1cio-%C3%A0-primeira-edi%C3%A7%C3%A3o.html//cover.jpg" />
  <meta property="og:description" content="This is a minimal example." />
  <meta name="github-repo" content="darrennorris/epr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Cap√≠tulo 5 Introdu√ß√£o ao R | Ecologia de Paisagens com R" />
  
  <meta name="twitter:description" content="This is a minimal example." />
  <meta name="twitter:image" content="https://darrennorris.github.io/epr/pref%C3%A1cio-%C3%A0-primeira-edi%C3%A7%C3%A3o.html//cover.jpg" />

<meta name="author" content="Darren Norris: darren.norris@unifap.br" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cap20.html"/>
<link rel="next" href="codigo-no-livro.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">epr</a></li>

<li class="divider"></li>
<li class="part"><span><b>I Apresenta√ß√£o</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bem-vindos</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimentos"><i class="fa fa-check"></i>Agradecimentos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pref√°cio-√†-primeira-edi√ß√£o.html"><a href="pref√°cio-√†-primeira-edi√ß√£o.html"><i class="fa fa-check"></i>Pref√°cio √† primeira edi√ß√£o</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html"><i class="fa fa-check"></i>Introdu√ß√£o</a>
<ul>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#o-que-voc√™-vai-aprender"><i class="fa fa-check"></i>O que voc√™ vai aprender</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#como-este-livro-est√°-organizado"><i class="fa fa-check"></i>Como este livro est√° organizado</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#o-que-voc√™-n√£o-vai-aprender"><i class="fa fa-check"></i>O que voc√™ n√£o vai aprender</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a>
<ul>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#r"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#o-universo-arrumado---tidyverse"><i class="fa fa-check"></i>O universo arrumado - tidyverse</a></li>
<li class="chapter" data-level="" data-path="introdu√ß√£o.html"><a href="introdu√ß√£o.html#outros-pacotes"><i class="fa fa-check"></i>Outros pacotes</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Escala e padr√µes</b></span></li>
<li class="chapter" data-level="1" data-path="escala.html"><a href="escala.html"><i class="fa fa-check"></i><b>1</b> Escala</a>
<ul>
<li class="chapter" data-level="1.1" data-path="escala.html"><a href="escala.html#apresenta√ß√£o"><i class="fa fa-check"></i><b>1.1</b> Apresenta√ß√£o</a></li>
<li class="chapter" data-level="1.2" data-path="escala.html"><a href="escala.html#escala-breve-defina√ß√£o"><i class="fa fa-check"></i><b>1.2</b> Escala: breve defina√ß√£o</a></li>
<li class="chapter" data-level="1.3" data-path="escala.html"><a href="escala.html#pacotes-e-dados"><i class="fa fa-check"></i><b>1.3</b> Pacotes e dados</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="escala.html"><a href="escala.html#pacotes"><i class="fa fa-check"></i><b>1.3.1</b> Pacotes</a></li>
<li class="chapter" data-level="1.3.2" data-path="escala.html"><a href="escala.html#dados"><i class="fa fa-check"></i><b>1.3.2</b> Dados</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="escala.html"><a href="escala.html#alterando-a-resolu√ß√£o"><i class="fa fa-check"></i><b>1.4</b> Alterando a resolu√ß√£o</a></li>
<li class="chapter" data-level="1.5" data-path="escala.html"><a href="escala.html#escala-espacial-e-desenho-amostral"><i class="fa fa-check"></i><b>1.5</b> Escala espacial e desenho amostral</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="escala.html"><a href="escala.html#obter-e-carregar-dados-vectores"><i class="fa fa-check"></i><b>1.5.1</b> Obter e carregar dados (vectores)</a></li>
<li class="chapter" data-level="1.5.2" data-path="escala.html"><a href="escala.html#visualizar-os-arquivos-camadas-vector"><i class="fa fa-check"></i><b>1.5.2</b> Visualizar os arquivos (camadas vector)</a></li>
<li class="chapter" data-level="1.5.3" data-path="escala.html"><a href="escala.html#obter-e-carregar-dados-raster"><i class="fa fa-check"></i><b>1.5.3</b> Obter e carregar dados (raster)</a></li>
<li class="chapter" data-level="1.5.4" data-path="escala.html"><a href="escala.html#visualizar-os-arquivos-camadas-raster-e-vector"><i class="fa fa-check"></i><b>1.5.4</b> Visualizar os arquivos (camadas raster e vector)</a></li>
<li class="chapter" data-level="1.5.5" data-path="escala.html"><a href="escala.html#reclassifica√ß√£o"><i class="fa fa-check"></i><b>1.5.5</b> Reclassifica√ß√£o</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="escala.html"><a href="escala.html#compara√ß√£o-multiescala"><i class="fa fa-check"></i><b>1.6</b> Compara√ß√£o multiescala</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="escala.html"><a href="escala.html#pergunta-4"><i class="fa fa-check"></i><b>1.6.1</b> Pergunta 4</a></li>
<li class="chapter" data-level="1.6.2" data-path="escala.html"><a href="escala.html#pergunta-5"><i class="fa fa-check"></i><b>1.6.2</b> Pergunta 5</a></li>
<li class="chapter" data-level="1.6.3" data-path="escala.html"><a href="escala.html#pergunta-6"><i class="fa fa-check"></i><b>1.6.3</b> Pergunta 6</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="escala.html"><a href="escala.html#pr√≥ximos-passos-repetindo-para-muitas-amostras."><i class="fa fa-check"></i><b>1.7</b> Pr√≥ximos passos: repetindo para muitas amostras.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html"><i class="fa fa-check"></i><b>2</b> M√©tricas da paisagem</a>
<ul>
<li class="chapter" data-level="2.1" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#apresenta√ß√£o-1"><i class="fa fa-check"></i><b>2.1</b> Apresenta√ß√£o</a></li>
<li class="chapter" data-level="2.2" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#m√©tricas-da-paisagem-e-pacote-landscapemetrics"><i class="fa fa-check"></i><b>2.2</b> M√©tricas da paisagem e pacote ‚Äúlandscapemetrics‚Äù</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#pacotes-1"><i class="fa fa-check"></i><b>2.2.1</b> Pacotes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#dados-1"><i class="fa fa-check"></i><b>2.3</b> Dados</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#exibir-dados-raster-e-sobreposi√ß√£o-com-locais-de-amostragem"><i class="fa fa-check"></i><b>2.3.1</b> Exibir dados raster e sobreposi√ß√£o com locais de amostragem</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#calculo-de-m√©tricas"><i class="fa fa-check"></i><b>2.4</b> Calculo de m√©tricas</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#ponto-√∫nico-raio-√∫nico-m√©trica-√∫nica"><i class="fa fa-check"></i><b>2.4.1</b> Ponto √∫nico, raio √∫nico, m√©trica √∫nica</a></li>
<li class="chapter" data-level="2.4.2" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#ponto-√∫nico-dist√¢ncias-variados-m√©trica-√∫nica"><i class="fa fa-check"></i><b>2.4.2</b> Ponto √∫nico, dist√¢ncias variados, m√©trica √∫nica</a></li>
<li class="chapter" data-level="2.4.3" data-path="m√©tricas-da-paisagem.html"><a href="m√©tricas-da-paisagem.html#ponto-√∫nico-dist√¢ncias-variados-m√©tricas-variadas"><i class="fa fa-check"></i><b>2.4.3</b> Ponto √∫nico, dist√¢ncias variados, m√©tricas variadas</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Exemplos de caso</b></span></li>
<li class="chapter" data-level="3" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html"><i class="fa fa-check"></i><b>3</b> Garimpo do Louren√ßo</a>
<ul>
<li class="chapter" data-level="3.1" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#apresenta√ß√£o-2"><i class="fa fa-check"></i><b>3.1</b> Apresenta√ß√£o</a></li>
<li class="chapter" data-level="3.2" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#pacotes-necessarios"><i class="fa fa-check"></i><b>3.2</b> Pacotes necessarios:</a></li>
<li class="chapter" data-level="3.3" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#√°rea-de-estudo"><i class="fa fa-check"></i><b>3.3</b> √Årea de estudo</a></li>
<li class="chapter" data-level="3.4" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#dados-2"><i class="fa fa-check"></i><b>3.4</b> Dados</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#ponto-de-refer√™ncia-epsg-4326"><i class="fa fa-check"></i><b>3.4.1</b> Ponto de refer√™ncia (EPSG: 4326)</a></li>
<li class="chapter" data-level="3.4.2" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#ponto-de-refer√™ncia-epsg-31976"><i class="fa fa-check"></i><b>3.4.2</b> Ponto de refer√™ncia (EPSG: 31976)</a></li>
<li class="chapter" data-level="3.4.3" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#verificar-com-mapa-de-base-openstreetmap."><i class="fa fa-check"></i><b>3.4.3</b> Verificar com mapa de base (OpenStreetMap).</a></li>
<li class="chapter" data-level="3.4.4" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#dados-mapbiomas-cobertura-da-terra"><i class="fa fa-check"></i><b>3.4.4</b> Dados: MapBiomas cobertura da terra</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#calculo-de-m√©tricas-1"><i class="fa fa-check"></i><b>3.5</b> Calculo de m√©tricas</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#m√©tricas-para-a-paisagem"><i class="fa fa-check"></i><b>3.5.1</b> M√©tricas para a paisagem</a></li>
<li class="chapter" data-level="3.5.2" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#m√©tricas-para-as-classes"><i class="fa fa-check"></i><b>3.5.2</b> M√©tricas para as classes</a></li>
<li class="chapter" data-level="3.5.3" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#m√©tricas-para-as-manchas"><i class="fa fa-check"></i><b>3.5.3</b> M√©tricas para as manchas</a></li>
<li class="chapter" data-level="3.5.4" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#quais-m√©tricas-devo-escolher"><i class="fa fa-check"></i><b>3.5.4</b> Quais m√©tricas devo escolher?</a></li>
<li class="chapter" data-level="3.5.5" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#m√©tricas-por-classe-de-minera√ß√£o"><i class="fa fa-check"></i><b>3.5.5</b> M√©tricas por classe de minera√ß√£o</a></li>
<li class="chapter" data-level="3.5.6" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#exportar-as-m√©tricas"><i class="fa fa-check"></i><b>3.5.6</b> Exportar as m√©tricas</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#preparando-os-resultados"><i class="fa fa-check"></i><b>3.6</b> Preparando os resultados</a></li>
<li class="chapter" data-level="3.7" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#uma-tabela-versatil"><i class="fa fa-check"></i><b>3.7</b> Uma tabela versatil</a></li>
<li class="chapter" data-level="3.8" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#reorganiza√ß√£o"><i class="fa fa-check"></i><b>3.8</b> Reorganiza√ß√£o</a></li>
<li class="chapter" data-level="3.9" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#uma-figura-elegante"><i class="fa fa-check"></i><b>3.9</b> Uma figura elegante</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#gr√°fico-de-barra"><i class="fa fa-check"></i><b>3.9.1</b> Gr√°fico de barra</a></li>
<li class="chapter" data-level="3.9.2" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#gr√°fico-de-boxplot"><i class="fa fa-check"></i><b>3.9.2</b> Gr√°fico de boxplot</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#compara√ß√£o-entre-anos"><i class="fa fa-check"></i><b>3.10</b> Compara√ß√£o entre anos</a></li>
<li class="chapter" data-level="3.11" data-path="garimpo-do-louren√ßo.html"><a href="garimpo-do-louren√ßo.html#conclus√µes-e-pr√≥ximos-passos"><i class="fa fa-check"></i><b>3.11</b> Conclus√µes e pr√≥ximos passos</a></li>
</ul></li>
<li class="part"><span><b>IV R e RStudio: Codigo com certeza</b></span></li>
<li class="chapter" data-level="4" data-path="cap20.html"><a href="cap20.html"><i class="fa fa-check"></i><b>4</b> Pr√©-requisitos</a>
<ul>
<li class="chapter" data-level="4.1" data-path="cap20.html"><a href="cap20.html#introdu√ß√£o-1"><i class="fa fa-check"></i><b>4.1</b> Introdu√ß√£o</a></li>
<li class="chapter" data-level="4.2" data-path="cap20.html"><a href="cap20.html#instala√ß√£o-do-r"><i class="fa fa-check"></i><b>4.2</b> Instala√ß√£o do R</a></li>
<li class="chapter" data-level="4.3" data-path="cap20.html"><a href="cap20.html#instala√ß√£o-do-rstudio"><i class="fa fa-check"></i><b>4.3</b> Instala√ß√£o do RStudio</a></li>
<li class="chapter" data-level="4.4" data-path="cap20.html"><a href="cap20.html#vers√£o-do-r"><i class="fa fa-check"></i><b>4.4</b> Vers√£o do R</a></li>
<li class="chapter" data-level="4.5" data-path="cap20.html"><a href="cap20.html#pacotes-2"><i class="fa fa-check"></i><b>4.5</b> Pacotes</a></li>
<li class="chapter" data-level="4.6" data-path="cap20.html"><a href="cap20.html#dados-3"><i class="fa fa-check"></i><b>4.6</b> Dados</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cap21.html"><a href="cap21.html"><i class="fa fa-check"></i><b>5</b> Introdu√ß√£o ao R</a>
<ul>
<li class="chapter" data-level="" data-path="cap21.html"><a href="cap21.html#pr√©-requisitos-do-cap√≠tulo"><i class="fa fa-check"></i>Pr√©-requisitos do cap√≠tulo</a></li>
<li class="chapter" data-level="5.1" data-path="cap21.html"><a href="cap21.html#contextualiza√ß√£o"><i class="fa fa-check"></i><b>5.1</b> Contextualiza√ß√£o</a></li>
<li class="chapter" data-level="5.2" data-path="cap21.html"><a href="cap21.html#r-e-rstudio"><i class="fa fa-check"></i><b>5.2</b> R e RStudio</a></li>
<li class="chapter" data-level="5.3" data-path="cap21.html"><a href="cap21.html#funcionamento-da-linguagem-r"><i class="fa fa-check"></i><b>5.3</b> Funcionamento da linguagem R</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="cap21.html"><a href="cap21.html#console"><i class="fa fa-check"></i><b>5.3.1</b> Console</a></li>
<li class="chapter" data-level="5.3.2" data-path="cap21.html"><a href="cap21.html#scripts"><i class="fa fa-check"></i><b>5.3.2</b> Scripts</a></li>
<li class="chapter" data-level="5.3.3" data-path="cap21.html"><a href="cap21.html#operadores"><i class="fa fa-check"></i><b>5.3.3</b> Operadores</a></li>
<li class="chapter" data-level="5.3.4" data-path="cap21.html"><a href="cap21.html#objetos"><i class="fa fa-check"></i><b>5.3.4</b> Objetos</a></li>
<li class="chapter" data-level="5.3.5" data-path="cap21.html"><a href="cap21.html#fun√ß√µes"><i class="fa fa-check"></i><b>5.3.5</b> Fun√ß√µes</a></li>
<li class="chapter" data-level="5.3.6" data-path="cap21.html"><a href="cap21.html#pacotes-3"><i class="fa fa-check"></i><b>5.3.6</b> Pacotes</a></li>
<li class="chapter" data-level="5.3.7" data-path="cap21.html"><a href="cap21.html#ajuda-help"><i class="fa fa-check"></i><b>5.3.7</b> Ajuda (<em>Help</em>)</a></li>
<li class="chapter" data-level="5.3.8" data-path="cap21.html"><a href="cap21.html#ambiente-environment"><i class="fa fa-check"></i><b>5.3.8</b> Ambiente (<em>Environment</em>)</a></li>
<li class="chapter" data-level="5.3.9" data-path="cap21.html"><a href="cap21.html#cita√ß√µes"><i class="fa fa-check"></i><b>5.3.9</b> Cita√ß√µes</a></li>
<li class="chapter" data-level="5.3.10" data-path="cap21.html"><a href="cap21.html#principais-erros-de-iniciantes"><i class="fa fa-check"></i><b>5.3.10</b> Principais erros de iniciantes</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="cap21.html"><a href="cap21.html#estrutura-e-manipula√ß√£o-de-objetos"><i class="fa fa-check"></i><b>5.4</b> Estrutura e manipula√ß√£o de objetos</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="cap21.html"><a href="cap21.html#atributo-dos-objetos"><i class="fa fa-check"></i><b>5.4.1</b> Atributo dos objetos</a></li>
<li class="chapter" data-level="5.4.2" data-path="cap21.html"><a href="cap21.html#manipula√ß√£o-de-objetos-unidimensionais"><i class="fa fa-check"></i><b>5.4.2</b> Manipula√ß√£o de objetos unidimensionais</a></li>
<li class="chapter" data-level="5.4.3" data-path="cap21.html"><a href="cap21.html#manipula√ß√£o-de-objetos-multidimensionais"><i class="fa fa-check"></i><b>5.4.3</b> Manipula√ß√£o de objetos multidimensionais</a></li>
<li class="chapter" data-level="5.4.4" data-path="cap21.html"><a href="cap21.html#valores-faltantes-e-especiais"><i class="fa fa-check"></i><b>5.4.4</b> Valores faltantes e especiais</a></li>
<li class="chapter" data-level="5.4.5" data-path="cap21.html"><a href="cap21.html#diret√≥rio-de-trabalho"><i class="fa fa-check"></i><b>5.4.5</b> Diret√≥rio de trabalho</a></li>
<li class="chapter" data-level="5.4.6" data-path="cap21.html"><a href="cap21.html#importar-dados"><i class="fa fa-check"></i><b>5.4.6</b> Importar dados</a></li>
<li class="chapter" data-level="5.4.7" data-path="cap21.html"><a href="cap21.html#confer√™ncia-dos-dados-importados"><i class="fa fa-check"></i><b>5.4.7</b> Confer√™ncia dos dados importados</a></li>
<li class="chapter" data-level="5.4.8" data-path="cap21.html"><a href="cap21.html#exportar-dados"><i class="fa fa-check"></i><b>5.4.8</b> Exportar dados</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="cap21.html"><a href="cap21.html#para-se-aprofundar"><i class="fa fa-check"></i><b>5.5</b> Para se aprofundar</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="cap21.html"><a href="cap21.html#livros"><i class="fa fa-check"></i><b>5.5.1</b> Livros</a></li>
<li class="chapter" data-level="5.5.2" data-path="cap21.html"><a href="cap21.html#links"><i class="fa fa-check"></i><b>5.5.2</b> Links</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="cap21.html"><a href="cap21.html#exerc√≠cios"><i class="fa fa-check"></i><b>5.6</b> Exerc√≠cios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="codigo-no-livro.html"><a href="codigo-no-livro.html"><i class="fa fa-check"></i><b>6</b> Codigo no livro</a>
<ul>
<li class="chapter" data-level="6.1" data-path="codigo-no-livro.html"><a href="codigo-no-livro.html#organiza√ß√£o-do-codigo-no-livro"><i class="fa fa-check"></i><b>6.1</b> Organiza√ß√£o do codigo no livro</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="primeiros-passos-com-uma-raster.html"><a href="primeiros-passos-com-uma-raster.html"><i class="fa fa-check"></i><b>7</b> Primeiros passos com uma raster</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="primeiros-passos-com-uma-raster.html"><a href="primeiros-passos-com-uma-raster.html#obter-e-carregar-dados-raster-1"><i class="fa fa-check"></i><b>7.0.1</b> Obter e carregar dados (raster)</a></li>
<li class="chapter" data-level="7.0.2" data-path="primeiros-passos-com-uma-raster.html"><a href="primeiros-passos-com-uma-raster.html#reclassifica√ß√£o-1"><i class="fa fa-check"></i><b>7.0.2</b> Reclassifica√ß√£o</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="primeiros-passos-com-vector.html"><a href="primeiros-passos-com-vector.html"><i class="fa fa-check"></i><b>8</b> Primeiros passos com vector</a>
<ul>
<li class="chapter" data-level="8.1" data-path="primeiros-passos-com-vector.html"><a href="primeiros-passos-com-vector.html#obter-e-carregar-dados-vectores-1"><i class="fa fa-check"></i><b>8.1</b> Obter e carregar dados (vectores)</a></li>
<li class="chapter" data-level="8.2" data-path="primeiros-passos-com-vector.html"><a href="primeiros-passos-com-vector.html#visualizar-os-arquivos-camadas-vector-1"><i class="fa fa-check"></i><b>8.2</b> Visualizar os arquivos (camadas vector)</a></li>
</ul></li>
<li class="part"><span><b>V Encerramento</b></span></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a></li>
<li class="chapter" data-level="" data-path=""><a href="#appendix-ap√™ndice"><i class="fa fa-check"></i>(APPENDIX) Ap√™ndice</a>
<ul>
<li class="chapter" data-level="8.3" data-path="bibliografia.html"><a href="bibliografia.html#download-mapbiomas-cover"><i class="fa fa-check"></i><b>8.3</b> Download mapbiomas cover</a></li>
<li class="chapter" data-level="8.4" data-path="bibliografia.html"><a href="bibliografia.html#crop-mapbiomas-cover"><i class="fa fa-check"></i><b>8.4</b> Crop mapbiomas cover</a></li>
<li class="chapter" data-level="8.5" data-path="bibliografia.html"><a href="bibliografia.html#plot-with-legend"><i class="fa fa-check"></i><b>8.5</b> Plot with legend</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="solu√ß√µes-de-exerc√≠cios.html"><a href="solu√ß√µes-de-exerc√≠cios.html"><i class="fa fa-check"></i><b>9</b> Solu√ß√µes de exerc√≠cios</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ecologia de Paisagens com R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cap21" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Cap√≠tulo 5</span> Introdu√ß√£o ao R<a href="cap21.html#cap21" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Conteudo copiado, com pequenas altera√ß√µes e atualiza√ß√µes de <a href="https://analises-ecologicas.com/cap4">Cap√≠tulo 4 Introdu√ß√£o ao R</a>, do livro <a href="https://analises-ecologicas.com/">An√°lises Ecol√≥gicas no R</a> .</p>
<div id="pr√©-requisitos-do-cap√≠tulo" class="section level2 unnumbered hasAnchor">
<h2>Pr√©-requisitos do cap√≠tulo<a href="cap21.html#pr√©-requisitos-do-cap√≠tulo" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pacotes e dados que ser√£o utilizados neste cap√≠tulo.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="cap21.html#cb1-1" tabindex="-1"></a><span class="do">## Pacotes</span></span>
<span id="cb1-2"><a href="cap21.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-3"><a href="cap21.html#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="cap21.html#cb1-4" tabindex="-1"></a><span class="do">## Dados necess√°rios</span></span>
<span id="cb1-5"><a href="cap21.html#cb1-5" tabindex="-1"></a>pinguins <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins</span></code></pre></div>
</div>
<div id="contextualiza√ß√£o" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Contextualiza√ß√£o<a href="cap21.html#contextualiza√ß√£o" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O objetivo deste cap√≠tulo √© apresentar os aspectos b√°sicos da linguagem R para a realiza√ß√£o dos principais passos para a manipula√ß√£o, visualiza√ß√£o e an√°lise de dados. Abordaremos aqui as quest√µes b√°sicas sobre a linguagem R, como: i) R e RStudio, ii) funcionamento da linguagem, iii) estrutura e manipula√ß√£o de objetos, iv) exerc√≠cios e v) principais livros e material para se aprofundar nos seus estudos.</p>
<p>Todo processo de aprendizagem torna-se mais efetivo quando a teoria √© combinada com a pr√°tica. Assim, recomendamos fortemente que voc√™, leitor(a) acompanhe os c√≥digos e exerc√≠cios deste livro, ao mesmo tempo que os executa em seu computador e n√£o s√≥ os leia passivamente. Al√©m disso, se voc√™ tiver seus pr√≥prios dados √© muito importante tentar executar e/ou replicar as an√°lises e/ou gr√°ficos. Por motivos de espa√ßo, n√£o abordaremos todas as quest√µes relacionadas ao uso da linguagem R neste cap√≠tulo. Logo, aconselhamos que voc√™ consulte o material sugerido no final do cap√≠tulo para se aprofundar.</p>
<p>Este cap√≠tulo, na maioria das vezes, pode desestimular as pessoas que est√£o iniciando, uma vez que o mesmo n√£o apresenta os c√≥digos para realizar as an√°lises estat√≠sticas. Contudo, ele √© essencial para o entendimento e interpreta√ß√£o do que est√° sendo informado nas linhas de c√≥digo, al√©m de facilitar a manipula√ß√£o dos dados antes de realizar as an√°lises estat√≠sticas. Voc√™ perceber√° que n√£o usar√° este cap√≠tulo para fazer as an√°lises, mas voltar√° aqui diversas vezes para relembrar qual √© o c√≥digo ou o que significa determinada express√£o ou fun√ß√£o usada nos pr√≥ximos cap√≠tulos.</p>
</div>
<div id="r-e-rstudio" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> R e RStudio<a href="cap21.html#r-e-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Com o R √© poss√≠vel manipular, analisar e visualizar dados, al√©m de escrever desde pequenas linhas de c√≥digos at√© programas inteiros. O R √© a vers√£o em c√≥digo aberto de uma linguagem de programa√ß√£o chamada de S, criada por John M. Chambers (Stanford University, CA, EUA) nos anos 1980 no Bell Labs. No final dos anos 1990, Robert Gentleman e Ross Ihaka (ambos da Universidade de Auckland, Nova Zel√¢ndia), iniciaram o desenvolvimento da vers√£o livre da linguagem S, a linguagem R, com o seguinte hist√≥rico: Desenvolvimento (1997-2000), Vers√£o 1 (2000-2004), Vers√£o 2 (2004-2013), Vers√£o 3 (2013-2020) e Vers√£o 4 (2020). Atualmente a linguagem R √© mantida por uma rede de colaboradores denominada <em>R Core Team</em>. A origem do nome R √© desconhecida, mas reza a lenda que ao lan√ßarem o nome da linguagem os autores se valeram da letra que vinha antes do S, uma vez que a linguagem R foi baseada nela e utilizaram a letra ‚ÄúR‚Äù. Outra hist√≥ria conta que pelo fato do nome dos dois autores iniciarem por ‚ÄúR‚Äù, batizaram a linguagem com essa letra, vai saber.</p>
<p>Um aspecto digno de nota √© que a linguagem R √© uma linguagem de programa√ß√£o interpretada, assim como o <a href="https://www.python.org/">Python</a>. Isso a faz ser mais f√°cil de ser utilizada, pois processa linhas de c√≥digo e as transforma em linguagem de m√°quina (c√≥digo bin√°rio que o computador efetivamente l√™), apesar desse fato diminuir a velocidade de processamento.</p>
<p>Para come√ßarmos a trabalhar com o R √© necess√°rio baix√°-lo na p√°gina do <strong>R Project</strong>. Os detalhes de instala√ß√£o s√£o apresentados no Cap√≠tulo <a href="cap20.html#cap20">4</a>. Reserve um tempo para explorar esta p√°gina do R-Project (<a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a>). Existem v√°rios <a href="http://www.r-project.org/doc/bib/R-books.html">livros</a> dedicados a diversos assuntos baseados no R. Al√©m disso, est√£o dispon√≠veis <a href="http://cran.r-project.org/manuals.html">manuais</a> em <a href="http://cran.r-project.org/other-docs.html">diversas l√≠nguas</a> para serem baixados gratuitamente.</p>
<p>Como o R √© um software livre, n√£o existe a possibilidade de o usu√°rio entrar em contato com um servi√ßo de suporte de usu√°rios. Ao inv√©s disso, existem v√°rias listas de e-mails que fornecem suporte √† <a href="http://www.r-project.org/mail.html">comunidade de usu√°rios</a>. N√≥s, particularmente, recomendamos o ingresso nas seguintes listas: R-help, R-sig-ecolog, <a href="http://www.leg.ufpr.br/doku.php/software:rbr">R-br</a> e <a href="https://discourse.curso-r.com/">discourse.curso-r</a>. Os dois √∫ltimos grupos re√∫nem pessoas usu√°rias brasileiras do programa R.</p>
<p>Apesar de podermos utilizar o R com o IDE (Ambiente de Desenvolvimento Integrado - <em>Integrated Development Environment</em>) RGui que vem com a instala√ß√£o da linguagem R para usu√°rios Windows ou no pr√≥prio terminal para usu√°rios Linux e MacOS, existem alguns IDEs espec√≠ficos para facilitar nosso uso dessa linguagem.</p>
<div class="figure"><span style="display:block;" id="fig:fig-rgui"></span>
<img src="figures/cap04_fig01.png" alt="Interface do RGui. Os n√∫meros indicam: (1) R Script, (2) R Console, e (3) R Graphics." width="669" />
<p class="caption">
Figura 5.1: Interface do RGui. Os n√∫meros indicam: (1) R Script, (2) R Console, e (3) R Graphics.
</p>
</div>
<p>Dessa forma, n√≥s utilizamos o IDE RStudio, e assumimos que voc√™ que est√° lendo far√° o mesmo.</p>
<p>O RStudio permite diversas personaliza√ß√µes, grande parte delas contidas em <code>Tools &gt; Global options</code>. Incentivamos as leitoras e leitores a ‚Äúfu√ßar‚Äù com certa dose de cuidado, nas op√ß√µes para personaliza√ß√£o. Dentre essas mudan√ßas, destacamos tr√™s:</p>
<ol style="list-style-type: decimal">
<li><code>Tools &gt; Global options &gt; Appearance &gt; Editor theme</code>: para escolher um tema para seu RStudio</li>
<li><code>Tools &gt; Global options &gt; Code &gt; [X] Soft-wrap R source files</code>: com essa op√ß√£o habilitada, quando escrevemos coment√°rios longos ou mudamos a largura da janela que estamos trabalhando, todo o texto e o c√≥digo se ajustam a janela automaticamente</li>
<li><code>Tools &gt; Global options &gt; Code &gt; Display &gt; [X Show Margis] e Margin column (80)</code>: com essa op√ß√£o habilitada e para esse valor (80), uma linha vertical ir√° aparecer no script marcando 80 caracteres, um comprimento m√°ximo recomendado para padroniza√ß√£o dos scripts</li>
</ol>
<div class="alert alert-info">
<p><strong> üìù Importante </strong><br />
Para evitar poss√≠veis erros √© importante instalar primeiro o software da linguagem R e depois o IDE RStudio.</p>
</div>
<p>O RStudio permite tamb√©m trabalhar com projetos. <strong>Projeto do RStudio</strong> √© uma forma de organizar os arquivos de scripts e dados dentro de um diret√≥rio, facilitando o compartilhamento de fluxo de an√°lises de dados e aumentando assim a reprodutibilidade. Podemos criar um Projeto do RStudio indo em <code>File &gt; New Project</code> ou no √≠cone de cubo azul escuro que possui um R dentro com um um c√≠rculo verde com um sinal de <code>+</code> na parte superior esquerda ou ainda no canto superior direito que possui cubo azul escrito <code>Project</code> que serve para gerenciar os projetos e depois em <code>New Project.</code> Depois de escolher uma dessas op√ß√µes, uma janela se abrir√° onde escolhemos uma das tr√™s op√ß√µes: i) New Directory (para criar um diret√≥rio novo com diversas op√ß√µes), ii) Existing Directory (para escolher um diret√≥rio j√° existente) e iii) Version Control (para criar um projeto que ser√° versionado pelo git ou Subversion).</p>
</div>
<div id="funcionamento-da-linguagem-r" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Funcionamento da linguagem R<a href="cap21.html#funcionamento-da-linguagem-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nesta se√ß√£o, veremos os principais conceitos para entender como a linguagem R funciona ou como geralmente utilizamos o IDE RStudio no dia a dia, para executar nossas rotinas utilizando a linguagem R. Veremos ent√£o: i) console, ii) script, iii) operadores, iv) objetos, v) fun√ß√µes, vi) pacotes, vii) ajuda (<em>help</em>), viii) ambiente (<em>environment/workspace</em>), ix) cita√ß√µes e x) principais erros.</p>
<p>Antes de iniciarmos o uso do R pelo RStudio √© fundamental entendermos alguns pontos sobre as janelas e o funcionamento delas no RStudio.</p>
<div class="figure"><span style="display:block;" id="fig:fig-rstudio"></span>
<img src="figures/cap04_fig02.png" alt="Interface do RStudio. Os n√∫meros indicam: (1) janela com abas de Script, R Markdown, dentre outras; (2) janela com abas de Console, Terminal e Jobs; (3) janela com abas de Environment, History, Conections e Tutorial; e (4) janela com abas de Files, Plots, Packages, Help e Viewer." width="666" />
<p class="caption">
Figura 5.2: Interface do RStudio. Os n√∫meros indicam: (1) janela com abas de Script, R Markdown, dentre outras; (2) janela com abas de Console, Terminal e Jobs; (3) janela com abas de Environment, History, Conections e Tutorial; e (4) janela com abas de Files, Plots, Packages, Help e Viewer.
</p>
</div>
<p>Detalhando algumas dessas janelas e abas, temos:</p>
<ul>
<li><strong>Console</strong>: painel onde os c√≥digos s√£o rodados e vemos as sa√≠das</li>
<li><strong>Editor/Script</strong>: painel onde escrevemos nossos c√≥digos em R, R Markdown ou outro formato</li>
<li><strong>Environment</strong>: painel com todos os objetos criados na sess√£o</li>
<li><strong>History</strong>: painel com o hist√≥rico dos c√≥digos rodados</li>
<li><strong>Files</strong>: painel que mostra os arquivos no diret√≥rio de trabalho</li>
<li><strong>Plots</strong>: painel onde os gr√°ficos s√£o apresentados</li>
<li><strong>Packages</strong>: painel que lista os pacotes</li>
<li><strong>Help</strong>: painel onde a documenta√ß√£o das fun√ß√µes √© exibida</li>
</ul>
<p>No RStudio, alguns atalhos s√£o fundamentais para aumentar nossa produtividade:</p>
<ul>
<li><strong>F1</strong>: abre o painel de <em>Help</em> quando digitado em cima do nome de uma fun√ß√£o</li>
<li><strong>Ctrl + Enter</strong>: roda a linha de c√≥digo selecionada no script</li>
<li><strong>Ctrl + Shift + N</strong>: abre um novo script</li>
<li><strong>Ctrl + S</strong>: salva um script</li>
<li><strong>Ctrl + Z</strong>: desfaz uma opera√ß√£o</li>
<li><strong>Ctrl + Shift + Z</strong>: refaz uma opera√ß√£o</li>
<li><strong>Alt + -</strong>: insere um sinal de atribui√ß√£o (&lt;-)</li>
<li><strong>Ctrl + Shift + M</strong>: insere um operador pipe (%&gt;%)</li>
<li><strong>Ctrl + Shift + C</strong>: comenta uma linha no script - insere um (#)</li>
<li><strong>Ctrl + I</strong>: indenta (recuo inicial das linhas) as linhas</li>
<li><strong>Ctrl + Shift + A</strong>: reformata o c√≥digo</li>
<li><strong>Ctrl + Shift + R</strong>: insere uma sess√£o (# ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî-)</li>
<li><strong>Ctrl + Shift + H</strong>: abre uma janela para selecionar o diret√≥rio de trabalho</li>
<li><strong>Ctrl + Shift + F10</strong>: reinicia o console</li>
<li><strong>Ctrl + L</strong>: limpa os c√≥digos do console</li>
<li><strong>Alt + Shift + K</strong>: abre uma janela com todos os atalhos dispon√≠veis</li>
</ul>
<div id="console" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Console<a href="cap21.html#console" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O console √© onde a vers√£o da linguagem R instalada √© carregada para executar os c√≥digos da linguagem R (Figura <a href="cap21.html#fig:fig-rstudio">5.2</a> janela 2). Na janela do console aparecer√° o s√≠mbolo <code>&gt;</code>, seguido de uma barra vertical <code>|</code> que fica piscando (cursor), onde digitamos ou enviamos nossos c√≥digos do script. Podemos fazer um pequeno exerc√≠cio: vamos digitar <code>10 + 2</code>, seguido da tecla <code>Enter</code> para que essa opera√ß√£o seja executada.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="cap21.html#cb2-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>O resultado retorna o valor <code>12</code>, precedido de um valor entre colchetes. Esses colchetes demonstram a posi√ß√£o do elemento numa sequ√™ncia de valores. Se fizermos essa outra opera√ß√£o <code>1:42</code>, o R vai criar uma sequ√™ncia unit√°ria de valores de 1 a 42. A depender da largura da janela do console, vai aparecer um n√∫mero diferente entre colchetes indicando sua posi√ß√£o na sequ√™ncia: antes do n√∫mero 1 vai aparecer o <code>[1]</code>, depois quando a sequ√™ncia for quebrada, vai aparecer o n√∫mero correspondente da posi√ß√£o do elemento, por exemplo, <code>[37]</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="cap21.html#cb4-1" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">42</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42</code></pre>
<p>Podemos ver o hist√≥rico dos c√≥digos executados no console na aba <strong>History</strong> (Figura <a href="cap21.html#fig:fig-rstudio">5.2</a> janela 3).</p>
</div>
<div id="scripts" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Scripts<a href="cap21.html#scripts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Scripts s√£o arquivos de texto simples, criados com a extens√£o (termina√ß√£o) <code>.R</code> (Figura <a href="cap21.html#fig:fig-rstudio">5.2</a> janela 1). Para criar um script, basta ir em <code>File &gt; New File &gt; R Script</code>, ou clicar no √≠cone com uma folha branca e um c√≠rculo verde com um sinal de <code>+</code>, logo abaixo de <code>File</code>, ou ainda usando o atalho <code>Ctrl + Shift + N</code>.</p>
<p>Uma vez escrito os c√≥digos no script podemos rodar esses c√≥digos de duas formas: i) todo o script de uma vez, clicando em <em>Source</em> (que fina no canto superior direito da aba script) ou usando o atalho <code>Ctrl + Shift + Enter</code>; ou ii) apenas a linha onde o cursor estiver posicionado, independentemente de sua posi√ß√£o naquela linha, clicando em <strong>Run</strong> ou usando o atalho <code>Ctrl + Enter</code>.</p>
<p>Devemos sempre salvar nossos scripts, tomando por via de regra: primeiro criar o arquivo e depois ir salvando nesse mesmo arquivo a cada passo de desenvolvimento das an√°lises (n√£o √© raro o RStudio fechar sozinho e voc√™ perder algum tempo de trabalho). H√° diversos motivos para se criar um script: continuar o desenvolvimento desse script em outro momento ou em outro computador, preservar trabalhos passados, ou ainda compartilhar seus c√≥digos com outras pessoas. Para criar ou salvar um script basta ir em <code>File &gt; Save</code>, escolher um diret√≥rio e nome para o script e salv√°-lo. Podemos ainda utilizar o atalho <code>Ctrl + S</code>.</p>
<p>Em rela√ß√£o aos scripts, h√° ainda os coment√°rios, representados pelos s√≠mbolos <code>#</code> (hash), <code>#'</code> (hash-linha) e <code>#&gt;</code> (hash-maior). A diferen√ßa entre eles √© que para o segundo e terceiro, quando pressionamos a tecla <code>Enter</code> o coment√°rio <code>#'</code> e <code>#&gt;</code> s√£o inseridos automaticamente na linha seguinte. Linhas de c√≥digos do script contendo coment√°rios em seu in√≠cio n√£o s√£o lidos pelo console do R. Se o coment√°rio estiver no final da linha, essa linha de c√≥digo ainda ser√° lida. Os coment√°rios s√£o utilizados geralmente para: i) descrever informa√ß√µes sobre dados ou fun√ß√µes e/ou ii) suprimir linhas de c√≥digo.</p>
<p>√â interessante ter no in√≠cio de cada script um cabe√ßalho identificando o objetivo ou an√°lise, autor e data para facilitar o compartilhamento e reprodutibilidade. Os coment√°rios podem ser inseridos ou retirados das linhas com o atalho <code>Ctrl + Shift + C</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="cap21.html#cb6-1" tabindex="-1"></a><span class="co">#&#39; ---</span></span>
<span id="cb6-2"><a href="cap21.html#cb6-2" tabindex="-1"></a><span class="co">#&#39; T√≠tulo: Cap√≠tulo 04 - Introdu√ß√£o ao R</span></span>
<span id="cb6-3"><a href="cap21.html#cb6-3" tabindex="-1"></a><span class="co">#&#39; Autor: Maur√≠cio Vancine</span></span>
<span id="cb6-4"><a href="cap21.html#cb6-4" tabindex="-1"></a><span class="co">#&#39; Data: 11-11-2021</span></span>
<span id="cb6-5"><a href="cap21.html#cb6-5" tabindex="-1"></a><span class="co">#&#39; ---</span></span></code></pre></div>
<p>Al√©m disso, podemos usar coment√°rios para adicionar informa√ß√µes sobre os c√≥digos.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="cap21.html#cb7-1" tabindex="-1"></a><span class="do">## Coment√°rios</span></span>
<span id="cb7-2"><a href="cap21.html#cb7-2" tabindex="-1"></a><span class="co"># O R n√£o l√™ a linha do c√≥digo depois do # (hash).</span></span>
<span id="cb7-3"><a href="cap21.html#cb7-3" tabindex="-1"></a><span class="dv">42</span> <span class="co"># Essas palavras n√£o s√£o executadas, apenas o 42, a resposta para quest√£o fundamental da vida, o universo e tudo mais.</span></span></code></pre></div>
<pre><code>## [1] 42</code></pre>
<p>Por fim, outro ponto fundamental √© ter boas pr√°ticas de estilo de c√≥digo. Quanto mais organizado e padronizado estiver seus scripts, mais f√°cil de entend√™-los e de procurar poss√≠veis erros. Existem dois guias de boas pr√°ticas para adequar seus scripts: <a href="https://adv-r.hadley.nz/index.html">Hadley Wickham</a> e <a href="https://google.github.io/styleguide/Rguide.xml">Google</a>. Para simplificar a vida temos o pacote styler (<a href="https://styler.r-lib.org/" class="uri">https://styler.r-lib.org/</a>), que serve para adequar o codigo.</p>
<p>Ainda em rela√ß√£o aos scripts, temos os <em>Code Snippets</em> (Fragmentos de c√≥digo), que s√£o macros de texto usadas para inserir rapidamente fragmentos comuns de c√≥digo. Por exemplo, o snippet <code>fun</code> insere uma defini√ß√£o de fun√ß√£o R. Para mais detalhes, ler o artigo do RStudio <a href="https://support.rstudio.com/hc/en-us/articles/204463668-Code-Snippets">Code Snippets</a>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="cap21.html#cb9-1" tabindex="-1"></a><span class="co"># fun {snippet}</span></span>
<span id="cb9-2"><a href="cap21.html#cb9-2" tabindex="-1"></a>fun</span>
<span id="cb9-3"><a href="cap21.html#cb9-3" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="cf">function</span>(variables) {</span>
<span id="cb9-4"><a href="cap21.html#cb9-4" tabindex="-1"></a>    </span>
<span id="cb9-5"><a href="cap21.html#cb9-5" tabindex="-1"></a>}</span></code></pre></div>
<p>Uma aplica√ß√£o bem interessante dos <em>Code Snippets</em> no script √© o <code>ts</code>. Basta digitar esse c√≥digo e em seguida pressionar a tecla <code>Tab</code> para inserir rapidamente a data e hor√°rio atuais no script em forma de coment√°rio.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="cap21.html#cb10-1" tabindex="-1"></a><span class="co"># ts {snippet}</span></span>
<span id="cb10-2"><a href="cap21.html#cb10-2" tabindex="-1"></a><span class="co"># Thu Nov 11 18:19:26 2021 ------------------------------</span></span></code></pre></div>
</div>
<div id="operadores" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Operadores<a href="cap21.html#operadores" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>No R, podemos agrupar os operadores em cinco tipos: aritm√©ticos, relacionais, l√≥gicos, atribui√ß√£o e diversos.</p>
<table>
<caption><span id="tab:tab-operadores">Tabela 5.1: </span>Principais operadores no R.</caption>
<thead>
<tr class="header">
<th align="center">Operador</th>
<th align="center">Tipo</th>
<th align="center">Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">+</td>
<td align="center">Aritm√©tico</td>
<td align="center">Adi√ß√£o</td>
</tr>
<tr class="even">
<td align="center">-</td>
<td align="center">Aritm√©tico</td>
<td align="center">Subtra√ß√£o</td>
</tr>
<tr class="odd">
<td align="center">*</td>
<td align="center">Aritm√©tico</td>
<td align="center">Multiplica√ß√£o</td>
</tr>
<tr class="even">
<td align="center">/</td>
<td align="center">Aritm√©tico</td>
<td align="center">Divis√£o</td>
</tr>
<tr class="odd">
<td align="center">%%</td>
<td align="center">Aritm√©tico</td>
<td align="center">Resto da divis√£o</td>
</tr>
<tr class="even">
<td align="center">%/%</td>
<td align="center">Aritm√©tico</td>
<td align="center">Divis√£o inteira</td>
</tr>
<tr class="odd">
<td align="center">^ ou **</td>
<td align="center">Aritm√©tico</td>
<td align="center">Expoente</td>
</tr>
<tr class="even">
<td align="center">&gt;</td>
<td align="center">Relacional</td>
<td align="center">Maior</td>
</tr>
<tr class="odd">
<td align="center">&lt;</td>
<td align="center">Relacional</td>
<td align="center">Menor</td>
</tr>
<tr class="even">
<td align="center">&gt;=</td>
<td align="center">Relacional</td>
<td align="center">Maior ou igual</td>
</tr>
<tr class="odd">
<td align="center">&lt;=</td>
<td align="center">Relacional</td>
<td align="center">Menor ou igual</td>
</tr>
<tr class="even">
<td align="center">==</td>
<td align="center">Relacional</td>
<td align="center">Igualdade</td>
</tr>
<tr class="odd">
<td align="center">!=</td>
<td align="center">Relacional</td>
<td align="center">Diferen√ßa</td>
</tr>
<tr class="even">
<td align="center">!</td>
<td align="center">L√≥gico</td>
<td align="center">L√≥gico N√ÉO</td>
</tr>
<tr class="odd">
<td align="center">&amp;</td>
<td align="center">L√≥gico</td>
<td align="center">L√≥gico elementar E</td>
</tr>
<tr class="even">
<td align="center">|</td>
<td align="center">L√≥gico</td>
<td align="center">L√≥gico elementar OU</td>
</tr>
<tr class="odd">
<td align="center">&amp;&amp;</td>
<td align="center">L√≥gico</td>
<td align="center">L√≥gico E</td>
</tr>
<tr class="even">
<td align="center">||</td>
<td align="center">L√≥gico</td>
<td align="center">L√≥gico OU</td>
</tr>
<tr class="odd">
<td align="center">&lt;- ou =</td>
<td align="center">Atribui√ß√£o</td>
<td align="center">Atribui√ß√£o √† esquerda</td>
</tr>
<tr class="even">
<td align="center">&lt;&lt;-</td>
<td align="center">Atribui√ß√£o</td>
<td align="center">Super atribui√ß√£o √† esquerda</td>
</tr>
<tr class="odd">
<td align="center">-&gt;</td>
<td align="center">Atribui√ß√£o</td>
<td align="center">Atribui√ß√£o √† direita</td>
</tr>
<tr class="even">
<td align="center">-&gt;&gt;</td>
<td align="center">Atribui√ß√£o</td>
<td align="center">Super atribui√ß√£o √† direita</td>
</tr>
<tr class="odd">
<td align="center">:</td>
<td align="center">Diversos</td>
<td align="center">Sequ√™ncia unit√°ria</td>
</tr>
<tr class="even">
<td align="center">%in%</td>
<td align="center">Diversos</td>
<td align="center">Elementos que pertencem a um vetor</td>
</tr>
<tr class="odd">
<td align="center">%*%</td>
<td align="center">Diversos</td>
<td align="center">Multiplicar matriz com sua transposta</td>
</tr>
<tr class="even">
<td align="center">%&gt;%</td>
<td align="center">Diversos</td>
<td align="center">Pipe (pacote magrittr)</td>
</tr>
<tr class="odd">
<td align="center">|&gt;</td>
<td align="center">Diversos</td>
<td align="center">Pipe (R base nativo)</td>
</tr>
<tr class="even">
<td align="center">%‚Äì%</td>
<td align="center">Diversos</td>
<td align="center">Intervalo de datas (pacote lubridate)</td>
</tr>
</tbody>
</table>
<p>Como exemplo, podemos fazer opera√ß√µes simples usando os operadores aritm√©ticos.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="cap21.html#cb11-1" tabindex="-1"></a><span class="do">## Opera√ß√µes aritm√©ticas</span></span>
<span id="cb11-2"><a href="cap21.html#cb11-2" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">2</span> <span class="co"># adi√ß√£o</span></span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="cap21.html#cb13-1" tabindex="-1"></a><span class="dv">10</span> <span class="sc">*</span> <span class="dv">2</span> <span class="co"># multiplica√ß√£o</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<p>Precisamos ficar atentos √† prioridade dos operadores aritm√©ticos:</p>
<blockquote>
<p><strong><code>PRIORIT√ÅRIO</code></strong> <code>()</code> &gt; <code>^</code> &gt; <code>* ou /</code> &gt; <code>+ ou -</code> <strong><code>N√ÉO PRIORIT√ÅRIO</code></strong></p>
</blockquote>
<p>Veja no exemplo abaixo como o uso dos par√™nteses muda o resultado.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="cap21.html#cb15-1" tabindex="-1"></a><span class="do">## Sem especificar a ordem</span></span>
<span id="cb15-2"><a href="cap21.html#cb15-2" tabindex="-1"></a><span class="co"># Segue a ordem dos operadores.</span></span>
<span id="cb15-3"><a href="cap21.html#cb15-3" tabindex="-1"></a><span class="dv">1</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span> <span class="sc">/</span> <span class="dv">2</span> <span class="sc">^</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 2.5</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="cap21.html#cb17-1" tabindex="-1"></a><span class="do">## Especificando a ordem</span></span>
<span id="cb17-2"><a href="cap21.html#cb17-2" tabindex="-1"></a><span class="co"># Segue a ordem dos parenteses.</span></span>
<span id="cb17-3"><a href="cap21.html#cb17-3" tabindex="-1"></a>((<span class="dv">1</span> <span class="sc">*</span> <span class="dv">2</span>) <span class="sc">+</span> (<span class="dv">2</span> <span class="sc">/</span> <span class="dv">2</span>)) <span class="sc">^</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
</div>
<div id="objetos" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Objetos<a href="cap21.html#objetos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Objetos s√£o palavras √†s quais s√£o atribu√≠dos dados. A atribui√ß√£o possibilita a manipula√ß√£o de dados ou armazenamento dos resultados de an√°lises. Utilizaremos os s√≠mbolos <code>&lt;</code> (menor), seguido de <code>-</code> (menos), sem espa√ßo, dessa forma <code>&lt;-</code>. Tamb√©m podemos utilizar o s√≠mbolo de igual (<code>=</code>), mas n√£o recomendamos, por n√£o fazer parte das boas pr√°ticas de escrita de c√≥digos em R. Podemos inserir essa combina√ß√£o de s√≠mbolos com o atalho <code>Alt + -</code>. Para demonstrar, vamos atribuir o valor <code>10</code> √† palavra <code>obj_10</code>, e chamar esse objeto novamente para verificar seu conte√∫do.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="cap21.html#cb19-1" tabindex="-1"></a><span class="do">## Atribui√ß√£o - s√≠mbolo (&lt;-)</span></span>
<span id="cb19-2"><a href="cap21.html#cb19-2" tabindex="-1"></a>obj_10 <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb19-3"><a href="cap21.html#cb19-3" tabindex="-1"></a>obj_10</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="alert alert-info">
<p><strong> üìù Importante </strong><br />
Recomendamos sempre verificar o conte√∫do dos objetos chamando-os novamente para confirmar se a atribui√ß√£o foi realizada corretamente e se o conte√∫do corresponde √† opera√ß√£o realizada.</p>
</div>
<p>Todos os objetos criados numa sess√£o do R ficam listados na aba <strong>Environment</strong> . Al√©m disso, o RStudio possui a fun√ß√£o <em>autocomplete</em>, ou seja, podemos digitar as primeiras letras de um objeto (ou fun√ß√£o) e em seguida apertar <code>Tab</code> para que o RStudio liste tudo que come√ßar com essas letras.</p>
<p>Dois pontos importantes sobre atribui√ß√µes: primeiro, o R sobrescreve os valores dos objetos com o mesmo nome, deixando o objeto com o valor da √∫ltima atribui√ß√£o.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="cap21.html#cb21-1" tabindex="-1"></a><span class="do">## Sobrescreve o valor dos objetos</span></span>
<span id="cb21-2"><a href="cap21.html#cb21-2" tabindex="-1"></a>obj <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb21-3"><a href="cap21.html#cb21-3" tabindex="-1"></a>obj</span></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="cap21.html#cb23-1" tabindex="-1"></a><span class="do">## O objeto &#39;obj&#39; agora vale 2</span></span>
<span id="cb23-2"><a href="cap21.html#cb23-2" tabindex="-1"></a>obj <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb23-3"><a href="cap21.html#cb23-3" tabindex="-1"></a>obj</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Segundo, o R tem limita√ß√µes ao nomear objetos:</p>
<ul>
<li>nome de objetos s√≥ podem come√ßar por letras (<code>a-z</code> ou <code>A-Z</code>) ou pontos (<code>.</code>)</li>
<li>nome de objetos s√≥ podem conter letras (<code>a-z</code> ou <code>A-Z</code>), n√∫meros (<code>0-9</code>), underscores (<code>_</code>) ou pontos (<code>.</code>)</li>
<li>R √© <em>case-sensitive</em>, i.e., ele reconhece letras mai√∫sculas como diferentes de letras min√∫sculas. Assim, um objeto chamado ‚Äúresposta‚Äù √© diferente do objeto ‚ÄúRESPOSTA‚Äù</li>
<li>devemos evitar acentos ou cedilha (<code>√ß</code>) para facilitar a memoriza√ß√£o dos objetos e tamb√©m para evitar erros de codifica√ß√£o (<em>encoding</em>) de caracteres</li>
<li>nomes de objetos n√£o podem ser iguais a nomes especiais, reservados para programa√ß√£o (<code>break</code>, <code>else</code>, <code>FALSE</code>, <code>for</code>, <code>function</code>, <code>if</code>, <code>Inf</code>, <code>NA</code>, <code>NaN</code>, <code>next</code>, <code>repeat</code>, <code>return</code>, <code>TRUE</code>, <code>while</code>)</li>
</ul>
<p>Podemos ainda utilizar objetos para fazer opera√ß√µes e criar objetos. Isso pode parecer um pouco confuso para os iniciantes, mas √© fundamental aprender essa l√≥gica para passar para os pr√≥ximos passos.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="cap21.html#cb25-1" tabindex="-1"></a><span class="do">## Definir dois objetos</span></span>
<span id="cb25-2"><a href="cap21.html#cb25-2" tabindex="-1"></a>va1 <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb25-3"><a href="cap21.html#cb25-3" tabindex="-1"></a>va2 <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb25-4"><a href="cap21.html#cb25-4" tabindex="-1"></a></span>
<span id="cb25-5"><a href="cap21.html#cb25-5" tabindex="-1"></a><span class="do">## Opera√ß√µes com objetos e atribuic√£o</span></span>
<span id="cb25-6"><a href="cap21.html#cb25-6" tabindex="-1"></a>adi <span class="ot">&lt;-</span> va1 <span class="sc">+</span> va2</span>
<span id="cb25-7"><a href="cap21.html#cb25-7" tabindex="-1"></a>adi</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
</div>
<div id="fun√ß√µes" class="section level3 hasAnchor" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> Fun√ß√µes<a href="cap21.html#fun√ß√µes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Fun√ß√µes s√£o c√≥digos preparados para realizar uma tarefa espec√≠fica de modo simples. Outra forma de entender uma fun√ß√£o √©: c√≥digos que realizam opera√ß√µes em argumentos. Devemos retomar ao conceito do ensino m√©dio de fun√ß√µes: os dados de entrada s√£o argumentos e a fun√ß√£o realizar√° alguma opera√ß√£o para modificar esses dados de entrada. A estrutura de uma fun√ß√£o √© muito similar √† sintaxe usada em planilhas eletr√¥nicas, sendo composta por:</p>
<blockquote>
<p>nome_da_fun√ß√£o(argumento1, argumento2, ‚Ä¶)</p>
</blockquote>
<ol style="list-style-type: decimal">
<li><strong>Nome da fun√ß√£o</strong>: remete ao que ela faz</li>
<li><strong>Par√™nteses</strong>: limitam a fun√ß√£o</li>
<li><strong>Argumentos</strong>: valores, par√¢metros ou express√µes onde a fun√ß√£o atuar√°</li>
<li><strong>V√≠rgulas</strong>: separam os argumentos</li>
</ol>
<p>Os argumentos de uma fun√ß√£o podem ser de dois tipos:</p>
<ol style="list-style-type: decimal">
<li><strong>Valores ou objetos</strong>: a fun√ß√£o alterar√° os valores em si ou os valores atribu√≠dos aos objetos</li>
<li><strong>Par√¢metros</strong>: valores fixos que informam um m√©todo ou a realiza√ß√£o de uma opera√ß√£o. Informa-se o nome desse argumento, seguido de ‚Äú=‚Äù e um n√∫mero, texto ou TRUE ou FALSE</li>
</ol>
<p>Alguns exemplos de argumentos como valores ou objetos.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="cap21.html#cb27-1" tabindex="-1"></a><span class="do">## Fun√ß√µes - argumentos como valores</span></span>
<span id="cb27-2"><a href="cap21.html#cb27-2" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">10</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="cap21.html#cb29-1" tabindex="-1"></a><span class="do">## Fun√ß√µes - argumentos como objetos</span></span>
<span id="cb29-2"><a href="cap21.html#cb29-2" tabindex="-1"></a><span class="fu">sum</span>(va1, va2)</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Vamos ver agora alguns exemplos de argumentos usados como par√¢metros. Note que apesar do valor do argumento ser o mesmo (10), seu efeito no resultado da fun√ß√£o <code>rep()</code> muda drasticamente. Aqui tamb√©m √© importante destacar um ponto: i) podemos informar os argumentos sequencialmente, sem explicitar seus nomes, ou ii) independente da ordem, mas explicitando seus nomes. Entretanto, como no exemplo abaixo, devemos informar o nome do argumento (i.e., par√¢metro), para que seu efeito seja o que desejamos.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="cap21.html#cb31-1" tabindex="-1"></a><span class="do">## Fun√ß√µes - argumentos como par√¢metros</span></span>
<span id="cb31-2"><a href="cap21.html#cb31-2" tabindex="-1"></a><span class="do">## Repeti√ß√£o - repete todos os elementos</span></span>
<span id="cb31-3"><a href="cap21.html#cb31-3" tabindex="-1"></a><span class="fu">rep</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">times =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3
## [39] 4 5 1 2 3 4 5 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="cap21.html#cb33-1" tabindex="-1"></a><span class="do">## Repeti√ß√£o - repete cada um dos elementos</span></span>
<span id="cb33-2"><a href="cap21.html#cb33-2" tabindex="-1"></a><span class="fu">rep</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">each =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4
## [39] 4 4 5 5 5 5 5 5 5 5 5 5</code></pre>
<p>Um ponto fundamental e que deve ser entendido √© o fluxo de atribui√ß√µes do resultado da opera√ß√£o de fun√ß√µes a novos objetos. No desenvolvimento de qualquer script na linguagem R, grande parte da estrutura do mesmo ser√° dessa forma: atribui√ß√£o de dados a objetos &gt; opera√ß√µes com fun√ß√µes &gt; atribui√ß√£o dos resultados a novos objetos &gt; opera√ß√µes com fun√ß√µes desses novos objetos &gt; atribui√ß√£o dos resultados a novos objetos. Ao entender esse funcionamento, come√ßamos a entender como devemos pensar na organiza√ß√£o do nosso script para montar as an√°lises que precisamos.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="cap21.html#cb35-1" tabindex="-1"></a><span class="do">## Atribuic√£o dos resultados</span></span>
<span id="cb35-2"><a href="cap21.html#cb35-2" tabindex="-1"></a><span class="do">## Repeti√ß√£o</span></span>
<span id="cb35-3"><a href="cap21.html#cb35-3" tabindex="-1"></a>rep_times <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">times =</span> <span class="dv">10</span>)</span>
<span id="cb35-4"><a href="cap21.html#cb35-4" tabindex="-1"></a>rep_times</span></code></pre></div>
<pre><code>##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3
## [39] 4 5 1 2 3 4 5 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="cap21.html#cb37-1" tabindex="-1"></a><span class="do">## Somar e atribuir</span></span>
<span id="cb37-2"><a href="cap21.html#cb37-2" tabindex="-1"></a>rep_times_soma <span class="ot">&lt;-</span> <span class="fu">sum</span>(rep_times)</span>
<span id="cb37-3"><a href="cap21.html#cb37-3" tabindex="-1"></a>rep_times_soma</span></code></pre></div>
<pre><code>## [1] 150</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="cap21.html#cb39-1" tabindex="-1"></a><span class="do">## Raiz e atribuir</span></span>
<span id="cb39-2"><a href="cap21.html#cb39-2" tabindex="-1"></a>rep_times_soma_raiz <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(rep_times_soma)</span>
<span id="cb39-3"><a href="cap21.html#cb39-3" tabindex="-1"></a>rep_times_soma_raiz</span></code></pre></div>
<pre><code>## [1] 12.24745</code></pre>
<p>Por fim, √© fundamental tamb√©m entender a origem das fun√ß√µes que usamos no R. Todas as fun√ß√µes s√£o advindas de pacotes. Esses pacotes possuem duas origens.</p>
<ol style="list-style-type: decimal">
<li>pacotes j√° instalados por padr√£o e que s√£o carregados quando abrimos o R (<em>R Base</em>)</li>
<li>pacotes que instalamos e carregamos com fun√ß√µes</li>
</ol>
</div>
<div id="pacotes-3" class="section level3 hasAnchor" number="5.3.6">
<h3><span class="header-section-number">5.3.6</span> Pacotes<a href="cap21.html#pacotes-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Pacotes s√£o conjuntos extras de fun√ß√µes para executar tarefas espec√≠ficas, al√©m dos pacotes instalados no <em>R Base</em>. Existe literalmente milhares de pacotes (~19,000 enquanto estamos escrevendo esse livro) para as mais diversas tarefas: estat√≠stica, ecologia, geografia, sensoriamento remoto, econometria, ci√™ncias sociais, gr√°ficos, <em>machine learning</em>, etc. Podemos verificar este vasto conjunto de pacotes pelo <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">link</a> que lista por nome os pacotes oficiais, ou seja, que passaram pelo crivo do <strong>CRAN</strong>. Existem ainda muito mais pacotes em desenvolvimento, geralmente disponibilizados em reposit√≥rios do <strong>GitHub</strong> ou <strong>GitLab</strong>.</p>
<p>Podemos listar esses pacotes dispon√≠veis no <strong>CRAN</strong> com esse c√≥digo.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="cap21.html#cb41-1" tabindex="-1"></a><span class="do">## N√∫mero atual de pacotes no CRAN: 20192 em 15/12/2023</span></span>
<span id="cb41-2"><a href="cap21.html#cb41-2" tabindex="-1"></a><span class="fu">nrow</span>(<span class="fu">available.packages</span>())</span></code></pre></div>
<p>Primeiramente, com uma sess√£o do R sem carregar nenhum pacote extra, podemos verificar pacotes carregados pelo <em>R Base</em> utilizando a fun√ß√£o <code>search()</code>.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="cap21.html#cb42-1" tabindex="-1"></a><span class="do">## Verificar pacotes carregados</span></span>
<span id="cb42-2"><a href="cap21.html#cb42-2" tabindex="-1"></a><span class="fu">search</span>()</span></code></pre></div>
<p>Podemos ainda verificar todos pacotes instalados em nosso computador com a fun√ß√£o <code>library()</code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="cap21.html#cb43-1" tabindex="-1"></a><span class="do">## Verificar pacotes instalados</span></span>
<span id="cb43-2"><a href="cap21.html#cb43-2" tabindex="-1"></a><span class="fu">library</span>()</span></code></pre></div>
<p>No R, quando tratamos de pacotes, devemos destacar a diferen√ßa de dois conceitos: instalar um pacote e carregar um pacote. A instala√ß√£o de pacotes possui algumas caracter√≠sticas:</p>
<ul>
<li>Instala-se um pacote apenas uma vez</li>
<li>Precisamos estar conectados √† internet</li>
<li>O nome do pacote precisa estar entre aspas na fun√ß√£o de instala√ß√£o</li>
<li>Fun√ß√£o (CRAN): <code>install.packages()</code></li>
</ul>
<p>Vamos instalar o pacote <code>vegan</code> diretamente do CRAN, que possui fun√ß√µes para realizar uma s√©rie de an√°lise em ecologia. Para isso, podemos ir em <code>Tools &gt; Install Packages...</code>, ou ir na aba <strong>Packages</strong> , procurar o pacote e simplesmente clicar em ‚ÄúInstall‚Äù. Podemos ainda utilizar a fun√ß√£o <code>install.packages()</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="cap21.html#cb44-1" tabindex="-1"></a><span class="do">## Instalar pacotes</span></span>
<span id="cb44-2"><a href="cap21.html#cb44-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;vegan&quot;</span>)</span></code></pre></div>
<p>Podemos conferir em que diret√≥rios um pacote ser√° instalado com a fun√ß√£o <code>.libPaths()</code>.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="cap21.html#cb45-1" tabindex="-1"></a><span class="do">## Diret√≥rios de intala√ß√£o dos pacotes</span></span>
<span id="cb45-2"><a href="cap21.html#cb45-2" tabindex="-1"></a><span class="fu">.libPaths</span>()</span></code></pre></div>
<pre><code>## [1] &quot;C:/Users/user/AppData/Local/R/win-library/4.3&quot;
## [2] &quot;C:/Program Files/R/R-4.3.2/library&quot;</code></pre>
<div class="alert alert-info">
<p><strong> üìù Importante </strong><br />
Uma vez instalado um pacote, n√£o h√° necessidade de instal√°-lo novamente. Entretanto, todas √†s vezes que iniciarmos uma sess√£o no R, precisamos carregar os pacotes com as fun√ß√µes que precisamos utilizar.</p>
</div>
<p>O carregamento de pacotes possui algumas caracter√≠sticas:</p>
<ul>
<li>Carrega-se o pacote toda vez que se abre uma nova sess√£o do R</li>
<li>N√£o precisamos estar conectados √† internet</li>
<li>O nome do pacote n√£o precisa estar entre aspas na fun√ß√£o de carregamento</li>
<li>Fun√ß√µes: <code>library()</code> ou <code>require()</code></li>
</ul>
<p>Vamos carregar o pacote <code>vegan</code> que instalamos anteriormente. Podemos ir na aba <strong>Packages</strong> e assinalar o pacote que queremos carregar ou utilizar a fun√ß√£o <code>library()</code>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="cap21.html#cb47-1" tabindex="-1"></a><span class="do">## Carregar pacotes</span></span>
<span id="cb47-2"><a href="cap21.html#cb47-2" tabindex="-1"></a><span class="fu">library</span>(vegan)</span></code></pre></div>
<pre><code>## Loading required package: permute</code></pre>
<pre><code>## Loading required package: lattice</code></pre>
<pre><code>## This is vegan 2.6-4</code></pre>
<p>Como dissemos, alguns pacotes em desenvolvimento encontram-se dispon√≠veis em reposit√≥rios como por exemplo: <a href="https://github.com/">GitHub</a>, <a href="https://gitlab.com">GitLab</a> e <a href="https://www.bioconductor.org/">Bioconductor</a>. Para instalar pacotes do GitHub, por exemplo, precisamos instalar e carregar o pacote <code>devtools</code>. Para funcionar, deve instalar ‚ÄúRTools‚Äù antes (<a href="https://cran.r-project.org/bin/windows/Rtools/" class="uri">https://cran.r-project.org/bin/windows/Rtools/</a>) .</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="cap21.html#cb51-1" tabindex="-1"></a><span class="do">## Instalar pacote devtools</span></span>
<span id="cb51-2"><a href="cap21.html#cb51-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb51-3"><a href="cap21.html#cb51-3" tabindex="-1"></a></span>
<span id="cb51-4"><a href="cap21.html#cb51-4" tabindex="-1"></a><span class="do">## Carregar pacote devtools</span></span>
<span id="cb51-5"><a href="cap21.html#cb51-5" tabindex="-1"></a><span class="fu">library</span>(devtools)</span></code></pre></div>
<p>Uma vez instalado e carregado esse pacote, podemos instalar o pacote do GitHub, utilizando a fun√ß√£o <code>devtools::install_github()</code>. Precisamos atentar para usar essa forma ‚Äúnome_usuario/nome_repositorio‚Äù, retirados do link do reposit√≥rio de interesse. Como exemplo, podemos instalar o pacote <code>eprdados</code> do reposit√≥rio do GitHub <a href="https://github.com/darrennorris/eprdados">darrennorris/eprdados</a> e depois utilizar a fun√ß√£o <code>library()</code> para carreg√°-lo. Para funcionar, deve instalar ‚ÄúRTools‚Äù antes (<a href="https://cran.r-project.org/bin/windows/Rtools/" class="uri">https://cran.r-project.org/bin/windows/Rtools/</a>) .</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="cap21.html#cb52-1" tabindex="-1"></a><span class="do">## Instalar pacote do github</span></span>
<span id="cb52-2"><a href="cap21.html#cb52-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;darrennorris/eprdados&quot;</span>)</span>
<span id="cb52-3"><a href="cap21.html#cb52-3" tabindex="-1"></a></span>
<span id="cb52-4"><a href="cap21.html#cb52-4" tabindex="-1"></a><span class="do">## Carregar pacote do github</span></span>
<span id="cb52-5"><a href="cap21.html#cb52-5" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;eprdados&quot;</span>)</span></code></pre></div>
<p>Podemos ver a descri√ß√£o de um pacote com a fun√ß√£o <code>packageDescription()</code>.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="cap21.html#cb53-1" tabindex="-1"></a><span class="do">## Descri√ß√£o de um pacote</span></span>
<span id="cb53-2"><a href="cap21.html#cb53-2" tabindex="-1"></a><span class="fu">packageDescription</span>(<span class="st">&quot;vegan&quot;</span>)</span></code></pre></div>
<pre><code>## Package: vegan
## Title: Community Ecology Package
## Version: 2.6-4
## Authors@R: c(person(&quot;Jari&quot;, &quot;Oksanen&quot;, role=c(&quot;aut&quot;,&quot;cre&quot;),
##         email=&quot;jhoksane@gmail.com&quot;), person(&quot;Gavin L.&quot;, &quot;Simpson&quot;,
##         role=&quot;aut&quot;, email=&quot;ucfagls@gmail.com&quot;), person(&quot;F. Guillaume&quot;,
##         &quot;Blanchet&quot;, role=&quot;aut&quot;), person(&quot;Roeland&quot;, &quot;Kindt&quot;,
##         role=&quot;aut&quot;), person(&quot;Pierre&quot;, &quot;Legendre&quot;, role=&quot;aut&quot;),
##         person(&quot;Peter R.&quot;, &quot;Minchin&quot;, role=&quot;aut&quot;), person(&quot;R.B.&quot;,
##         &quot;O&#39;Hara&quot;, role=&quot;aut&quot;), person(&quot;Peter&quot;, &quot;Solymos&quot;, role=&quot;aut&quot;),
##         person(&quot;M. Henry H.&quot;, &quot;Stevens&quot;, role=&quot;aut&quot;), person(&quot;Eduard&quot;,
##         &quot;Szoecs&quot;, role=&quot;aut&quot;), person(&quot;Helene&quot;, &quot;Wagner&quot;, role=&quot;aut&quot;),
##         person(&quot;Matt&quot;, &quot;Barbour&quot;, role=&quot;aut&quot;), person(&quot;Michael&quot;,
##         &quot;Bedward&quot;, role=&quot;aut&quot;), person(&quot;Ben&quot;, &quot;Bolker&quot;, role=&quot;aut&quot;),
##         person(&quot;Daniel&quot;, &quot;Borcard&quot;, role=&quot;aut&quot;), person(&quot;Gustavo&quot;,
##         &quot;Carvalho&quot;, role=&quot;aut&quot;), person(&quot;Michael&quot;, &quot;Chirico&quot;,
##         role=&quot;aut&quot;), person(&quot;Miquel&quot;, &quot;De Caceres&quot;, role=&quot;aut&quot;),
##         person(&quot;Sebastien&quot;, &quot;Durand&quot;, role=&quot;aut&quot;), person(&quot;Heloisa
##         Beatriz Antoniazi&quot;, &quot;Evangelista&quot;, role=&quot;aut&quot;), person(&quot;Rich&quot;,
##         &quot;FitzJohn&quot;, role=&quot;aut&quot;), person(&quot;Michael&quot;, &quot;Friendly&quot;,
##         role=&quot;aut&quot;), person(&quot;Brendan&quot;,&quot;Furneaux&quot;, role=&quot;aut&quot;),
##         person(&quot;Geoffrey&quot;, &quot;Hannigan&quot;, role=&quot;aut&quot;), person(&quot;Mark O.&quot;,
##         &quot;Hill&quot;, role=&quot;aut&quot;), person(&quot;Leo&quot;, &quot;Lahti&quot;, role=&quot;aut&quot;),
##         person(&quot;Dan&quot;, &quot;McGlinn&quot;, role=&quot;aut&quot;), person(&quot;Marie-Helene&quot;,
##         &quot;Ouellette&quot;, role=&quot;aut&quot;), person(&quot;Eduardo&quot;, &quot;Ribeiro Cunha&quot;,
##         role=&quot;aut&quot;), person(&quot;Tyler&quot;, &quot;Smith&quot;, role=&quot;aut&quot;),
##         person(&quot;Adrian&quot;, &quot;Stier&quot;, role=&quot;aut&quot;), person(&quot;Cajo J.F.&quot;, &quot;Ter
##         Braak&quot;, role=&quot;aut&quot;), person(&quot;James&quot;, &quot;Weedon&quot;, role=&quot;aut&quot;))
## Depends: permute (&gt;= 0.9-0), lattice, R (&gt;= 3.4.0)
## Suggests: parallel, tcltk, knitr, markdown
## Imports: MASS, cluster, mgcv
## VignetteBuilder: utils, knitr
## Description: Ordination methods, diversity analysis and other functions
##         for community and vegetation ecologists.
## License: GPL-2
## BugReports: https://github.com/vegandevs/vegan/issues
## URL: https://github.com/vegandevs/vegan
## NeedsCompilation: yes
## Packaged: 2022-10-11 08:36:07 UTC; jarioksa
## Author: Jari Oksanen [aut, cre], Gavin L. Simpson [aut], F. Guillaume
##         Blanchet [aut], Roeland Kindt [aut], Pierre Legendre [aut],
##         Peter R. Minchin [aut], R.B. O&#39;Hara [aut], Peter Solymos [aut],
##         M. Henry H. Stevens [aut], Eduard Szoecs [aut], Helene Wagner
##         [aut], Matt Barbour [aut], Michael Bedward [aut], Ben Bolker
##         [aut], Daniel Borcard [aut], Gustavo Carvalho [aut], Michael
##         Chirico [aut], Miquel De Caceres [aut], Sebastien Durand [aut],
##         Heloisa Beatriz Antoniazi Evangelista [aut], Rich FitzJohn
##         [aut], Michael Friendly [aut], Brendan Furneaux [aut], Geoffrey
##         Hannigan [aut], Mark O. Hill [aut], Leo Lahti [aut], Dan
##         McGlinn [aut], Marie-Helene Ouellette [aut], Eduardo Ribeiro
##         Cunha [aut], Tyler Smith [aut], Adrian Stier [aut], Cajo J.F.
##         Ter Braak [aut], James Weedon [aut]
## Maintainer: Jari Oksanen &lt;jhoksane@gmail.com&gt;
## Repository: CRAN
## Date/Publication: 2022-10-11 12:40:02 UTC
## Built: R 4.3.2; x86_64-w64-mingw32; 2023-11-02 03:07:22 UTC; windows
## Archs: x64
## 
## -- File: C:/Users/user/AppData/Local/R/win-library/4.3/vegan/Meta/package.rds</code></pre>
<p>A maioria dos pacotes possui conjuntos de dados que podem ser acessados pela fun√ß√£o <code>data()</code>. Esses conjuntos de dados podem ser usados para testar as fun√ß√µes do pacote. Se estiver com d√∫vida na maneira como voc√™ deve preparar a planilha para realizar uma an√°lise espec√≠fica, entre na Ajuda (<em>Help</em>) da fun√ß√£o e veja os conjuntos de dados que est√£o no exemplo desta fun√ß√£o. Como exemplo, vamos carregar os dados <code>dune</code> do pacote <code>vegan</code>, que s√£o dados de observa√ß√µes de 30 esp√©cies vegetais em 20 locais.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="cap21.html#cb55-1" tabindex="-1"></a><span class="do">## Carregar dados de um pacote</span></span>
<span id="cb55-2"><a href="cap21.html#cb55-2" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb55-3"><a href="cap21.html#cb55-3" tabindex="-1"></a><span class="fu">data</span>(dune)</span>
<span id="cb55-4"><a href="cap21.html#cb55-4" tabindex="-1"></a>dune[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span></code></pre></div>
<pre><code>##   Achimill Agrostol Airaprae Alopgeni Anthodor Bellpere
## 1        1        0        0        0        0        0
## 2        3        0        0        2        0        3
## 3        0        4        0        7        0        2
## 4        0        8        0        2        0        2
## 5        2        0        0        0        4        2
## 6        2        0        0        0        3        0</code></pre>
<p>E um √∫ltimo ponto fundamental sobre pacotes, diz respeito √† atualiza√ß√£o dos mesmos. Os pacotes s√£o atualizados com frequ√™ncia, e infelizmente (ou felizmente, pois as atualiza√ß√µes podem oferecer algumas quebras entre pacotes), n√£o se atualizam sozinhos. Muitas vezes, a instala√ß√£o de um pacote pode depender da vers√£o dos pacotes dependentes, e geralmente uma janela com diversas op√ß√µes num√©ricas se abre perguntando se voc√™ quer que todos os pacotes dependentes sejam atualizados. Podemos ir na aba <strong>Packages</strong> e clicar em ‚ÄúUpdate‚Äù ou usar a fun√ß√£o <code>update.packages(checkBuilt = TRUE, ask = FALSE)</code> para atualiz√°-los, entretanto, essa √© uma fun√ß√£o que costuma demorar muito para terminar de ser executada.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="cap21.html#cb57-1" tabindex="-1"></a><span class="do">## Atualiza√ß√£o dos pacotes</span></span>
<span id="cb57-2"><a href="cap21.html#cb57-2" tabindex="-1"></a><span class="fu">update.packages</span>(<span class="at">checkBuilt =</span> <span class="cn">TRUE</span>, <span class="at">ask =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>Destacamos e incentivamos ainda uma pr√°tica que achamos interessante para aumentar a reprodutibilidade de nossos c√≥digos e scripts: a de chamar as fun√ß√µes de pacotes carregados dessa forma <code>pacote::fun√ß√£o()</code>. Com o uso dessa pr√°tica, deixamos claro o pacote em que a fun√ß√£o est√° implementada. Esta pr√°tica √© importante por que com frequ√™ncia pacotes diferentes criam fun√ß√µes com mesmo nome, mas com caracter√≠sticas internas (argumentos) diferentes. Assim, n√£o expressar o pacote de interesse pode gerar erros na execu√ß√£o de suas an√°lises. Destacamos aqui o exemplo de como instalar pacotes do GitHub do pacote <code>devtools</code>.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="cap21.html#cb58-1" tabindex="-1"></a><span class="do">## Pacote seguido da fun√ß√£o implementada daquele pacote</span></span>
<span id="cb58-2"><a href="cap21.html#cb58-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>()</span></code></pre></div>
</div>
<div id="ajuda-help" class="section level3 hasAnchor" number="5.3.7">
<h3><span class="header-section-number">5.3.7</span> Ajuda (<em>Help</em>)<a href="cap21.html#ajuda-help" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um importante passo para melhorar a usabilidade e ter mais familiaridade com a linguagem R √© aprender a usar a ajuda (<em>help</em>) de cada fun√ß√£o. Para tanto, podemos utilizar a fun√ß√£o <code>help()</code> ou o operador <code>?</code>, depois de ter carregado o pacote. O arquivo de ajuda do R possui t√≥picos, que nos auxiliam muito no entendimento dos dados de entrada, argumentos e que opera√ß√µes est√£o sendo realizadas.Abaixo descrevemos esses t√≥picos:</p>
<ul>
<li><strong>Description</strong>: resumo da fun√ß√£o</li>
<li><strong>Usage</strong>: como utilizar a fun√ß√£o e quais os seus argumentos</li>
<li><strong>Arguments</strong>: detalha os argumentos e como os mesmos devem ser especificados</li>
<li><strong>Details</strong>: detalhes importantes para se usar a fun√ß√£o</li>
<li><strong>Value</strong>: mostra como interpretar a sa√≠da (<em>output</em>) da fun√ß√£o (os resultados)</li>
<li><strong>Note</strong>: notas gerais sobre a fun√ß√£o</li>
<li><strong>Authors</strong>: autores da fun√ß√£o</li>
<li><strong>References</strong>: refer√™ncias bibliogr√°ficas para os m√©todos usados para constru√ß√£o da fun√ß√£o</li>
<li><strong>See also</strong>: fun√ß√µes relacionadas</li>
<li><strong>Examples</strong>: exemplos do uso da fun√ß√£o. √Äs vezes pode ser √∫til copiar esse trecho e colar no R para ver como funciona e como usar a fun√ß√£o.</li>
</ul>
<p>Vamos realizar um exemplo, buscando o <code>help</code> da fun√ß√£o <code>aov()</code>, que realiza uma an√°lise de vari√¢ncia.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="cap21.html#cb59-1" tabindex="-1"></a><span class="do">## Ajuda</span></span>
<span id="cb59-2"><a href="cap21.html#cb59-2" tabindex="-1"></a><span class="fu">help</span>(aov)</span>
<span id="cb59-3"><a href="cap21.html#cb59-3" tabindex="-1"></a>?aov</span></code></pre></div>
<p>Al√©m das fun√ß√µes, podemos buscar detalhes de um pacote espec√≠fico, para uma p√°gina simples do <code>help</code> utilizando a fun√ß√£o <code>help()</code> ou o operador <code>?</code>. Entretanto, para uma op√ß√£o que ofere√ßa uma descri√ß√£o detalhada e um √≠ndice de todas as fun√ß√µes do pacote, podemos utilizar a fun√ß√£o <code>library()</code>, mas agora utilizando o argumento <code>help</code>, indicando o pacote de interesse entre aspas.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="cap21.html#cb60-1" tabindex="-1"></a><span class="do">## Ajuda do pacote</span></span>
<span id="cb60-2"><a href="cap21.html#cb60-2" tabindex="-1"></a><span class="fu">help</span>(vegan)</span>
<span id="cb60-3"><a href="cap21.html#cb60-3" tabindex="-1"></a>?vegan</span>
<span id="cb60-4"><a href="cap21.html#cb60-4" tabindex="-1"></a></span>
<span id="cb60-5"><a href="cap21.html#cb60-5" tabindex="-1"></a><span class="do">## Help detalhado</span></span>
<span id="cb60-6"><a href="cap21.html#cb60-6" tabindex="-1"></a><span class="fu">library</span>(<span class="at">help =</span> <span class="st">&quot;vegan&quot;</span>)</span></code></pre></div>
<p>Podemos ainda procurar o nome de uma fun√ß√£o para realizar uma an√°lise espec√≠fica utilizando a fun√ß√£o <code>help.search()</code> com o termo que queremos em ingl√™s e entre aspas.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="cap21.html#cb61-1" tabindex="-1"></a><span class="do">## Procurar por fun√ß√µes que realizam modelos lineares</span></span>
<span id="cb61-2"><a href="cap21.html#cb61-2" tabindex="-1"></a><span class="fu">help.search</span>(<span class="st">&quot;linear models&quot;</span>)</span></code></pre></div>
<p>Outra ferramenta de busca √© a p√°gina <a href="http://www.rseek.org">rseek</a>, na qual √© poss√≠vel buscar por um termo n√£o s√≥ nos pacotes do R, mas tamb√©m em listas de emails, manuais, p√°ginas na internet e livros sobre o programa.</p>
</div>
<div id="ambiente-environment" class="section level3 hasAnchor" number="5.3.8">
<h3><span class="header-section-number">5.3.8</span> Ambiente (<em>Environment</em>)<a href="cap21.html#ambiente-environment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O ambiente (<em>environment</em>), como vimos, √© onde os objetos criados s√£o armazenados. √â fundamental entender que um objeto √© uma aloca√ß√£o de um pequeno espa√ßo na mem√≥ria RAM do nosso computador, onde o R armazenar√° um valor ou o resultado de uma fun√ß√£o, utilizando o nome dos objetos que definimos na atribui√ß√£o. Sendo assim, se fizermos a atribui√ß√£o de um objeto maior que o tamanho da mem√≥ria RAM do nosso computador, esse objeto n√£o ser√° alocado, e a atribui√ß√£o n√£o funcionar√°, retornando um erro. Existem op√ß√µes para contornar esse tipo de limita√ß√£o, mas n√£o a abordaremos aqui. Entretanto, podemos utilizar a fun√ß√£o <code>object.size()</code> para saber quanto espa√ßo nosso objeto criado est√° alocando de mem√≥ria RAM.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="cap21.html#cb62-1" tabindex="-1"></a><span class="do">## Tamanho de um objeto</span></span>
<span id="cb62-2"><a href="cap21.html#cb62-2" tabindex="-1"></a><span class="fu">object.size</span>(adi)</span></code></pre></div>
<pre><code>## 56 bytes</code></pre>
<p>Podemos listar todos os objetos criados com a fun√ß√£o <code>ls()</code> ou <code>objects()</code>.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="cap21.html#cb64-1" tabindex="-1"></a><span class="do">## Listar todos os objetos</span></span>
<span id="cb64-2"><a href="cap21.html#cb64-2" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<p>Podemos ainda remover todos os objetos criados com a fun√ß√£o <code>rm()</code> ou <code>remove()</code>. Ou ainda fazer uma fun√ß√£o composta para remover todos os objetos do <em>Environment</em>.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="cap21.html#cb65-1" tabindex="-1"></a><span class="do">## Remover um objeto</span></span>
<span id="cb65-2"><a href="cap21.html#cb65-2" tabindex="-1"></a><span class="fu">rm</span>(adi)</span>
<span id="cb65-3"><a href="cap21.html#cb65-3" tabindex="-1"></a></span>
<span id="cb65-4"><a href="cap21.html#cb65-4" tabindex="-1"></a><span class="do">## Remover todos os objetos criados</span></span>
<span id="cb65-5"><a href="cap21.html#cb65-5" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code></pre></div>
<p>Quando usamos a fun√ß√£o <code>ls()</code> agora, nenhum objeto √© listado.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="cap21.html#cb66-1" tabindex="-1"></a><span class="do">## Listar todos os objetos</span></span>
<span id="cb66-2"><a href="cap21.html#cb66-2" tabindex="-1"></a><span class="fu">ls</span>()</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<p>Toda a vez que fechamos o R os objetos criados s√£o apagados do <strong>Environment</strong>. Dessa forma, em algumas ocasi√µes, por exemplo, an√°lises estat√≠sticas que demoram um grande tempo para serem realizadas, pode ser interessante exportar alguns ou todos os objetos criados.</p>
<p>Para salvar todos os objetos, ou seja, todo o <em>Workspace</em>, podemos ir em <code>Session -&gt; Save Workspace As...</code> e escolher o nome do arquivo do <em>Workspace</em>, por exemplo, ‚Äúmeu_workspace.RData‚Äù. Podemos ainda utilizar fun√ß√µes para essas tarefas. A fun√ß√£o <code>save.image()</code> salva todo <em>Workspace</em> com a extens√£o <code>.RData</code>.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="cap21.html#cb68-1" tabindex="-1"></a><span class="do">## Salvar todo o workspace</span></span>
<span id="cb68-2"><a href="cap21.html#cb68-2" tabindex="-1"></a><span class="fu">save.image</span>(<span class="at">file =</span> <span class="st">&quot;meu_workspace.RData&quot;</span>)</span></code></pre></div>
<p>Depois disso, podemos fechar o RStudio tranquilamente e quando formos trabalhar novamente, podemos carregar os objetos criados indo em <code>Session -&gt; Load Workspace...</code> ou utilizando a fun√ß√£o <code>load()</code>.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="cap21.html#cb69-1" tabindex="-1"></a><span class="do">## Carregar todo o workspace</span></span>
<span id="cb69-2"><a href="cap21.html#cb69-2" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;meu_workspace.RData&quot;</span>)</span></code></pre></div>
<p>Entretanto, em algumas ocasi√µes, n√£o precisamos salvar todos os objetos. Dessa forma, podemos salvar apenas alguns objetos espec√≠ficos usando a fun√ß√£o <code>save()</code>, tamb√©m com a extens√£o <code>.RData</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="cap21.html#cb70-1" tabindex="-1"></a><span class="do">## Salvar apenas um objeto</span></span>
<span id="cb70-2"><a href="cap21.html#cb70-2" tabindex="-1"></a><span class="fu">save</span>(obj1, <span class="at">file =</span> <span class="st">&quot;meu_obj.RData&quot;</span>)</span>
<span id="cb70-3"><a href="cap21.html#cb70-3" tabindex="-1"></a></span>
<span id="cb70-4"><a href="cap21.html#cb70-4" tabindex="-1"></a><span class="do">## Salvar apenas um objeto</span></span>
<span id="cb70-5"><a href="cap21.html#cb70-5" tabindex="-1"></a><span class="fu">save</span>(obj1, obj2, <span class="at">file =</span> <span class="st">&quot;meus_objs.RData&quot;</span>)</span>
<span id="cb70-6"><a href="cap21.html#cb70-6" tabindex="-1"></a></span>
<span id="cb70-7"><a href="cap21.html#cb70-7" tabindex="-1"></a><span class="do">## Carregar os objetos</span></span>
<span id="cb70-8"><a href="cap21.html#cb70-8" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;meus_objs.RData&quot;</span>)</span></code></pre></div>
<p>Ou ainda, podemos salvar apenas um objeto com a extens√£o <code>.rds</code>. Para isso, usamos as fun√ß√µes <code>saveRDS()</code> e <code>readRDS()</code>, para exportar e importar esses dados, respectivamente. √â importante ressaltar que nesse formato <code>.rds</code>, apenas um objeto √© salvo por arquivo criado e que para que o objeto seja criado no <em>Workspace</em> do R, ele precisa ser lido e atribu√≠do √† um objeto.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="cap21.html#cb71-1" tabindex="-1"></a><span class="do">## Salvar um objeto para um arquivo</span></span>
<span id="cb71-2"><a href="cap21.html#cb71-2" tabindex="-1"></a><span class="fu">saveRDS</span>(obj, <span class="at">file =</span> <span class="st">&quot;meu_obj.rds&quot;</span>)</span>
<span id="cb71-3"><a href="cap21.html#cb71-3" tabindex="-1"></a></span>
<span id="cb71-4"><a href="cap21.html#cb71-4" tabindex="-1"></a><span class="do">## Carregar esse objeto</span></span>
<span id="cb71-5"><a href="cap21.html#cb71-5" tabindex="-1"></a>obj <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">&quot;meu_obj.rds&quot;</span>)</span></code></pre></div>
</div>
<div id="cita√ß√µes" class="section level3 hasAnchor" number="5.3.9">
<h3><span class="header-section-number">5.3.9</span> Cita√ß√µes<a href="cap21.html#cita√ß√µes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ao utilizar o R para realizar alguma an√°lise em nossos estudos, √© fundamental a cita√ß√£o do mesmo. Para saber como citar o R em artigos, existe uma fun√ß√£o denominada <code>citation()</code>, que prov√™ um formato gen√©rico de cita√ß√£o e um BibTeX para arquivos LaTeX e R Markdown.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="cap21.html#cb72-1" tabindex="-1"></a><span class="do">## Cita√ß√£o do R</span></span>
<span id="cb72-2"><a href="cap21.html#cb72-2" tabindex="-1"></a><span class="fu">citation</span>()</span></code></pre></div>
<pre><code>## To cite R in publications use:
## 
##   R Core Team (2023). _R: A Language and Environment for Statistical
##   Computing_. R Foundation for Statistical Computing, Vienna, Austria.
##   &lt;https://www.R-project.org/&gt;.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {R: A Language and Environment for Statistical Computing},
##     author = {{R Core Team}},
##     organization = {R Foundation for Statistical Computing},
##     address = {Vienna, Austria},
##     year = {2023},
##     url = {https://www.R-project.org/},
##   }
## 
## We have invested a lot of time and effort in creating R, please cite it
## when using it for data analysis. See also &#39;citation(&quot;pkgname&quot;)&#39; for
## citing R packages.</code></pre>
<p>No resultado dessa fun√ß√£o, h√° uma mensagem muito interessante: ‚ÄúSee also ‚Äòcitation(‚Äúpkgname‚Äù)‚Äô for citing R packages.‚Äù. Dessa forma, aconselhamos, sempre que poss√≠vel, claro, citar tamb√©m os pacotes utilizados nas an√°lises para dar os devidos cr√©ditos aos desenvolvedores e desenvolvedoras das fun√ß√µes implementadas nos pacotes. Como exemplo, vamos ver como fica a cita√ß√£o do pacote <code>vegan</code>.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="cap21.html#cb74-1" tabindex="-1"></a><span class="do">## Cita√ß√£o do pacote vegan</span></span>
<span id="cb74-2"><a href="cap21.html#cb74-2" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">&quot;vegan&quot;</span>)</span></code></pre></div>
<pre><code>## To cite package &#39;vegan&#39; in publications use:
## 
##   Oksanen J, Simpson G, Blanchet F, Kindt R, Legendre P, Minchin P,
##   O&#39;Hara R, Solymos P, Stevens M, Szoecs E, Wagner H, Barbour M,
##   Bedward M, Bolker B, Borcard D, Carvalho G, Chirico M, De Caceres M,
##   Durand S, Evangelista H, FitzJohn R, Friendly M, Furneaux B, Hannigan
##   G, Hill M, Lahti L, McGlinn D, Ouellette M, Ribeiro Cunha E, Smith T,
##   Stier A, Ter Braak C, Weedon J (2022). _vegan: Community Ecology
##   Package_. R package version 2.6-4,
##   &lt;https://CRAN.R-project.org/package=vegan&gt;.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {vegan: Community Ecology Package},
##     author = {Jari Oksanen and Gavin L. Simpson and F. Guillaume Blanchet and Roeland Kindt and Pierre Legendre and Peter R. Minchin and R.B. O&#39;Hara and Peter Solymos and M. Henry H. Stevens and Eduard Szoecs and Helene Wagner and Matt Barbour and Michael Bedward and Ben Bolker and Daniel Borcard and Gustavo Carvalho and Michael Chirico and Miquel {De Caceres} and Sebastien Durand and Heloisa Beatriz Antoniazi Evangelista and Rich FitzJohn and Michael Friendly and Brendan Furneaux and Geoffrey Hannigan and Mark O. Hill and Leo Lahti and Dan McGlinn and Marie-Helene Ouellette and Eduardo {Ribeiro Cunha} and Tyler Smith and Adrian Stier and Cajo J.F. {Ter Braak} and James Weedon},
##     year = {2022},
##     note = {R package version 2.6-4},
##     url = {https://CRAN.R-project.org/package=vegan},
##   }</code></pre>
<p>Podemos ainda utilizar a fun√ß√£o <code>write_bib()</code> do pacote <code>knitr</code> para exportar a cita√ß√£o do pacote no formato <code>.bib</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="cap21.html#cb76-1" tabindex="-1"></a><span class="do">## Exportar uma cita√ß√£o em formato .bib</span></span>
<span id="cb76-2"><a href="cap21.html#cb76-2" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">write_bib</span>(<span class="st">&quot;vegan&quot;</span>, <span class="at">file =</span> <span class="st">&quot;vegan_ex.bib&quot;</span>)</span></code></pre></div>
</div>
<div id="principais-erros-de-iniciantes" class="section level3 hasAnchor" number="5.3.10">
<h3><span class="header-section-number">5.3.10</span> Principais erros de iniciantes<a href="cap21.html#principais-erros-de-iniciantes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="figures/Turing_quote_01.jpg" width="540" /></p>
<p>Errar quando se est√° come√ßando a usar o R √© muito comum e faz parte do aprendizado. Entretanto, os erros nunca devem ser encarados como uma forma de desest√≠mulo, mas sim como um desafio para continuar tentando. Todos n√≥s, autores deste livro inclusive, e provavelmente usu√°rios mais ou menos experientes, j√° passaram por um momento em que se quer desistir de tudo. Jovem aprendiz de R, a √∫nica diferen√ßa entre voc√™ que est√° iniciando agora e n√≥s que usamos o R h√° mais tempo s√£o as horas a mais de uso (e √≥dio). O que temos a mais √© experi√™ncia para olhar o erro, l√™-lo e conseguir interpretar o que est√° errado e saber buscar ajuda.</p>
<p>Dessa forma, o ponto mais importante de quem est√° iniciando √© ter paci√™ncia, calma, bom humor, ler e entender as mensagens de erros. Recomendamos uma pr√°tica que pode ajudar: caso n√£o esteja conseguindo resolver alguma parte do seu c√≥digo, deixe ele de lado um tempo, descanse, fa√ßa uma caminhada, tome um banho, converse com seus animais de estima√ß√£o ou plantas, tenha um pato de borracha ou outro objeto inanimado (um dos autores tem um sapinho de madeira), explique esse c√≥digo para esse pato (processo conhecido como <a href="https://pt.wikipedia.org/wiki/Debug_com_Pato_de_Borracha">Debug com Pato de Borracha</a>), logo a solu√ß√£o deve aparecer.</p>
<p>Listaremos aqui o que consideramos os principais erros dos iniciantes no R.</p>
<p><strong>1. Esquecer de completar uma fun√ß√£o ou bloco de c√≥digos</strong></p>
<p>Esquecer de completar uma fun√ß√£o ou bloco de c√≥digos √© algo bem comum. Geralmente esquecemos de fechar aspas <code>""</code> ou par√™nteses <code>()</code>, mas geralmente o R nos informa isso, indicando um s√≠mbolo de <code>+</code> no console. Se voc√™ cometeu esse erro, lembre-se de apertar a tecla esc do seu computador clicando antes com o cursor do mouse no console do R.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="cap21.html#cb77-1" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">2</span></span>
<span id="cb77-2"><a href="cap21.html#cb77-2" tabindex="-1"></a>  <span class="sc">+</span></span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:3:0: unexpected end of input
## 1: sum(1, 2
## 2:   +
##   ^</code></pre>
<p><strong>2. Esquecer de v√≠rgulas dentro de fun√ß√µes</strong></p>
<p>Outro erro bastante comum √© esquecer de acrescentar a v√≠rgula <code>,</code> para separar argumentos dentro de uma fun√ß√£o, principalmente se estamos compondo v√°rias fun√ß√µes acopladas, i.e., uma fun√ß√£o dentro da outra.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="cap21.html#cb79-1" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:1:7: unexpected numeric constant
## 1: sum(1 2
##           ^</code></pre>
<p><strong>3. Chamar um objeto pelo nome errado</strong></p>
<p>Pode parecer simples, mas esse √© de longe o erro mais comum que pessoas iniciantes comentem. Quando temos um script longo, √© de se esperar que tenhamos atribu√≠do diversos objetos e em algum momento atribu√≠mos um nome do qual n√£o lembramos. Dessa forma, quando chamamos o objeto ele n√£o existe e o console informa um erro. Entretanto, esse tipo de erro pode ser facilmente identificado, como o exemplo abaixo.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="cap21.html#cb81-1" tabindex="-1"></a>obj <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb81-2"><a href="cap21.html#cb81-2" tabindex="-1"></a>OBJ</span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;OBJ&#39; not found</code></pre>
<p><strong>4. Esquecer de carregar um pacote</strong></p>
<p>Esse tamb√©m √© um erro recorrente, mesmo para usu√°rios mais experientes. Em scripts de an√°lises complexas, que requerem v√°rios pacotes, geralmente esquecemos de um ou outro pacote. A melhor forma de evitar esse tipo de erro √© listar os pacotes que vamos precisar usar logo no in√≠cio do script.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="cap21.html#cb83-1" tabindex="-1"></a><span class="do">## Carregar dados</span></span>
<span id="cb83-2"><a href="cap21.html#cb83-2" tabindex="-1"></a><span class="fu">data</span>(dune)</span></code></pre></div>
<pre><code>## Warning in data(dune): data set &#39;dune&#39; not found</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="cap21.html#cb85-1" tabindex="-1"></a><span class="do">## Fun√ß√£o do pacote vegan</span></span>
<span id="cb85-2"><a href="cap21.html#cb85-2" tabindex="-1"></a><span class="fu">decostand</span>(dune[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>], <span class="st">&quot;hell&quot;</span>)</span></code></pre></div>
<pre><code>## Error in decostand(dune[1:6, 1:6], &quot;hell&quot;): could not find function &quot;decostand&quot;</code></pre>
<p>Geralmente a mensagem de erro ser√° de que a fun√ß√£o n√£o foi encontrada ou algo nesse sentido. Carregando o pacote, esse erro √© contornado.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="cap21.html#cb87-1" tabindex="-1"></a><span class="do">## Carregar o pacote</span></span>
<span id="cb87-2"><a href="cap21.html#cb87-2" tabindex="-1"></a><span class="fu">library</span>(vegan)</span></code></pre></div>
<pre><code>## This is vegan 2.6-4</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="cap21.html#cb89-1" tabindex="-1"></a><span class="do">## Carregar dados</span></span>
<span id="cb89-2"><a href="cap21.html#cb89-2" tabindex="-1"></a><span class="fu">data</span>(dune)</span>
<span id="cb89-3"><a href="cap21.html#cb89-3" tabindex="-1"></a></span>
<span id="cb89-4"><a href="cap21.html#cb89-4" tabindex="-1"></a><span class="do">## Fun√ß√£o do pacote vegan</span></span>
<span id="cb89-5"><a href="cap21.html#cb89-5" tabindex="-1"></a><span class="fu">decostand</span>(dune[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>], <span class="st">&quot;hell&quot;</span>)</span></code></pre></div>
<pre><code>##    Achimill  Agrostol Airaprae  Alopgeni  Anthodor  Bellpere
## 1 1.0000000 0.0000000        0 0.0000000 0.0000000 0.0000000
## 2 0.6123724 0.0000000        0 0.5000000 0.0000000 0.6123724
## 3 0.0000000 0.5547002        0 0.7337994 0.0000000 0.3922323
## 4 0.0000000 0.8164966        0 0.4082483 0.0000000 0.4082483
## 5 0.5000000 0.0000000        0 0.0000000 0.7071068 0.5000000
## 6 0.6324555 0.0000000        0 0.0000000 0.7745967 0.0000000</code></pre>
<p><strong>5. Usar o nome da fun√ß√£o de forma err√¥nea</strong></p>
<p>Esse erro n√£o √© t√£o comum, mas pode ser inc√¥modo √†s vezes. Algumas fun√ß√µes possuem nomes no padr√£o ‚ÄúCamel Case‚Äù, i.e., com letras mai√∫sculas no meio do nome da fun√ß√£o. Isso √†s vezes pode confundir, ou ainda, as fun√ß√µes podem ou n√£o ser separadas com <code>.</code>, como <code>row.names()</code> e <code>rownames()</code>.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="cap21.html#cb91-1" tabindex="-1"></a><span class="do">## Soma das colunas</span></span>
<span id="cb91-2"><a href="cap21.html#cb91-2" tabindex="-1"></a><span class="fu">colsums</span>(dune)</span></code></pre></div>
<pre><code>## Error in colsums(dune): could not find function &quot;colsums&quot;</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="cap21.html#cb93-1" tabindex="-1"></a><span class="do">## Soma das colunas</span></span>
<span id="cb93-2"><a href="cap21.html#cb93-2" tabindex="-1"></a><span class="fu">colSums</span>(dune)</span></code></pre></div>
<pre><code>## Achimill Agrostol Airaprae Alopgeni Anthodor Bellpere Bromhord Chenalbu 
##       16       48        5       36       21       13       15        1 
## Cirsarve Comapalu Eleopalu Elymrepe Empenigr Hyporadi Juncarti Juncbufo 
##        2        4       25       26        2        9       18       13 
## Lolipere Planlanc  Poaprat  Poatriv Ranuflam Rumeacet Sagiproc Salirepe 
##       58       26       48       63       14       18       20       11 
## Scorautu Trifprat Trifrepe Vicilath Bracruta Callcusp 
##       54        9       47        4       49       10</code></pre>
<p><strong>6. Atentar para o diret√≥rio correto</strong></p>
<p>Muitas vezes o erro √© simplesmente porque o usu√°rio(a) n√£o definiu o diret√≥rio correto onde est√° o arquivo a ser importado ou exportado. Por isso √© fundamental sempre verificar se o diret√≥rio foi definido corretamente, geralmente usando as fun√ß√µes <code>dir()</code> ou <code>list.files()</code> para listar no console a lista de arquivos no diret√≥rio. Podemos ainda usar o argumento <code>pattern</code> para listar arquivos por um padr√£o textual.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="cap21.html#cb95-1" tabindex="-1"></a><span class="do">## Listar os arquivos do diret√≥rio definido</span></span>
<span id="cb95-2"><a href="cap21.html#cb95-2" tabindex="-1"></a><span class="fu">dir</span>()</span>
<span id="cb95-3"><a href="cap21.html#cb95-3" tabindex="-1"></a><span class="fu">list.files</span>()</span>
<span id="cb95-4"><a href="cap21.html#cb95-4" tabindex="-1"></a></span>
<span id="cb95-5"><a href="cap21.html#cb95-5" tabindex="-1"></a><span class="do">## Listar os arquivos do diret√≥rio definido por um padr√£o</span></span>
<span id="cb95-6"><a href="cap21.html#cb95-6" tabindex="-1"></a><span class="fu">dir</span>(<span class="at">pattern =</span> <span class="st">&quot;.csv&quot;</span>)</span></code></pre></div>
<p>Al√©m disso, √© fundamental ressaltar a import√¢ncia de verificar se o nome do arquivo que importaremos foi digitado corretamente, atentando-se tamb√©m para a extens√£o: <code>.csv</code>, <code>.txt</code>, <code>.xlsx</code>, etc.</p>
</div>
</div>
<div id="estrutura-e-manipula√ß√£o-de-objetos" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Estrutura e manipula√ß√£o de objetos<a href="cap21.html#estrutura-e-manipula√ß√£o-de-objetos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>O conhecimento sobre a estrutura e manipula√ß√£o de objetos √© fundamental para ter dom√≠nio e entendimento do funcionamento da linguagem R. Nesta se√ß√£o, trataremos da estrutura e manipula√ß√£o de dados no R, no que ficou conhecido como modo <em>R Base</em>, em contrapartida ao <em>tidyverse</em>, t√≥pico tratado no Cap√≠tulo <a href="#cap5"><strong>??</strong></a>. Abordaremos aqui temas chaves, como: i) atributos de objetos, ii) manipula√ß√£o de objetos unidimensionais e multidimensionais, iii) valores faltantes e especiais, iv) diret√≥rio de trabalho e v) importar, conferir e exportar dados tabulares.</p>
<div id="atributo-dos-objetos" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Atributo dos objetos<a href="cap21.html#atributo-dos-objetos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quando fazemos atribui√ß√µes de dados no R (<code>&lt;-</code>), os objetos gerados possuem tr√™s caracter√≠sticas.</p>
<ol style="list-style-type: decimal">
<li><strong>Nome</strong>: palavra que o R reconhece os dados atribu√≠dos</li>
<li><strong>Conte√∫do</strong>: dados em si</li>
<li><strong>Atributos</strong>: modos (<em>natureza</em>) e estruturas (<em>organiza√ß√£o</em>) dos elementos</li>
</ol>
<p>Vamos explorar mais a fundo os <strong>modos</strong> e <strong>estruturas</strong> dos objetos. Vale ressaltar que isso √© uma simplifica√ß√£o, pois h√° muitas classes de objetos, como fun√ß√µes e sa√≠das de fun√ß√µes que possuem outros atributos.</p>
<p>Podemos verificar os atributos dos objetos com a fun√ß√£o <code>attributes()</code>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="cap21.html#cb96-1" tabindex="-1"></a><span class="do">## Atributos</span></span>
<span id="cb96-2"><a href="cap21.html#cb96-2" tabindex="-1"></a><span class="fu">attributes</span>(dune)</span></code></pre></div>
<pre><code>## $names
##  [1] &quot;Achimill&quot; &quot;Agrostol&quot; &quot;Airaprae&quot; &quot;Alopgeni&quot; &quot;Anthodor&quot; &quot;Bellpere&quot;
##  [7] &quot;Bromhord&quot; &quot;Chenalbu&quot; &quot;Cirsarve&quot; &quot;Comapalu&quot; &quot;Eleopalu&quot; &quot;Elymrepe&quot;
## [13] &quot;Empenigr&quot; &quot;Hyporadi&quot; &quot;Juncarti&quot; &quot;Juncbufo&quot; &quot;Lolipere&quot; &quot;Planlanc&quot;
## [19] &quot;Poaprat&quot;  &quot;Poatriv&quot;  &quot;Ranuflam&quot; &quot;Rumeacet&quot; &quot;Sagiproc&quot; &quot;Salirepe&quot;
## [25] &quot;Scorautu&quot; &quot;Trifprat&quot; &quot;Trifrepe&quot; &quot;Vicilath&quot; &quot;Bracruta&quot; &quot;Callcusp&quot;
## 
## $row.names
##  [1] &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot; &quot;11&quot; &quot;12&quot; &quot;13&quot; &quot;14&quot; &quot;15&quot;
## [16] &quot;16&quot; &quot;17&quot; &quot;18&quot; &quot;19&quot; &quot;20&quot;
## 
## $class
## [1] &quot;data.frame&quot;</code></pre>
<p><strong>Modo dos objetos</strong></p>
<p>A depender da natureza dos elementos que comp√µem os dados e que foram atribu√≠dos aos objetos, esses objetos podem ser, de forma simples um dos cinco modos: num√©rico do tipo inteiro (<em>integer</em>), num√©rico do tipo flutuante (<em>double</em>), texto (<em>character</em>), l√≥gico (<em>logical</em>) ou complexo (<em>complex</em>).</p>
<p>A atribui√ß√£o de n√∫meros no R pode gerar dois tipos de modos: <strong>integer</strong> para n√∫meros inteiros e <strong>double</strong> para n√∫meros flutuantes ou com decimais.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="cap21.html#cb98-1" tabindex="-1"></a><span class="do">## Num√©rico double</span></span>
<span id="cb98-2"><a href="cap21.html#cb98-2" tabindex="-1"></a>obj_numerico_double <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb98-3"><a href="cap21.html#cb98-3" tabindex="-1"></a></span>
<span id="cb98-4"><a href="cap21.html#cb98-4" tabindex="-1"></a><span class="do">## Modo</span></span>
<span id="cb98-5"><a href="cap21.html#cb98-5" tabindex="-1"></a><span class="fu">mode</span>(obj_numerico_double)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="cap21.html#cb100-1" tabindex="-1"></a><span class="do">## Tipo</span></span>
<span id="cb100-2"><a href="cap21.html#cb100-2" tabindex="-1"></a><span class="fu">typeof</span>(obj_numerico_double)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>A t√≠tulo de praticidade, ambos s√£o incorporados como o modo numeric, com o tipo double, a menos que especifiquemos que seja inteiro com a letra <code>L</code> depois do n√∫mero, representando a palavra <em>Larger</em>, geralmente usando para armazenar n√∫meros muito grandes.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="cap21.html#cb102-1" tabindex="-1"></a><span class="do">## Num√©rico integer</span></span>
<span id="cb102-2"><a href="cap21.html#cb102-2" tabindex="-1"></a>obj_numerico_inteiro <span class="ot">&lt;-</span> 1L</span>
<span id="cb102-3"><a href="cap21.html#cb102-3" tabindex="-1"></a></span>
<span id="cb102-4"><a href="cap21.html#cb102-4" tabindex="-1"></a><span class="do">## Modo</span></span>
<span id="cb102-5"><a href="cap21.html#cb102-5" tabindex="-1"></a><span class="fu">mode</span>(obj_numerico_inteiro)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="cap21.html#cb104-1" tabindex="-1"></a><span class="do">## Tipo</span></span>
<span id="cb104-2"><a href="cap21.html#cb104-2" tabindex="-1"></a><span class="fu">typeof</span>(obj_numerico_inteiro)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Al√©m de n√∫meros, podemos atribuir textos, utilizando para isso aspas <code>""</code>.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="cap21.html#cb106-1" tabindex="-1"></a><span class="do">## Caracter ou string</span></span>
<span id="cb106-2"><a href="cap21.html#cb106-2" tabindex="-1"></a>obj_caracter <span class="ot">&lt;-</span> <span class="st">&quot;a&quot;</span> <span class="co"># atencao para as aspas</span></span>
<span id="cb106-3"><a href="cap21.html#cb106-3" tabindex="-1"></a></span>
<span id="cb106-4"><a href="cap21.html#cb106-4" tabindex="-1"></a><span class="do">## Modo</span></span>
<span id="cb106-5"><a href="cap21.html#cb106-5" tabindex="-1"></a><span class="fu">mode</span>(obj_caracter)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Em algumas situa√ß√µes, precisamos indicar a ocorr√™ncia ou n√£o de um evento ou uma opera√ß√£o. Para isso, utilizamos as palavras reservadas (<code>TRUE</code> e <code>FALSE</code>), chamadas de vari√°veis booleanas, pois assumem apenas duas possibilidades: falso (0) ou verdadeiro (1). Devemos nos ater para o fato dessas palavras serem escritas com letras mai√∫sculas e sem aspas.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="cap21.html#cb108-1" tabindex="-1"></a><span class="do">## L√≥gico</span></span>
<span id="cb108-2"><a href="cap21.html#cb108-2" tabindex="-1"></a>obj_logico <span class="ot">&lt;-</span> <span class="cn">TRUE</span> <span class="co"># maiusculas e sem aspas</span></span>
<span id="cb108-3"><a href="cap21.html#cb108-3" tabindex="-1"></a></span>
<span id="cb108-4"><a href="cap21.html#cb108-4" tabindex="-1"></a><span class="do">## Modo</span></span>
<span id="cb108-5"><a href="cap21.html#cb108-5" tabindex="-1"></a><span class="fu">mode</span>(obj_logico)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<p>Por fim, existe um modo pouco utilizado que cria n√∫meros complexos (raiz de n√∫meros negativos).</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="cap21.html#cb110-1" tabindex="-1"></a><span class="do">## Complexo</span></span>
<span id="cb110-2"><a href="cap21.html#cb110-2" tabindex="-1"></a>obj_complexo <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">+</span>1i</span>
<span id="cb110-3"><a href="cap21.html#cb110-3" tabindex="-1"></a></span>
<span id="cb110-4"><a href="cap21.html#cb110-4" tabindex="-1"></a><span class="do">## Modo</span></span>
<span id="cb110-5"><a href="cap21.html#cb110-5" tabindex="-1"></a><span class="fu">mode</span>(obj_complexo)</span></code></pre></div>
<pre><code>## [1] &quot;complex&quot;</code></pre>
<p>Podemos verificar o modo dos objetos ou fazer a convers√£o entre esses modos com diversas fun√ß√µes.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="cap21.html#cb112-1" tabindex="-1"></a><span class="do">## Verificar o modo dos objetos</span></span>
<span id="cb112-2"><a href="cap21.html#cb112-2" tabindex="-1"></a><span class="fu">is.numeric</span>()</span>
<span id="cb112-3"><a href="cap21.html#cb112-3" tabindex="-1"></a><span class="fu">is.integer</span>()</span>
<span id="cb112-4"><a href="cap21.html#cb112-4" tabindex="-1"></a><span class="fu">is.character</span>()</span>
<span id="cb112-5"><a href="cap21.html#cb112-5" tabindex="-1"></a><span class="fu">is.logical</span>()</span>
<span id="cb112-6"><a href="cap21.html#cb112-6" tabindex="-1"></a><span class="fu">is.complex</span>()</span>
<span id="cb112-7"><a href="cap21.html#cb112-7" tabindex="-1"></a></span>
<span id="cb112-8"><a href="cap21.html#cb112-8" tabindex="-1"></a><span class="do">## Convers√µes entre modos</span></span>
<span id="cb112-9"><a href="cap21.html#cb112-9" tabindex="-1"></a><span class="fu">as.numeric</span>()</span>
<span id="cb112-10"><a href="cap21.html#cb112-10" tabindex="-1"></a><span class="fu">as.integer</span>()</span>
<span id="cb112-11"><a href="cap21.html#cb112-11" tabindex="-1"></a><span class="fu">as.character</span>()</span>
<span id="cb112-12"><a href="cap21.html#cb112-12" tabindex="-1"></a><span class="fu">as.logical</span>()</span>
<span id="cb112-13"><a href="cap21.html#cb112-13" tabindex="-1"></a><span class="fu">as.complex</span>()</span>
<span id="cb112-14"><a href="cap21.html#cb112-14" tabindex="-1"></a></span>
<span id="cb112-15"><a href="cap21.html#cb112-15" tabindex="-1"></a><span class="do">## Exemplo</span></span>
<span id="cb112-16"><a href="cap21.html#cb112-16" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb112-17"><a href="cap21.html#cb112-17" tabindex="-1"></a>num</span>
<span id="cb112-18"><a href="cap21.html#cb112-18" tabindex="-1"></a><span class="fu">mode</span>(num)</span>
<span id="cb112-19"><a href="cap21.html#cb112-19" tabindex="-1"></a></span>
<span id="cb112-20"><a href="cap21.html#cb112-20" tabindex="-1"></a>cha <span class="ot">&lt;-</span> <span class="fu">as.character</span>(num)</span>
<span id="cb112-21"><a href="cap21.html#cb112-21" tabindex="-1"></a>cha</span>
<span id="cb112-22"><a href="cap21.html#cb112-22" tabindex="-1"></a><span class="fu">mode</span>(cha)</span></code></pre></div>
<p><strong>Estrutura dos objetos</strong></p>
<p>Uma vez entendido a natureza dos modos dos elementos dos objetos no R, podemos passar para o passo seguinte e entender como esses elementos s√£o estruturados dentro dos objetos.</p>
<p>Essa estrutura√ß√£o ir√° nos contar sobre a organiza√ß√£o dos elementos, com rela√ß√£o aos modos e dimensionalidade da disposi√ß√£o desses elementos. De modo bem simples, os elementos podem ser estruturados em cinco tipos:</p>
<ol style="list-style-type: decimal">
<li><strong>Vetores e fatores</strong>: homog√™neo (<em>um modo</em>) e unidimensional (<em>uma dimens√£o</em>). Um tipo especial de vetor s√£o os fatores, usados para designar vari√°veis categ√≥ricas</li>
<li><strong>Matrizes</strong>: homog√™neo (<em>um modo</em>) e bidimensional (<em>duas dimens√µes</em>)</li>
<li><strong>Arrays</strong>: homog√™neo (<em>um modo</em>) e multidimensional (<em>mais de duas dimens√µes</em>)</li>
<li><strong>Data frames</strong>: heterog√™neo (<em>mais de um modo</em>) e bidimensional (<em>duas dimens√µes</em>)</li>
<li><strong>Listas</strong>: heterog√™neo (<em>mais de um modo</em>) e unidimensional (<em>uma dimens√£o</em>)</li>
</ol>
<div class="figure"><span style="display:block;" id="fig:fig-r-estruturas"></span>
<img src="figures/cap04_fig03.png" alt="Estruturas de dados mais comuns no R: vetores, matrizes, arrays, listas e data frames. Adaptado de: R for Data Science (2e) ." width="721" />
<p class="caption">
Figura 5.3: Estruturas de dados mais comuns no R: vetores, matrizes, arrays, listas e data frames. Adaptado de: R for Data Science (2e) .
</p>
</div>
<p><strong>Vetor</strong></p>
<p>Vetores representam o encadeamento de elementos numa sequ√™ncia unidimensional. Dessa forma, no R, essa estrutura de dados pode ser traduzida como medidas de uma vari√°vel num√©rica (discretas ou cont√≠nuas), vari√°vel bin√°ria (booleana - TRUE e FALSE) ou descri√ß√£o (informa√ß√µes em texto).</p>
<p>H√° diversas formas de se criar um vetor no R:</p>
<ol style="list-style-type: decimal">
<li>Concatenando elementos com a fun√ß√£o <code>c()</code></li>
<li>Criando sequ√™ncias unit√°rias <code>:</code> ou com a fun√ß√£o <code>seq()</code></li>
<li>Criando repeti√ß√µes com a fun√ß√£o <code>rep()</code></li>
<li>‚ÄúColar‚Äù palavras com uma sequ√™ncia num√©rica com a fun√ß√£o <code>paste()</code> ou <code>paste0()</code></li>
<li>Amostrando aleatoriamente elementos com a fun√ß√£o <code>sample()</code></li>
</ol>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="cap21.html#cb113-1" tabindex="-1"></a><span class="do">## Concatenar elementos num√©ricos</span></span>
<span id="cb113-2"><a href="cap21.html#cb113-2" tabindex="-1"></a>concatenar <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">22</span>, <span class="dv">18</span>)</span>
<span id="cb113-3"><a href="cap21.html#cb113-3" tabindex="-1"></a>concatenar</span></code></pre></div>
<pre><code>## [1] 15 18 20 22 18</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="cap21.html#cb115-1" tabindex="-1"></a><span class="do">## Sequ√™ncia unit√°ria (x1:x2)</span></span>
<span id="cb115-2"><a href="cap21.html#cb115-2" tabindex="-1"></a>sequencia <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb115-3"><a href="cap21.html#cb115-3" tabindex="-1"></a>sequencia</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="cap21.html#cb117-1" tabindex="-1"></a><span class="do">## Sequ√™ncia com diferentes espa√ßamentos </span></span>
<span id="cb117-2"><a href="cap21.html#cb117-2" tabindex="-1"></a>sequencia_esp <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">100</span>, <span class="at">by =</span> <span class="dv">10</span>) </span>
<span id="cb117-3"><a href="cap21.html#cb117-3" tabindex="-1"></a>sequencia_esp</span></code></pre></div>
<pre><code>##  [1]   0  10  20  30  40  50  60  70  80  90 100</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="cap21.html#cb119-1" tabindex="-1"></a><span class="do">## Repeti√ß√£o</span></span>
<span id="cb119-2"><a href="cap21.html#cb119-2" tabindex="-1"></a>repeticao <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="at">times =</span> <span class="dv">5</span>)</span>
<span id="cb119-3"><a href="cap21.html#cb119-3" tabindex="-1"></a>repeticao</span></code></pre></div>
<pre><code>##  [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="cap21.html#cb121-1" tabindex="-1"></a><span class="do">## Cola palavra e sequ√™ncia num√©rica</span></span>
<span id="cb121-2"><a href="cap21.html#cb121-2" tabindex="-1"></a>colar <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;amostra&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb121-3"><a href="cap21.html#cb121-3" tabindex="-1"></a>colar</span></code></pre></div>
<pre><code>## [1] &quot;amostra 1&quot; &quot;amostra 2&quot; &quot;amostra 3&quot; &quot;amostra 4&quot; &quot;amostra 5&quot;</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="cap21.html#cb123-1" tabindex="-1"></a><span class="do">## Amostragem aleat√≥ria</span></span>
<span id="cb123-2"><a href="cap21.html#cb123-2" tabindex="-1"></a>amostragem <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb123-3"><a href="cap21.html#cb123-3" tabindex="-1"></a>amostragem</span></code></pre></div>
<pre><code>##  [1] 70  4 17 53 26 31 59 49  2 10</code></pre>
<p>Como os vetores s√£o homog√™neos, i.e., s√≥ comportam um modo, quando combinamos mais de um modo no mesmo objeto ocorre uma domin√¢ncia de modos. Existe, dessa forma, uma <strong>coer√ß√£o</strong> dos elementos combinados para que todos fiquem iguais. Essa domin√¢ncia segue essa ordem:</p>
<blockquote>
<p><strong><code>DOMINANTE</code></strong> character &gt; double &gt; integer &gt; logical <strong><code>RECESSIVO</code></strong></p>
</blockquote>
<p>Al√©m disso, podemos utilizar as convers√µes listadas anteriormente para alterar os modos. Vamos exemplificar combinando os vetores criados anteriormente e convertendo-os.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="cap21.html#cb125-1" tabindex="-1"></a><span class="do">## Coer√ß√£o</span></span>
<span id="cb125-2"><a href="cap21.html#cb125-2" tabindex="-1"></a><span class="fu">c</span>(colar, amostragem)</span></code></pre></div>
<pre><code>##  [1] &quot;amostra 1&quot; &quot;amostra 2&quot; &quot;amostra 3&quot; &quot;amostra 4&quot; &quot;amostra 5&quot; &quot;70&quot;       
##  [7] &quot;4&quot;         &quot;17&quot;        &quot;53&quot;        &quot;26&quot;        &quot;31&quot;        &quot;59&quot;       
## [13] &quot;49&quot;        &quot;2&quot;         &quot;10&quot;</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="cap21.html#cb127-1" tabindex="-1"></a><span class="do">## Convers√£o</span></span>
<span id="cb127-2"><a href="cap21.html#cb127-2" tabindex="-1"></a><span class="fu">as.numeric</span>(repeticao)</span></code></pre></div>
<pre><code>##  [1] 1 0 1 0 1 0 1 0 1 0</code></pre>
<p><strong>Fator</strong></p>
<p>O fator representa medidas de uma vari√°vel categ√≥rica, podendo ser nominal ou ordinal. √â fundamental destacar que fatores no R devem ser entendidos como um vetor de <strong>integer</strong>, i.e., ele √© composto por n√∫meros inteiros representando os n√≠veis da vari√°vel categ√≥rica.</p>
<p>Para criar um fator no R usamos uma fun√ß√£o espec√≠fica <code>factor()</code>, na qual podemos especificar os <strong>n√≠veis</strong> com o argumento <code>level</code>, ou fazemos uma convers√£o usando a fun√ß√£o <code>as.factor()</code>. Trabalhar com fatores no <em>R Base</em> n√£o √© das tarefas mais agrad√°veis, sendo assim, no Cap√≠tulo <a href="#cap5"><strong>??</strong></a> usamos a vers√£o <em>tidyverse</em> usando o pacote <code>forcats</code>. Destacamos ainda a exist√™ncia de fatores nominais para vari√°veis categ√≥ricas nominais e fatores ordinais para vari√°veis categ√≥ricas ordinais, quando h√° ordenamento entre os n√≠veis, como dias da semana ou classes de altura.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="cap21.html#cb129-1" tabindex="-1"></a><span class="do">## Fator nominal</span></span>
<span id="cb129-2"><a href="cap21.html#cb129-2" tabindex="-1"></a>fator_nominal <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;floresta&quot;</span>, <span class="st">&quot;pastagem&quot;</span>, <span class="st">&quot;cerrado&quot;</span>), </span>
<span id="cb129-3"><a href="cap21.html#cb129-3" tabindex="-1"></a>                                   <span class="at">size =</span> <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb129-4"><a href="cap21.html#cb129-4" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;floresta&quot;</span>, <span class="st">&quot;pastagem&quot;</span>, <span class="st">&quot;cerrado&quot;</span>))</span>
<span id="cb129-5"><a href="cap21.html#cb129-5" tabindex="-1"></a>fator_nominal</span></code></pre></div>
<pre><code>##  [1] floresta pastagem pastagem cerrado  floresta pastagem cerrado  floresta
##  [9] pastagem floresta floresta pastagem cerrado  pastagem pastagem cerrado 
## [17] cerrado  floresta pastagem cerrado 
## Levels: floresta pastagem cerrado</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="cap21.html#cb131-1" tabindex="-1"></a><span class="do">## Fator ordinal</span></span>
<span id="cb131-2"><a href="cap21.html#cb131-2" tabindex="-1"></a>fator_ordinal <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;baixa&quot;</span>, <span class="st">&quot;media&quot;</span>, <span class="st">&quot;alta&quot;</span>), </span>
<span id="cb131-3"><a href="cap21.html#cb131-3" tabindex="-1"></a>                                   <span class="at">size =</span> <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb131-4"><a href="cap21.html#cb131-4" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;baixa&quot;</span>, <span class="st">&quot;media&quot;</span>, <span class="st">&quot;alta&quot;</span>), <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb131-5"><a href="cap21.html#cb131-5" tabindex="-1"></a>fator_ordinal</span></code></pre></div>
<pre><code>##  [1] alta  baixa alta  media media alta  alta  baixa media baixa alta  media
## [13] media baixa alta  alta  baixa media media media
## Levels: baixa &lt; media &lt; alta</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="cap21.html#cb133-1" tabindex="-1"></a><span class="do">## Convers√£o</span></span>
<span id="cb133-2"><a href="cap21.html#cb133-2" tabindex="-1"></a>fator <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="at">x =</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;floresta&quot;</span>, <span class="st">&quot;pastagem&quot;</span>, <span class="st">&quot;cerrado&quot;</span>), </span>
<span id="cb133-3"><a href="cap21.html#cb133-3" tabindex="-1"></a>                              <span class="at">size =</span> <span class="dv">20</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb133-4"><a href="cap21.html#cb133-4" tabindex="-1"></a>fator</span></code></pre></div>
<pre><code>##  [1] pastagem floresta floresta floresta floresta pastagem pastagem cerrado 
##  [9] cerrado  pastagem pastagem pastagem pastagem cerrado  pastagem pastagem
## [17] cerrado  floresta pastagem pastagem
## Levels: cerrado floresta pastagem</code></pre>
<p><strong>Matriz</strong></p>
<p>A matriz representa dados no formato de tabela, com linhas e colunas. As linhas geralmente representam unidades amostrais (locais, transectos, parcelas) e as colunas representam vari√°veis num√©ricas (discretas ou cont√≠nuas), vari√°veis bin√°rias (TRUE ou FALSE) ou descri√ß√µes (informa√ß√µes em texto).</p>
<p>Podemos criar matrizes no R de duas formas. A primeira delas dispondo elementos de um vetor em um certo n√∫mero de linhas e colunas com a fun√ß√£o <code>matrix()</code>, podendo preencher essa matriz com os elementos do vetor por linhas ou por colunas alterando o argumento <code>byrow</code>.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="cap21.html#cb135-1" tabindex="-1"></a><span class="do">## Vetor</span></span>
<span id="cb135-2"><a href="cap21.html#cb135-2" tabindex="-1"></a>ve <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span></span>
<span id="cb135-3"><a href="cap21.html#cb135-3" tabindex="-1"></a></span>
<span id="cb135-4"><a href="cap21.html#cb135-4" tabindex="-1"></a><span class="do">## Matrix - preenchimento por linhas - horizontal</span></span>
<span id="cb135-5"><a href="cap21.html#cb135-5" tabindex="-1"></a>ma_row <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> ve, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb135-6"><a href="cap21.html#cb135-6" tabindex="-1"></a>ma_row</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="cap21.html#cb137-1" tabindex="-1"></a><span class="do">## Matrix - preenchimento por colunas - vertical</span></span>
<span id="cb137-2"><a href="cap21.html#cb137-2" tabindex="-1"></a>ma_col <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> ve, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb137-3"><a href="cap21.html#cb137-3" tabindex="-1"></a>ma_col</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<p>A segundo forma, podemos combinar vetores, utilizando a fun√ß√£o <code>rbind()</code> para combinar vetores por linha, i.e., um vetor embaixo do outro, e <code>cbind()</code> para combinar vetores por coluna, i.e., um vetor ao lado do outro.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="cap21.html#cb139-1" tabindex="-1"></a><span class="do">## Criar dois vetores</span></span>
<span id="cb139-2"><a href="cap21.html#cb139-2" tabindex="-1"></a>vec_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb139-3"><a href="cap21.html#cb139-3" tabindex="-1"></a>vec_2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb139-4"><a href="cap21.html#cb139-4" tabindex="-1"></a></span>
<span id="cb139-5"><a href="cap21.html#cb139-5" tabindex="-1"></a><span class="do">## Combinar por linhas - vertical - um embaixo do outro</span></span>
<span id="cb139-6"><a href="cap21.html#cb139-6" tabindex="-1"></a>ma_rbind <span class="ot">&lt;-</span> <span class="fu">rbind</span>(vec_1, vec_2)</span>
<span id="cb139-7"><a href="cap21.html#cb139-7" tabindex="-1"></a>ma_rbind</span></code></pre></div>
<pre><code>##       [,1] [,2] [,3]
## vec_1    1    2    3
## vec_2    4    5    6</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="cap21.html#cb141-1" tabindex="-1"></a><span class="do">## Combinar por colunas - horizontal - um ao lado do outro</span></span>
<span id="cb141-2"><a href="cap21.html#cb141-2" tabindex="-1"></a>ma_cbind <span class="ot">&lt;-</span> <span class="fu">cbind</span>(vec_1, vec_2)</span>
<span id="cb141-3"><a href="cap21.html#cb141-3" tabindex="-1"></a>ma_cbind</span></code></pre></div>
<pre><code>##      vec_1 vec_2
## [1,]     1     4
## [2,]     2     5
## [3,]     3     6</code></pre>
<p><strong>Array</strong></p>
<p>O array representa combina√ß√£o de tabelas, com linhas, colunas e dimens√µes. Essa combina√ß√£o pode ser feita em m√∫ltiplas dimens√µes, mas apesar disso, geralmente √© mais comum o uso em Ecologia para tr√™s dimens√µes, por exemplo: linhas (unidades amostrais), colunas (esp√©cies) e dimens√£o (tempo). Isso gera um ‚Äúcubo m√°gico‚Äù ou ‚Äúcartas de um baralho‚Äù, onde podemos comparar, nesse caso, comunidades ao longo do tempo. Al√©m disso, arrays tamb√©m s√£o muito comuns em morfometria geom√©trica ou sensoriamento remoto.</p>
<p>Podemos criar arrays no R dispondo elementos de um vetor em um certo n√∫mero de linhas, colunas e dimens√µes com a fun√ß√£o <code>array()</code>. Em nosso exemplo, vamos compor cinco comunidades de cinco esp√©cies ao longo de tr√™s per√≠odos.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="cap21.html#cb143-1" tabindex="-1"></a><span class="do">## Array</span></span>
<span id="cb143-2"><a href="cap21.html#cb143-2" tabindex="-1"></a>ar <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="at">data =</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">size =</span> <span class="dv">75</span>, <span class="at">rep =</span> <span class="cn">TRUE</span>), </span>
<span id="cb143-3"><a href="cap21.html#cb143-3" tabindex="-1"></a>            <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">3</span>))</span>
<span id="cb143-4"><a href="cap21.html#cb143-4" tabindex="-1"></a>ar</span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    1    1    1    1
## [2,]    1    1    1    0    1
## [3,]    1    1    1    0    0
## [4,]    0    1    1    0    0
## [5,]    1    0    1    1    1
## 
## , , 2
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    1    0    1    0
## [2,]    1    1    0    1    1
## [3,]    1    1    1    1    1
## [4,]    0    0    1    1    1
## [5,]    0    1    0    0    0
## 
## , , 3
## 
##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    1    1    1    1
## [2,]    0    0    1    0    0
## [3,]    0    0    1    0    0
## [4,]    0    1    0    1    0
## [5,]    1    1    0    1    0</code></pre>
<p><strong>Data frame</strong></p>
<p>O data frame tamb√©m representa dados no formato de tabela, com linhas e colunas, muito semelhante √† matriz. Mas diferentemente das matrizes, os data frames comportam mais de um modo em suas colunas. Dessa forma, as linhas do data frame ainda representam unidades amostrais (locais, transectos, parcelas), mas as colunas agora podem representar descri√ß√µes (informa√ß√µes em texto), vari√°veis num√©ricas (discretas ou cont√≠nuas), vari√°veis bin√°rias (TRUE ou FALSE) e vari√°veis categ√≥ricas (nominais ou ordinais).</p>
<p>A forma mais simples de se criar data frames no R √© atrav√©s da combina√ß√£o de vetores. Essa combina√ß√£o √© feita com a fun√ß√£o <code>data.frame()</code> e ocorre de forma horizontal, semelhante √† fun√ß√£o <code>cbind()</code>. Sendo assim, todos os vetores precisam ter o mesmo n√∫mero de elementos, ou seja, o mesmo comprimento. Podemos ainda nomear as colunas de cada vetor. Outra forma, seria converter uma matriz em um data frame, utilizando a fun√ß√£o <code>as.data.frame()</code>.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="cap21.html#cb145-1" tabindex="-1"></a><span class="do">## Criar tr√™s vetores</span></span>
<span id="cb145-2"><a href="cap21.html#cb145-2" tabindex="-1"></a>vec_ch <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;sp1&quot;</span>, <span class="st">&quot;sp2&quot;</span>, <span class="st">&quot;sp3&quot;</span>)</span>
<span id="cb145-3"><a href="cap21.html#cb145-3" tabindex="-1"></a>vec_nu <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb145-4"><a href="cap21.html#cb145-4" tabindex="-1"></a>vec_fa <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;campo&quot;</span>, <span class="st">&quot;floresta&quot;</span>, <span class="st">&quot;floresta&quot;</span>))</span>
<span id="cb145-5"><a href="cap21.html#cb145-5" tabindex="-1"></a></span>
<span id="cb145-6"><a href="cap21.html#cb145-6" tabindex="-1"></a><span class="do">## Data frame - combinar por colunas - horizontal - um ao lado do outro</span></span>
<span id="cb145-7"><a href="cap21.html#cb145-7" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(vec_ch, vec_nu, vec_fa)</span>
<span id="cb145-8"><a href="cap21.html#cb145-8" tabindex="-1"></a></span>
<span id="cb145-9"><a href="cap21.html#cb145-9" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   vec_ch vec_nu   vec_fa
## 1    sp1      4    campo
## 2    sp2      5 floresta
## 3    sp3      6 floresta</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="cap21.html#cb147-1" tabindex="-1"></a><span class="do">## Data frame - nomear as colunas</span></span>
<span id="cb147-2"><a href="cap21.html#cb147-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">especies =</span> vec_ch, </span>
<span id="cb147-3"><a href="cap21.html#cb147-3" tabindex="-1"></a>                 <span class="at">abundancia =</span> vec_nu, </span>
<span id="cb147-4"><a href="cap21.html#cb147-4" tabindex="-1"></a>                 <span class="at">vegetacao =</span> vec_fa)</span>
<span id="cb147-5"><a href="cap21.html#cb147-5" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   especies abundancia vegetacao
## 1      sp1          4     campo
## 2      sp2          5  floresta
## 3      sp3          6  floresta</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="cap21.html#cb149-1" tabindex="-1"></a><span class="do">## Data frame - converter uma matriz</span></span>
<span id="cb149-2"><a href="cap21.html#cb149-2" tabindex="-1"></a>ma <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data =</span> ve, <span class="at">nrow =</span> <span class="dv">4</span>, <span class="at">ncol =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb149-3"><a href="cap21.html#cb149-3" tabindex="-1"></a>ma</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="cap21.html#cb151-1" tabindex="-1"></a>df_ma <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ma)</span>
<span id="cb151-2"><a href="cap21.html#cb151-2" tabindex="-1"></a>df_ma</span></code></pre></div>
<pre><code>##   V1 V2 V3
## 1  1  2  3
## 2  4  5  6
## 3  7  8  9
## 4 10 11 12</code></pre>
<p><strong>Lista</strong></p>
<p>A lista √© um tipo especial de vetor que aceita objetos como elementos. Ela √© a estrutura de dados utilizada para agrupar objetos, e √© geralmente a sa√≠da de muitas fun√ß√µes.</p>
<p>Podemos criar listas atrav√©s da fun√ß√£o <code>list()</code>. Essa fun√ß√£o funciona de forma semelhante √† fun√ß√£o <code>c()</code> para a cria√ß√£o de vetores, mas agora estamos concatenando objetos. Podemos ainda nomear os elementos (objetos) que estamos combinando.</p>
<p>Um ponto interessante para entender data frames, √© que eles s√£o listas, em que todos os elementos (colunas) possuem o mesmo n√∫mero de elementos, ou seja, mesmo comprimento.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="cap21.html#cb153-1" tabindex="-1"></a><span class="do">## Lista</span></span>
<span id="cb153-2"><a href="cap21.html#cb153-2" tabindex="-1"></a>lista <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="co"># vector</span></span>
<span id="cb153-3"><a href="cap21.html#cb153-3" tabindex="-1"></a>              <span class="fu">factor</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="co"># factor</span></span>
<span id="cb153-4"><a href="cap21.html#cb153-4" tabindex="-1"></a>              <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))) <span class="co"># matrix</span></span>
<span id="cb153-5"><a href="cap21.html#cb153-5" tabindex="-1"></a>lista</span></code></pre></div>
<pre><code>## [[1]]
##  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
## 
## [[2]]
## [1] 1
## Levels: 1
## 
## [[3]]
##      [,1] [,2]
## [1,]    1    1
## [2,]    2    2</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="cap21.html#cb155-1" tabindex="-1"></a><span class="do">## Lista - nomear os elementos</span></span>
<span id="cb155-2"><a href="cap21.html#cb155-2" tabindex="-1"></a>lista_nome <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">vector =</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">20</span>), <span class="co"># vector</span></span>
<span id="cb155-3"><a href="cap21.html#cb155-3" tabindex="-1"></a>              <span class="at">factor =</span> <span class="fu">factor</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="co"># factor</span></span>
<span id="cb155-4"><a href="cap21.html#cb155-4" tabindex="-1"></a>              <span class="at">matrix =</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))) <span class="co"># matrix</span></span>
<span id="cb155-5"><a href="cap21.html#cb155-5" tabindex="-1"></a>lista_nome</span></code></pre></div>
<pre><code>## $vector
##  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
## 
## $factor
## [1] 1
## Levels: 1
## 
## $matrix
##      [,1] [,2]
## [1,]    1    1
## [2,]    2    2</code></pre>
<p><strong>Fun√ß√µes</strong></p>
<p>Uma √∫ltima estrutura de objetos criados no R s√£o as fun√ß√µes. Elas s√£o objetos criados pelo usu√°rio e reutilizados para fazer opera√ß√µes espec√≠ficas. A cria√ß√£o de fun√ß√µes geralmente √© um t√≥pico tratado num segundo momento, quando o usu√°rio de R adquire certo conhecimento da linguagem. Aqui abordaremos apenas seu funcionamento b√°sico, diferenciando sua estrutura para entendimento e sua diferencia√ß√£o das demais estruturas.</p>
<p>Vamos criar uma fun√ß√£o simples que retorna a multiplica√ß√£o de dois termos. Criaremos a fun√ß√£o com o nome <code>multi</code>, √† qual ser√° atribu√≠da uma fun√ß√£o com o nome <code>function()</code>, com dois argumentos <code>x</code> e <code>y</code>. Depois disso abrimos chaves <code>{}</code>, que √© onde iremos incluir nosso bloco de c√≥digo. Nosso bloco de c√≥digo √© composto por duas linhas, a primeira contendo a opera√ß√£o de multiplica√ß√£o dos argumento com a atribui√ß√£o ao objeto <code>mu</code> e a segunda contendo a fun√ß√£o <code>return()</code> para retornar o valor da multiplica√ß√£o.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="cap21.html#cb157-1" tabindex="-1"></a><span class="do">## Criar uma fun√ß√£o</span></span>
<span id="cb157-2"><a href="cap21.html#cb157-2" tabindex="-1"></a>multi <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y){</span>
<span id="cb157-3"><a href="cap21.html#cb157-3" tabindex="-1"></a>  </span>
<span id="cb157-4"><a href="cap21.html#cb157-4" tabindex="-1"></a>  mu <span class="ot">&lt;-</span> (x <span class="sc">*</span> y)</span>
<span id="cb157-5"><a href="cap21.html#cb157-5" tabindex="-1"></a>  <span class="fu">return</span>(mu)</span>
<span id="cb157-6"><a href="cap21.html#cb157-6" tabindex="-1"></a> </span>
<span id="cb157-7"><a href="cap21.html#cb157-7" tabindex="-1"></a>}</span>
<span id="cb157-8"><a href="cap21.html#cb157-8" tabindex="-1"></a>multi</span></code></pre></div>
<pre><code>## function(x, y){
##   
##   mu &lt;- (x * y)
##   return(mu)
##  
## }</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="cap21.html#cb159-1" tabindex="-1"></a><span class="do">## Uso da fun√ß√£o</span></span>
<span id="cb159-2"><a href="cap21.html#cb159-2" tabindex="-1"></a><span class="fu">multi</span>(<span class="dv">42</span>, <span class="dv">23</span>)</span></code></pre></div>
<pre><code>## [1] 966</code></pre>
</div>
<div id="manipula√ß√£o-de-objetos-unidimensionais" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Manipula√ß√£o de objetos unidimensionais<a href="cap21.html#manipula√ß√£o-de-objetos-unidimensionais" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vamos agora explorar formas de manipular elementos de objetos unidimensionais, ou seja, vetores, fatores e listas.</p>
<p>A primeira forma de manipula√ß√£o √© atrav√©s da <strong>indexa√ß√£o</strong>, utilizando os operadores <code>[]</code>. Com a indexa√ß√£o podemos acessar elementos de vetores e fatores por sua posi√ß√£o. Utilizaremos n√∫meros, sequ√™ncia de n√∫meros ou opera√ß√µes booleanas para retornar partes dos vetores ou fatores. Podemos ainda retirar elementos dessas estruturas com o operador aritm√©tico <code>-</code>.</p>
<p>No exemplo a seguir, iremos fixar o ponto de partida da amostragem da fun√ß√£o <code>sample()</code>, utilizando a fun√ß√£o <code>set.seed(42)</code> (usamos 42 porque √© a resposta para a vida, o universo e tudo mais - O Guia do Mochileiro das Gal√°xias, mas poderia ser outro n√∫mero qualquer). Isso permite que o resultado da amostragem aleat√≥ria seja igual em diferentes computadores.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="cap21.html#cb161-1" tabindex="-1"></a><span class="do">## Fixar a amostragem</span></span>
<span id="cb161-2"><a href="cap21.html#cb161-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb161-3"><a href="cap21.html#cb161-3" tabindex="-1"></a></span>
<span id="cb161-4"><a href="cap21.html#cb161-4" tabindex="-1"></a><span class="do">## Amostrar 10 elementos de uma sequ√™ncia</span></span>
<span id="cb161-5"><a href="cap21.html#cb161-5" tabindex="-1"></a>ve <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">2</span>, .<span class="dv">05</span>), <span class="at">size =</span> <span class="dv">10</span>)</span>
<span id="cb161-6"><a href="cap21.html#cb161-6" tabindex="-1"></a>ve</span></code></pre></div>
<pre><code>##  [1] 1.80 0.00 1.20 0.45 1.75 0.85 1.15 0.30 1.90 0.20</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="cap21.html#cb163-1" tabindex="-1"></a><span class="do">## Seleciona o quinto elemento</span></span>
<span id="cb163-2"><a href="cap21.html#cb163-2" tabindex="-1"></a>ve[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 1.75</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="cap21.html#cb165-1" tabindex="-1"></a><span class="do">## Seleciona os elementos de 1 a 5</span></span>
<span id="cb165-2"><a href="cap21.html#cb165-2" tabindex="-1"></a>ve[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 1.80 0.00 1.20 0.45 1.75</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="cap21.html#cb167-1" tabindex="-1"></a><span class="do">## Retira o d√©cimo elemento</span></span>
<span id="cb167-2"><a href="cap21.html#cb167-2" tabindex="-1"></a>ve[<span class="sc">-</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>## [1] 1.80 0.00 1.20 0.45 1.75 0.85 1.15 0.30 1.90</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="cap21.html#cb169-1" tabindex="-1"></a><span class="do">## Retira os elementos 2 a 9</span></span>
<span id="cb169-2"><a href="cap21.html#cb169-2" tabindex="-1"></a>ve[<span class="sc">-</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>)]</span></code></pre></div>
<pre><code>## [1] 1.8 0.2</code></pre>
<p>Podemos ainda fazer uma sele√ß√£o condicional do vetor. Ao utilizarmos operadores relacionais, teremos como resposta um vetor l√≥gico. Esse vetor l√≥gico pode ser utilizado dentro da indexa√ß√£o para sele√ß√£o de elementos.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="cap21.html#cb171-1" tabindex="-1"></a><span class="do">## Quais valores sao maiores que 1?</span></span>
<span id="cb171-2"><a href="cap21.html#cb171-2" tabindex="-1"></a>ve <span class="sc">&gt;</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>##  [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="cap21.html#cb173-1" tabindex="-1"></a><span class="do">## Selecionar os valores acima de 1 no vetor ve</span></span>
<span id="cb173-2"><a href="cap21.html#cb173-2" tabindex="-1"></a>ve[ve <span class="sc">&gt;</span> <span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 1.80 1.20 1.75 1.15 1.90</code></pre>
<p>Al√©m da indexa√ß√£o, temos algumas fun√ß√µes que nos auxiliam em algumas opera√ß√µes com objetos unidimensionais.</p>
<table>
<caption><span id="tab:tab-tab-funcoes-conf-uni">Tabela 5.2: </span>Fun√ß√µes para verifica√ß√£o e resumo de dados unidimensionais.</caption>
<thead>
<tr class="header">
<th align="center">Fun√ß√£o</th>
<th align="center">Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><code>max()</code></td>
<td align="center">Valor m√°ximo</td>
</tr>
<tr class="even">
<td align="center"><code>min()</code></td>
<td align="center">Valor m√≠nimo</td>
</tr>
<tr class="odd">
<td align="center"><code>range()</code></td>
<td align="center">Amplitude</td>
</tr>
<tr class="even">
<td align="center"><code>length()</code></td>
<td align="center">Comprimento</td>
</tr>
<tr class="odd">
<td align="center"><code>sum()</code></td>
<td align="center">Soma</td>
</tr>
<tr class="even">
<td align="center"><code>cumsum()</code></td>
<td align="center">Soma cumulativa</td>
</tr>
<tr class="odd">
<td align="center"><code>prod()</code></td>
<td align="center">Produto</td>
</tr>
<tr class="even">
<td align="center"><code>sqrt()</code></td>
<td align="center">Raiz quadrada</td>
</tr>
<tr class="odd">
<td align="center"><code>abs()</code></td>
<td align="center">Valor absoluto</td>
</tr>
<tr class="even">
<td align="center"><code>exp()</code></td>
<td align="center">Expoente</td>
</tr>
<tr class="odd">
<td align="center"><code>log()</code></td>
<td align="center">Logaritmo natural</td>
</tr>
<tr class="even">
<td align="center"><code>log1p()</code></td>
<td align="center">Logaritmo natural mais 1 <em>log(x + 1)</em></td>
</tr>
<tr class="odd">
<td align="center"><code>log2()</code></td>
<td align="center">Logaritmo base 2</td>
</tr>
<tr class="even">
<td align="center"><code>log10()</code></td>
<td align="center">Logaritmo base 10</td>
</tr>
<tr class="odd">
<td align="center"><code>mean()</code></td>
<td align="center">M√©dia</td>
</tr>
<tr class="even">
<td align="center"><code>mean.weighted()</code></td>
<td align="center">M√©dia ponderada</td>
</tr>
<tr class="odd">
<td align="center"><code>var()</code></td>
<td align="center">Vari√¢ncia</td>
</tr>
<tr class="even">
<td align="center"><code>sd()</code></td>
<td align="center">Desvio Padr√£o</td>
</tr>
<tr class="odd">
<td align="center"><code>mediam()</code></td>
<td align="center">Mediana</td>
</tr>
<tr class="even">
<td align="center"><code>quantile()</code></td>
<td align="center">Quantil</td>
</tr>
<tr class="odd">
<td align="center"><code>quarters()</code></td>
<td align="center">Quartil</td>
</tr>
<tr class="even">
<td align="center"><code>IQR()</code></td>
<td align="center">Amplitude interquartil</td>
</tr>
<tr class="odd">
<td align="center"><code>round()</code></td>
<td align="center">Arredondamento</td>
</tr>
<tr class="even">
<td align="center"><code>sort()</code></td>
<td align="center">Ordena√ß√£o</td>
</tr>
<tr class="odd">
<td align="center"><code>order()</code></td>
<td align="center">Posi√ß√£o ordenada</td>
</tr>
<tr class="even">
<td align="center"><code>rev()</code></td>
<td align="center">Reverso</td>
</tr>
<tr class="odd">
<td align="center"><code>unique()</code></td>
<td align="center">√önicos</td>
</tr>
<tr class="even">
<td align="center"><code>summary()</code></td>
<td align="center">Resumo estat√≠stico</td>
</tr>
<tr class="odd">
<td align="center"><code>cut()</code></td>
<td align="center">Divide vari√°vel cont√≠nua em fator</td>
</tr>
<tr class="even">
<td align="center"><code>pretty()</code></td>
<td align="center">Divide vari√°vel cont√≠nua em intervalos</td>
</tr>
<tr class="odd">
<td align="center"><code>scale()</code></td>
<td align="center">Padroniza√ß√£o e centraliza√ß√£o</td>
</tr>
<tr class="even">
<td align="center"><code>sub()</code></td>
<td align="center">Substitui caracteres</td>
</tr>
<tr class="odd">
<td align="center"><code>grep()</code></td>
<td align="center">Posi√ß√£o de caracteres</td>
</tr>
<tr class="even">
<td align="center"><code>any()</code></td>
<td align="center">Algum valor?</td>
</tr>
<tr class="odd">
<td align="center"><code>all()</code></td>
<td align="center">Todos os valores?</td>
</tr>
<tr class="even">
<td align="center"><code>which()</code></td>
<td align="center">Quais valores?</td>
</tr>
<tr class="odd">
<td align="center"><code>subset()</code></td>
<td align="center">Subconjunto</td>
</tr>
<tr class="even">
<td align="center"><code>ifelse()</code></td>
<td align="center">Opera√ß√£o condicional</td>
</tr>
</tbody>
</table>
<p>Para listas, tamb√©m podemos usar a indexa√ß√£o <code>[]</code> para acessar ou retirar elementos.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="cap21.html#cb175-1" tabindex="-1"></a><span class="do">## Lista</span></span>
<span id="cb175-2"><a href="cap21.html#cb175-2" tabindex="-1"></a>li <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">elem1 =</span> <span class="dv">1</span>, <span class="at">elem2 =</span> <span class="dv">2</span>, <span class="at">elem3 =</span> <span class="dv">3</span>)</span>
<span id="cb175-3"><a href="cap21.html#cb175-3" tabindex="-1"></a></span>
<span id="cb175-4"><a href="cap21.html#cb175-4" tabindex="-1"></a><span class="do">## Acessar o primeiro elemento</span></span>
<span id="cb175-5"><a href="cap21.html#cb175-5" tabindex="-1"></a>li[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## $elem1
## [1] 1</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="cap21.html#cb177-1" tabindex="-1"></a><span class="do">## Retirar o primeiro elemento</span></span>
<span id="cb177-2"><a href="cap21.html#cb177-2" tabindex="-1"></a>li[<span class="sc">-</span><span class="dv">1</span>]</span></code></pre></div>
<pre><code>## $elem2
## [1] 2
## 
## $elem3
## [1] 3</code></pre>
<p>Podemos ainda usar a indexa√ß√£o dupla <code>[[]]</code> para acessar os valores desses elementos.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="cap21.html#cb179-1" tabindex="-1"></a><span class="do">## Acessar o valor do primeiro elemento</span></span>
<span id="cb179-2"><a href="cap21.html#cb179-2" tabindex="-1"></a>li[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="cap21.html#cb181-1" tabindex="-1"></a><span class="do">## Acessar o valor do segundo elemento</span></span>
<span id="cb181-2"><a href="cap21.html#cb181-2" tabindex="-1"></a>li[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Para listas nomeadas, podemos ainda utilizar o operador <code>$</code> para acessar elementos pelo seu nome.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="cap21.html#cb183-1" tabindex="-1"></a><span class="do">## Acessar o primeiro elemento</span></span>
<span id="cb183-2"><a href="cap21.html#cb183-2" tabindex="-1"></a>li<span class="sc">$</span>elem1</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>E ainda podemos utilizar fun√ß√µes para medir o comprimento dessa lista, listar os nomes dos elementos ou ainda renomear os elementos: <code>length()</code> e <code>names()</code>.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="cap21.html#cb185-1" tabindex="-1"></a><span class="do">## Comprimento</span></span>
<span id="cb185-2"><a href="cap21.html#cb185-2" tabindex="-1"></a><span class="fu">length</span>(li)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="cap21.html#cb187-1" tabindex="-1"></a><span class="do">## Nomes</span></span>
<span id="cb187-2"><a href="cap21.html#cb187-2" tabindex="-1"></a><span class="fu">names</span>(li)</span></code></pre></div>
<pre><code>## [1] &quot;elem1&quot; &quot;elem2&quot; &quot;elem3&quot;</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="cap21.html#cb189-1" tabindex="-1"></a><span class="do">## Renomear</span></span>
<span id="cb189-2"><a href="cap21.html#cb189-2" tabindex="-1"></a><span class="fu">names</span>(li) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;elemento0&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb189-3"><a href="cap21.html#cb189-3" tabindex="-1"></a>li</span></code></pre></div>
<pre><code>## $elemento01
## [1] 1
## 
## $elemento02
## [1] 2
## 
## $elemento03
## [1] 3</code></pre>
</div>
<div id="manipula√ß√£o-de-objetos-multidimensionais" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Manipula√ß√£o de objetos multidimensionais<a href="cap21.html#manipula√ß√£o-de-objetos-multidimensionais" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Da mesma forma que para objetos unidimensionais, podemos manipular elementos de objetos multidimensionais, ou seja, matrizes, data frames e arrays.</p>
<p>Novamente, a primeira forma de manipula√ß√£o √© atrav√©s da indexa√ß√£o, utilizando os operadores <code>[]</code>. Com a indexa√ß√£o podemos acessar elementos de matrizes, data frames e arrays por sua posi√ß√£o. Podemos ainda retirar elementos dessas estruturas com o operador aritm√©tico <code>-</code>.</p>
<p>Entretanto, agora temos mais de uma dimens√£o na estrutura√ß√£o dos elementos dentro dos objetos. Assim, utilizamos n√∫meros, sequ√™ncia de n√∫meros ou opera√ß√£o booleanas para retornar partes desses objetos, mas as dimens√µes t√™m de ser explicitadas e separadas por <strong>v√≠rgulas</strong> para acessar linhas e colunas. Essa indexa√ß√£o funciona para matrizes e data frames. Para arrays, especificamos tamb√©m as dimens√µes, tamb√©m separadas por v√≠rgulas para acessar essas dimens√µes.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="cap21.html#cb191-1" tabindex="-1"></a><span class="do">## Matriz</span></span>
<span id="cb191-2"><a href="cap21.html#cb191-2" tabindex="-1"></a>ma <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb191-3"><a href="cap21.html#cb191-3" tabindex="-1"></a>ma</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="cap21.html#cb193-1" tabindex="-1"></a><span class="do">## Indexa√ß√£o</span></span>
<span id="cb193-2"><a href="cap21.html#cb193-2" tabindex="-1"></a>ma[<span class="dv">3</span>, ] <span class="co"># linha 3</span></span></code></pre></div>
<pre><code>## [1]  3  7 11</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="cap21.html#cb195-1" tabindex="-1"></a>ma[, <span class="dv">2</span>] <span class="co"># coluna 2</span></span></code></pre></div>
<pre><code>## [1] 5 6 7 8</code></pre>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="cap21.html#cb197-1" tabindex="-1"></a>ma[<span class="dv">1</span>, <span class="dv">2</span>] <span class="co"># elemento da linha 1 e coluna 2</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="cap21.html#cb199-1" tabindex="-1"></a>ma[<span class="dv">1</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="co"># elementos da linha 1 e coluna 1 e 2</span></span></code></pre></div>
<pre><code>## [1] 1 5</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="cap21.html#cb201-1" tabindex="-1"></a>ma[<span class="dv">1</span>, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="co"># elementos da linha 1 e coluna 1 e 3</span></span></code></pre></div>
<pre><code>## [1] 1 9</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="cap21.html#cb203-1" tabindex="-1"></a>ma[<span class="sc">-</span><span class="dv">1</span>, ] <span class="co"># retirar a linha 1</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    2    6   10
## [2,]    3    7   11
## [3,]    4    8   12</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="cap21.html#cb205-1" tabindex="-1"></a>ma[, <span class="sc">-</span><span class="dv">3</span>] <span class="co"># retirar a coluna 3</span></span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    5
## [2,]    2    6
## [3,]    3    7
## [4,]    4    8</code></pre>
<p>Para data frames, al√©m de utilizar n√∫meros e/ou sequ√™ncias de n√∫meros dentro do operador <code>[]</code> simples, podemos utilizar o operador <code>[[]]</code> duplo para retornar apenas os valores de uma linha ou uma coluna. Se as colunas estiverem nomeadas, podemos utilizar o nome da coluna de interesse entre aspas dentro dos operadores <code>[]</code> (retornar coluna) e <code>[[]]</code> (retornar apenas os valores), assim como ainda podemos utilizar o operador <code>$</code> para data frames. Essas √∫ltimas opera√ß√µes retornam um vetor, para o qual podemos fazer opera√ß√µes de vetores ou ainda atualizar o valor dessa coluna selecionada ou adicionar outra coluna.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="cap21.html#cb207-1" tabindex="-1"></a><span class="do">## Criar tr√™s vetores</span></span>
<span id="cb207-2"><a href="cap21.html#cb207-2" tabindex="-1"></a>sp <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;sp&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb207-3"><a href="cap21.html#cb207-3" tabindex="-1"></a>abu <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb207-4"><a href="cap21.html#cb207-4" tabindex="-1"></a>flo <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;campo&quot;</span>, <span class="st">&quot;floresta&quot;</span>), <span class="at">each =</span> <span class="dv">5</span>))</span>
<span id="cb207-5"><a href="cap21.html#cb207-5" tabindex="-1"></a></span>
<span id="cb207-6"><a href="cap21.html#cb207-6" tabindex="-1"></a><span class="do">## data frame</span></span>
<span id="cb207-7"><a href="cap21.html#cb207-7" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(sp, abu, flo)</span>
<span id="cb207-8"><a href="cap21.html#cb207-8" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##      sp abu      flo
## 1   sp1   1    campo
## 2   sp2   2    campo
## 3   sp3   3    campo
## 4   sp4   4    campo
## 5   sp5   5    campo
## 6   sp6   6 floresta
## 7   sp7   7 floresta
## 8   sp8   8 floresta
## 9   sp9   9 floresta
## 10 sp10  10 floresta</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="cap21.html#cb209-1" tabindex="-1"></a><span class="do">## [] - n√∫meros</span></span>
<span id="cb209-2"><a href="cap21.html#cb209-2" tabindex="-1"></a>df[, <span class="dv">1</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;sp1&quot;  &quot;sp2&quot;  &quot;sp3&quot;  &quot;sp4&quot;  &quot;sp5&quot;  &quot;sp6&quot;  &quot;sp7&quot;  &quot;sp8&quot;  &quot;sp9&quot;  &quot;sp10&quot;</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="cap21.html#cb211-1" tabindex="-1"></a><span class="do">## [] - nome das colunas - retorna coluna</span></span>
<span id="cb211-2"><a href="cap21.html#cb211-2" tabindex="-1"></a>df[<span class="st">&quot;flo&quot;</span>]</span></code></pre></div>
<pre><code>##         flo
## 1     campo
## 2     campo
## 3     campo
## 4     campo
## 5     campo
## 6  floresta
## 7  floresta
## 8  floresta
## 9  floresta
## 10 floresta</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="cap21.html#cb213-1" tabindex="-1"></a><span class="do">## [[]] - nome das colunas - retorna apenas os valores</span></span>
<span id="cb213-2"><a href="cap21.html#cb213-2" tabindex="-1"></a>df[[<span class="st">&quot;flo&quot;</span>]]</span></code></pre></div>
<pre><code>##  [1] campo    campo    campo    campo    campo    floresta floresta floresta
##  [9] floresta floresta
## Levels: campo floresta</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="cap21.html#cb215-1" tabindex="-1"></a><span class="do">## $ funciona apenas para data frame </span></span>
<span id="cb215-2"><a href="cap21.html#cb215-2" tabindex="-1"></a>df<span class="sc">$</span>sp</span></code></pre></div>
<pre><code>##  [1] &quot;sp1&quot;  &quot;sp2&quot;  &quot;sp3&quot;  &quot;sp4&quot;  &quot;sp5&quot;  &quot;sp6&quot;  &quot;sp7&quot;  &quot;sp8&quot;  &quot;sp9&quot;  &quot;sp10&quot;</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="cap21.html#cb217-1" tabindex="-1"></a><span class="do">## Opera√ß√£o de vetors</span></span>
<span id="cb217-2"><a href="cap21.html#cb217-2" tabindex="-1"></a><span class="fu">length</span>(df<span class="sc">$</span>abu)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="cap21.html#cb219-1" tabindex="-1"></a><span class="do">## Converter colunas</span></span>
<span id="cb219-2"><a href="cap21.html#cb219-2" tabindex="-1"></a>df<span class="sc">$</span>abu <span class="ot">&lt;-</span> <span class="fu">as.character</span>(df<span class="sc">$</span>abu)</span>
<span id="cb219-3"><a href="cap21.html#cb219-3" tabindex="-1"></a><span class="fu">mode</span>(df<span class="sc">$</span>abu)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="cap21.html#cb221-1" tabindex="-1"></a><span class="do">## Adicionar ou mudar colunas</span></span>
<span id="cb221-2"><a href="cap21.html#cb221-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb221-3"><a href="cap21.html#cb221-3" tabindex="-1"></a>df<span class="sc">$</span>abu2 <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="at">x =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">size =</span> <span class="fu">nrow</span>(df), <span class="at">rep =</span> <span class="cn">TRUE</span>)</span>
<span id="cb221-4"><a href="cap21.html#cb221-4" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##      sp abu      flo abu2
## 1   sp1   1    campo    0
## 2   sp2   2    campo    0
## 3   sp3   3    campo    0
## 4   sp4   4    campo    0
## 5   sp5   5    campo    1
## 6   sp6   6 floresta    1
## 7   sp7   7 floresta    1
## 8   sp8   8 floresta    1
## 9   sp9   9 floresta    0
## 10 sp10  10 floresta    1</code></pre>
<p>Podemos ainda fazer sele√ß√µes condicionais para retornar linhas com valores que temos interesse, semelhante ao uso de filtro de uma planilha eletr√¥nica.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="cap21.html#cb223-1" tabindex="-1"></a><span class="do">## Selecionar linhas de uma matriz ou data frame </span></span>
<span id="cb223-2"><a href="cap21.html#cb223-2" tabindex="-1"></a>df[df<span class="sc">$</span>abu <span class="sc">&gt;</span> <span class="dv">4</span>, ]</span></code></pre></div>
<pre><code>##    sp abu      flo abu2
## 5 sp5   5    campo    1
## 6 sp6   6 floresta    1
## 7 sp7   7 floresta    1
## 8 sp8   8 floresta    1
## 9 sp9   9 floresta    0</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="cap21.html#cb225-1" tabindex="-1"></a>df[df<span class="sc">$</span>flo <span class="sc">==</span> <span class="st">&quot;floresta&quot;</span>, ]</span></code></pre></div>
<pre><code>##      sp abu      flo abu2
## 6   sp6   6 floresta    1
## 7   sp7   7 floresta    1
## 8   sp8   8 floresta    1
## 9   sp9   9 floresta    0
## 10 sp10  10 floresta    1</code></pre>
<p>Al√©m disso, h√° uma s√©rie de fun√ß√µes para confer√™ncia e manipula√ß√£o de dados que listamos na Tabela seguinte:</p>
<table>
<caption><span id="tab:tab-funcoes-conf-multi">Tabela 5.3: </span>Fun√ß√µes para verifica√ß√£o e resumo de dados multidimensionais.</caption>
<thead>
<tr class="header">
<th align="center">Fun√ß√£o</th>
<th align="center">Descri√ß√£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><code>head()</code></td>
<td align="center">Mostra as primeiras 6 linhas</td>
</tr>
<tr class="even">
<td align="center"><code>tail()</code></td>
<td align="center">Mostra as √∫ltimas 6 linhas</td>
</tr>
<tr class="odd">
<td align="center"><code>nrow()</code></td>
<td align="center">Mostra o n√∫mero de linhas</td>
</tr>
<tr class="even">
<td align="center"><code>ncol()</code></td>
<td align="center">Mostra o n√∫mero de colunas</td>
</tr>
<tr class="odd">
<td align="center"><code>dim()</code></td>
<td align="center">Mostra o n√∫mero de linhas e de colunas</td>
</tr>
<tr class="even">
<td align="center"><code>rownames()</code></td>
<td align="center">Mostra os nomes das linhas (locais)</td>
</tr>
<tr class="odd">
<td align="center"><code>colnames()</code></td>
<td align="center">Mostra os nomes das colunas (vari√°veis)</td>
</tr>
<tr class="even">
<td align="center"><code>str()</code></td>
<td align="center">Mostra as classes de cada coluna (estrutura)</td>
</tr>
<tr class="odd">
<td align="center"><code>summary()</code></td>
<td align="center">Mostra um resumo dos valores de cada coluna</td>
</tr>
<tr class="even">
<td align="center"><code>rowSums()</code></td>
<td align="center">Calcula a soma das linhas (horizontal)</td>
</tr>
<tr class="odd">
<td align="center"><code>colSums()</code></td>
<td align="center">Calcula a soma das colunas (vertical)</td>
</tr>
<tr class="even">
<td align="center"><code>rowMeans()</code></td>
<td align="center">Calcula a m√©dia das linhas (horizontal)</td>
</tr>
<tr class="odd">
<td align="center"><code>colMeans()</code></td>
<td align="center">Calcula a m√©dia das colunas (vertical)</td>
</tr>
<tr class="even">
<td align="center"><code>table()</code></td>
<td align="center">Tabula√ß√£o cruzada</td>
</tr>
<tr class="odd">
<td align="center"><code>t()</code></td>
<td align="center">Matriz ou data frame transposto</td>
</tr>
</tbody>
</table>
</div>
<div id="valores-faltantes-e-especiais" class="section level3 hasAnchor" number="5.4.4">
<h3><span class="header-section-number">5.4.4</span> Valores faltantes e especiais<a href="cap21.html#valores-faltantes-e-especiais" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Valores faltantes e especiais s√£o valores reservados que representam dados faltantes, indefini√ß√µes matem√°ticas, infinitos e objetos nulos.</p>
<ol style="list-style-type: decimal">
<li><strong>NA (<em>Not Available</em>)</strong>: significa dado faltante ou indispon√≠vel</li>
<li><strong>NaN (<em>Not a Number</em>)</strong>: representa indefini√ß√µes matem√°ticas</li>
<li><strong>Inf (<em>Infinito</em>)</strong>: √© um n√∫mero muito grande ou um limite matem√°tico</li>
<li><strong>NULL <em>(Nulo</em>)</strong>: representa um objeto nulo, sendo √∫til para preenchimento em aplica√ß√µes de programa√ß√£o</li>
</ol>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="cap21.html#cb227-1" tabindex="-1"></a><span class="do">## Data frame com elemento NA</span></span>
<span id="cb227-2"><a href="cap21.html#cb227-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">var1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="cn">NA</span>), <span class="at">var2 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">2</span>))</span>
<span id="cb227-3"><a href="cap21.html#cb227-3" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   var1 var2
## 1    1    1
## 2    4    4
## 3    2    5
## 4   NA    2</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="cap21.html#cb229-1" tabindex="-1"></a><span class="do">## Resposta booleana para elementos NA</span></span>
<span id="cb229-2"><a href="cap21.html#cb229-2" tabindex="-1"></a><span class="fu">is.na</span>(df)</span></code></pre></div>
<pre><code>##       var1  var2
## [1,] FALSE FALSE
## [2,] FALSE FALSE
## [3,] FALSE FALSE
## [4,]  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="cap21.html#cb231-1" tabindex="-1"></a><span class="do">## Algum elemento √© NA?</span></span>
<span id="cb231-2"><a href="cap21.html#cb231-2" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(df))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="cap21.html#cb233-1" tabindex="-1"></a><span class="do">## Remover as linhas com NAs</span></span>
<span id="cb233-2"><a href="cap21.html#cb233-2" tabindex="-1"></a>df_sem_na <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(df)</span>
<span id="cb233-3"><a href="cap21.html#cb233-3" tabindex="-1"></a>df_sem_na</span></code></pre></div>
<pre><code>##   var1 var2
## 1    1    1
## 2    4    4
## 3    2    5</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="cap21.html#cb235-1" tabindex="-1"></a><span class="do">## Substituir NAs por 0</span></span>
<span id="cb235-2"><a href="cap21.html#cb235-2" tabindex="-1"></a>df[<span class="fu">is.na</span>(df)] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb235-3"><a href="cap21.html#cb235-3" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>##   var1 var2
## 1    1    1
## 2    4    4
## 3    2    5
## 4    0    2</code></pre>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="cap21.html#cb237-1" tabindex="-1"></a><span class="do">## Desconsiderar os NAs em fun√ß√µes com o argumento rm.na = TRUE</span></span>
<span id="cb237-2"><a href="cap21.html#cb237-2" tabindex="-1"></a><span class="fu">sum</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="cn">NA</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="cap21.html#cb239-1" tabindex="-1"></a><span class="do">## NaN - not a number</span></span>
<span id="cb239-2"><a href="cap21.html#cb239-2" tabindex="-1"></a><span class="dv">0</span><span class="sc">/</span><span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="cap21.html#cb241-1" tabindex="-1"></a><span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<pre><code>## Warning in log(-1): NaNs produced</code></pre>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="cap21.html#cb244-1" tabindex="-1"></a><span class="do">## Limite matem√°tico</span></span>
<span id="cb244-2"><a href="cap21.html#cb244-2" tabindex="-1"></a><span class="dv">1</span><span class="sc">/</span><span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="cap21.html#cb246-1" tabindex="-1"></a><span class="do">## N√∫mero grande</span></span>
<span id="cb246-2"><a href="cap21.html#cb246-2" tabindex="-1"></a><span class="dv">10</span><span class="sc">^</span><span class="dv">310</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="cap21.html#cb248-1" tabindex="-1"></a><span class="do">## Objeto nulo</span></span>
<span id="cb248-2"><a href="cap21.html#cb248-2" tabindex="-1"></a>nulo <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb248-3"><a href="cap21.html#cb248-3" tabindex="-1"></a>nulo</span></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="diret√≥rio-de-trabalho" class="section level3 hasAnchor" number="5.4.5">
<h3><span class="header-section-number">5.4.5</span> Diret√≥rio de trabalho<a href="cap21.html#diret√≥rio-de-trabalho" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O diret√≥rio de trabalho √© o endere√ßo da pasta (ou diret√≥rio) de onde o R importar√° ou exportar nossos dados.</p>
<p>Podemos utilizar o pr√≥prio RStudio para tal tarefa, indo em <code>Session &gt; Set Work Directory &gt; Choose Directory...</code> ou simplesmente utilizar o atalho <code>Ctrl + Shift + H</code>.</p>
<p>Podemos ainda utilizar fun√ß√µes do R para definir o diret√≥rio. Para tanto, podemos navegar com o aplicativo de gerenciador de arquivos (e.g., Windows Explorer) at√© nosso diret√≥rio de interesse e copiar o endere√ßo na barra superior. Voltamos para o R e colamos esse endere√ßo entre aspas como argumento da fun√ß√£o <code>setwd()</code>. √â fundamental destacar que no Windows √© necess√°rio inverter as barras (<code>\</code> por <code>/</code> ou duplicar elas <code>\\</code>).</p>
<p>Aconselhamos ainda utilizar as fun√ß√µes <code>getwd()</code> para retornar o diret√≥rio definido na sess√£o do R, assim como as fun√ß√µes <code>dir()</code> ou <code>list.files()</code> para listagem dos arquivos no diret√≥rio, ambas medidas de confer√™ncia do diret√≥rio correto.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="cap21.html#cb250-1" tabindex="-1"></a><span class="do">## Definir o diret√≥rio de trabalho</span></span>
<span id="cb250-2"><a href="cap21.html#cb250-2" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/mude/data/github/livro_aer/dados&quot;</span>)</span>
<span id="cb250-3"><a href="cap21.html#cb250-3" tabindex="-1"></a></span>
<span id="cb250-4"><a href="cap21.html#cb250-4" tabindex="-1"></a><span class="do">## Verificar o diret√≥rio</span></span>
<span id="cb250-5"><a href="cap21.html#cb250-5" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb250-6"><a href="cap21.html#cb250-6" tabindex="-1"></a></span>
<span id="cb250-7"><a href="cap21.html#cb250-7" tabindex="-1"></a><span class="do">## Listar os arquivos no diret√≥rio</span></span>
<span id="cb250-8"><a href="cap21.html#cb250-8" tabindex="-1"></a><span class="fu">dir</span>()</span>
<span id="cb250-9"><a href="cap21.html#cb250-9" tabindex="-1"></a><span class="fu">list.files</span>()</span></code></pre></div>
</div>
<div id="importar-dados" class="section level3 hasAnchor" number="5.4.6">
<h3><span class="header-section-number">5.4.6</span> Importar dados<a href="cap21.html#importar-dados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uma das opera√ß√µes mais corriqueiras do R, antes de realizar alguma an√°lise ou plotar um gr√°fico, √© a de importar dados que foram tabulados numa planilha eletr√¥nica e salvos no formato .csv, .txt ou .xlsx. Ao importar esse tipo de dado para o R, o formato que o mesmo assume, se nenhum par√¢metro for especificado, √© o da classe <code>data frame</code>, prevendo que a planilha de dados possua colunas com diferentes modos.</p>
<p>Existem diversas formas de importar dados para o R. Podemos importar utilizando o RStudio, indo na janela <strong>Environment</strong> e clicar em ‚ÄúImportar Dataset‚Äù.</p>
<p>Entretanto, aconselhamos o uso de fun√ß√µes que fiquem salvas em um script para aumentar a reprodutibilidade do mesmo. Dessa forma, as tr√™s principais fun√ß√µes para importar os arquivos nos tr√™s principais extens√µes (.csv, .txt ou .xlsx) s√£o, respectivamente: <code>read.csv()</code>, <code>read.table()</code> e <code>openxlsx::read.xlsx()</code>, sendo o √∫ltimo do pacote <code>openxlsx</code>.</p>
<p>Para exemplificar como importar dados no R, vamos usar os dados de pinguins no Palmer Station, Antarctica <a href="https://github.com/allisonhorst/palmerpenguins/tree/main">Palmer Penguins</a>. Faremos o download diretamente do site da fonte dos dados.</p>
<p>Vamos antes escolher um diret√≥rio de trabalho com a fun√ß√£o <code>setwd()</code>, e em seguida criar um diret√≥rio com a fun√ß√£o <code>dir.create()</code> chamado ‚Äúdados‚Äù. Em seguida, vamos mudar nosso diret√≥rio para essa pasta e criar mais um diret√≥rio chamado ‚Äútabelas‚Äù, e por fim, definir esse diret√≥rio para que o conte√∫do do download seja armazenado ali.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="cap21.html#cb251-1" tabindex="-1"></a><span class="do">## Escolher um diret√≥rio</span></span>
<span id="cb251-2"><a href="cap21.html#cb251-2" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/home/mude/data/github/livro_aer&quot;</span>)</span>
<span id="cb251-3"><a href="cap21.html#cb251-3" tabindex="-1"></a></span>
<span id="cb251-4"><a href="cap21.html#cb251-4" tabindex="-1"></a><span class="do">## Criar um diret√≥rio &#39;dados&#39;</span></span>
<span id="cb251-5"><a href="cap21.html#cb251-5" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;dados&quot;</span>)</span>
<span id="cb251-6"><a href="cap21.html#cb251-6" tabindex="-1"></a></span>
<span id="cb251-7"><a href="cap21.html#cb251-7" tabindex="-1"></a><span class="do">## Escolher diret√≥rio &#39;dados&#39;</span></span>
<span id="cb251-8"><a href="cap21.html#cb251-8" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;dados&quot;</span>)</span>
<span id="cb251-9"><a href="cap21.html#cb251-9" tabindex="-1"></a></span>
<span id="cb251-10"><a href="cap21.html#cb251-10" tabindex="-1"></a><span class="do">## Criar um diret√≥rio &#39;tabelas&#39;</span></span>
<span id="cb251-11"><a href="cap21.html#cb251-11" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;tabelas&quot;</span>)</span>
<span id="cb251-12"><a href="cap21.html#cb251-12" tabindex="-1"></a></span>
<span id="cb251-13"><a href="cap21.html#cb251-13" tabindex="-1"></a><span class="do">## Escolher diret√≥rio &#39;tabelas&#39;</span></span>
<span id="cb251-14"><a href="cap21.html#cb251-14" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;tabelas&quot;</span>)</span></code></pre></div>
<p>Agora podemos fazer o download do arquivo <code>.zip</code> e extrair as tabelas usando a fun√ß√£o <code>unzip()</code> nesse mesmo diret√≥rio.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="cap21.html#cb252-1" tabindex="-1"></a><span class="do">## Download</span></span>
<span id="cb252-2"><a href="cap21.html#cb252-2" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> <span class="st">&quot;https://github.com/allisonhorst/palmerpenguins/blob/main/inst/extdata/penguins_raw.csv&quot;</span>,</span>
<span id="cb252-3"><a href="cap21.html#cb252-3" tabindex="-1"></a>              <span class="at">destfile =</span> <span class="st">&quot;penguins_raw.csv&quot;</span>, <span class="at">method =</span> <span class="st">&quot;curl&quot;</span>)</span></code></pre></div>
<p>Agora podemos importar a tabela de dados com a fun√ß√£o <code>read.csv()</code>, atribuindo ao objeto <code>penguins_raw</code>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="cap21.html#cb253-1" tabindex="-1"></a><span class="do">## Importar a tabela de locais</span></span>
<span id="cb253-2"><a href="cap21.html#cb253-2" tabindex="-1"></a>pinguins_raw <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;dados/tabelas/penguins_raw.csv&quot;</span>)</span></code></pre></div>
<p>Esse arquivo foi criado com separador de decimais sendo <code>.</code> e separador de colunas sendo <code>,</code>. Caso tivesse sido criado com separador de decimais sendo <code>,</code> e separador de colunas sendo <code>;</code>, usar√≠amos a fun√ß√£o <code>read.csv2()</code>.</p>
<p>Para outros formatos, basta usar as outras fun√ß√µes apresentadas, atentando-se para os argumentos espec√≠ficos de cada fun√ß√£o.</p>
<p>Caso o download n√£o funcione ou haja problemas com a importa√ß√£o, os dados estao tamb√©m no pacote <code>palmerpenguins</code>.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="cap21.html#cb254-1" tabindex="-1"></a><span class="do">## Importar os dados pelo pacote palmerpenguins</span></span>
<span id="cb254-2"><a href="cap21.html#cb254-2" tabindex="-1"></a>pinguins_raw <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins_raw</span>
<span id="cb254-3"><a href="cap21.html#cb254-3" tabindex="-1"></a><span class="fu">head</span>(pinguins_raw)</span></code></pre></div>
<pre><code>## # A tibble: 6 √ó 17
##   studyName `Sample Number` Species          Region Island Stage `Individual ID`
##   &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          
## 1 PAL0708                 1 Adelie Penguin ‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N1A1           
## 2 PAL0708                 2 Adelie Penguin ‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N1A2           
## 3 PAL0708                 3 Adelie Penguin ‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N2A1           
## 4 PAL0708                 4 Adelie Penguin ‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N2A2           
## 5 PAL0708                 5 Adelie Penguin ‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N3A1           
## 6 PAL0708                 6 Adelie Penguin ‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N3A2           
## # ‚Ñπ 10 more variables: `Clutch Completion` &lt;chr&gt;, `Date Egg` &lt;date&gt;,
## #   `Culmen Length (mm)` &lt;dbl&gt;, `Culmen Depth (mm)` &lt;dbl&gt;,
## #   `Flipper Length (mm)` &lt;dbl&gt;, `Body Mass (g)` &lt;dbl&gt;, Sex &lt;chr&gt;,
## #   `Delta 15 N (o/oo)` &lt;dbl&gt;, `Delta 13 C (o/oo)` &lt;dbl&gt;, Comments &lt;chr&gt;</code></pre>
</div>
<div id="confer√™ncia-dos-dados-importados" class="section level3 hasAnchor" number="5.4.7">
<h3><span class="header-section-number">5.4.7</span> Confer√™ncia dos dados importados<a href="cap21.html#confer√™ncia-dos-dados-importados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uma vez importados os dados para o R, geralmente antes de iniciarmos qualquer manipula√ß√£o, visualiza√ß√£o ou an√°lise de dados, fazemos a confer√™ncia desses dados. Dentre todas as fun√ß√µes de verifica√ß√£o, destacamos a import√¢ncia destas fun√ß√µes apresentadas abaixo para saber se as vari√°veis foram importadas e interpretadas corretamente e reconhecer erros de digita√ß√£o, por exemplo:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="cap21.html#cb256-1" tabindex="-1"></a>pinguins <span class="ot">&lt;-</span> palmerpenguins<span class="sc">::</span>penguins</span>
<span id="cb256-2"><a href="cap21.html#cb256-2" tabindex="-1"></a><span class="do">## Primeiras linhas</span></span>
<span id="cb256-3"><a href="cap21.html#cb256-3" tabindex="-1"></a><span class="fu">head</span>(pinguins)</span></code></pre></div>
<pre><code>## # A tibble: 6 √ó 8
##   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
## 1 Adelie  Torgersen           39.1          18.7               181        3750
## 2 Adelie  Torgersen           39.5          17.4               186        3800
## 3 Adelie  Torgersen           40.3          18                 195        3250
## 4 Adelie  Torgersen           NA            NA                  NA          NA
## 5 Adelie  Torgersen           36.7          19.3               193        3450
## 6 Adelie  Torgersen           39.3          20.6               190        3650
## # ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="cap21.html#cb258-1" tabindex="-1"></a><span class="do">## √öltimas linhas</span></span>
<span id="cb258-2"><a href="cap21.html#cb258-2" tabindex="-1"></a><span class="fu">tail</span>(pinguins)</span></code></pre></div>
<pre><code>## # A tibble: 6 √ó 8
##   species   island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g
##   &lt;fct&gt;     &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;
## 1 Chinstrap Dream            45.7          17                 195        3650
## 2 Chinstrap Dream            55.8          19.8               207        4000
## 3 Chinstrap Dream            43.5          18.1               202        3400
## 4 Chinstrap Dream            49.6          18.2               193        3775
## 5 Chinstrap Dream            50.8          19                 210        4100
## 6 Chinstrap Dream            50.2          18.7               198        3775
## # ‚Ñπ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="cap21.html#cb260-1" tabindex="-1"></a><span class="do">## N√∫mero de linhas e colunas</span></span>
<span id="cb260-2"><a href="cap21.html#cb260-2" tabindex="-1"></a><span class="fu">nrow</span>(pinguins)</span></code></pre></div>
<pre><code>## [1] 344</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="cap21.html#cb262-1" tabindex="-1"></a><span class="fu">ncol</span>(pinguins)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="cap21.html#cb264-1" tabindex="-1"></a><span class="fu">dim</span>(pinguins)</span></code></pre></div>
<pre><code>## [1] 344   8</code></pre>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="cap21.html#cb266-1" tabindex="-1"></a><span class="do">## Nome das linhas e colunas</span></span>
<span id="cb266-2"><a href="cap21.html#cb266-2" tabindex="-1"></a><span class="fu">rownames</span>(pinguins)</span>
<span id="cb266-3"><a href="cap21.html#cb266-3" tabindex="-1"></a><span class="fu">colnames</span>(pinguins)</span>
<span id="cb266-4"><a href="cap21.html#cb266-4" tabindex="-1"></a></span>
<span id="cb266-5"><a href="cap21.html#cb266-5" tabindex="-1"></a><span class="do">## Estrutura dos dados</span></span>
<span id="cb266-6"><a href="cap21.html#cb266-6" tabindex="-1"></a><span class="fu">str</span>(pinguins)</span>
<span id="cb266-7"><a href="cap21.html#cb266-7" tabindex="-1"></a></span>
<span id="cb266-8"><a href="cap21.html#cb266-8" tabindex="-1"></a><span class="do">## Resumo dos dados</span></span>
<span id="cb266-9"><a href="cap21.html#cb266-9" tabindex="-1"></a><span class="fu">summary</span>(pinguins)</span>
<span id="cb266-10"><a href="cap21.html#cb266-10" tabindex="-1"></a></span>
<span id="cb266-11"><a href="cap21.html#cb266-11" tabindex="-1"></a><span class="do">## Verificar NAs</span></span>
<span id="cb266-12"><a href="cap21.html#cb266-12" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(pinguins))</span>
<span id="cb266-13"><a href="cap21.html#cb266-13" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">is.na</span>(pinguins))</span>
<span id="cb266-14"><a href="cap21.html#cb266-14" tabindex="-1"></a></span>
<span id="cb266-15"><a href="cap21.html#cb266-15" tabindex="-1"></a><span class="do">## Remover as linhas com NAs</span></span>
<span id="cb266-16"><a href="cap21.html#cb266-16" tabindex="-1"></a>pinguins_na <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(pinguins)</span></code></pre></div>
<div class="alert alert-info">
<p><strong> üìù Importante </strong><br />
A fun√ß√£o <code>na.omit()</code> retira a <strong>linha inteira</strong> que possui algum <code>NA</code>, inclusive as colunas que possuem dados que voc√™ n√£o tem interesse em excluir. Dessa forma, tenha em mente quais dados voc√™ realmente quer remover da sua tabela.</p>
</div>
<p>Al√©m das fun√ß√µes apresentadas, recomendamos olhar os seguintes pacotes que ajudam na confer√™ncia dos dados importados: <a href="https://cran.r-project.org/web/packages/Hmisc/index.html"><code>Hmisc</code></a>, <a href="https://cran.r-project.org/web/packages/skimr.html"><code>skimr</code></a> e <a href="https://alastairrushworth.github.io/inspectdf"><code>inspectDF</code></a>.</p>
</div>
<div id="exportar-dados" class="section level3 hasAnchor" number="5.4.8">
<h3><span class="header-section-number">5.4.8</span> Exportar dados<a href="cap21.html#exportar-dados" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Uma vez realizado as opera√ß√µes de manipula√ß√£o ou tendo dados que foram analisados e armazenados num objeto no formato de data frame ou matriz, podemos exportar esses dados do R para o diret√≥rio que definimos anteriormente.</p>
<p>Para tanto, podemos utilizar fun√ß√µes de escrita de dados, como <code>write.csv()</code>, <code>write.table()</code> e <code>openxlsx::write.xlsx()</code>. Dois pontos s√£o fundamentais: i) o nome do arquivo tem de estar entre aspas e no final dele deve constar a extens√£o que pretendemos que o arquivo tenha, e ii) √© interessante utilizar os argumentos <strong>row.names = FALSE</strong> e <strong>quote=FALSE</strong>, para que o arquivo escrito n√£o tenha o nome das linhas ou aspas em todas as c√©lulas, respectivamente.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="cap21.html#cb267-1" tabindex="-1"></a><span class="do">## Exportar dados na extens√£o .csv</span></span>
<span id="cb267-2"><a href="cap21.html#cb267-2" tabindex="-1"></a><span class="fu">write.csv</span>(pinguins_na, <span class="st">&quot;pinguins_na.csv&quot;</span>, </span>
<span id="cb267-3"><a href="cap21.html#cb267-3" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">quote =</span> <span class="cn">FALSE</span>)</span>
<span id="cb267-4"><a href="cap21.html#cb267-4" tabindex="-1"></a></span>
<span id="cb267-5"><a href="cap21.html#cb267-5" tabindex="-1"></a><span class="do">## Exportar dados na extens√£o .txt</span></span>
<span id="cb267-6"><a href="cap21.html#cb267-6" tabindex="-1"></a><span class="fu">write.table</span>(pinguins_na, <span class="st">&quot;pinguins_na.txt&quot;</span>, </span>
<span id="cb267-7"><a href="cap21.html#cb267-7" tabindex="-1"></a>            <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">quote =</span> <span class="cn">FALSE</span>)</span>
<span id="cb267-8"><a href="cap21.html#cb267-8" tabindex="-1"></a></span>
<span id="cb267-9"><a href="cap21.html#cb267-9" tabindex="-1"></a><span class="do">## Exportar dados na extens√£o .xlsx</span></span>
<span id="cb267-10"><a href="cap21.html#cb267-10" tabindex="-1"></a>openxlsx<span class="sc">::</span><span class="fu">write.xlsx</span>(pinguins_na, <span class="st">&quot;pinguins_na.xlsx&quot;</span>, </span>
<span id="cb267-11"><a href="cap21.html#cb267-11" tabindex="-1"></a>                     <span class="at">row.names =</span> <span class="cn">FALSE</span>, <span class="at">quote =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
</div>
<div id="para-se-aprofundar" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Para se aprofundar<a href="cap21.html#para-se-aprofundar" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Listamos a seguir livros e links com material que recomendamos para seguir com sua aprendizagem em <em>R Base</em>.</p>
<div id="livros" class="section level3 hasAnchor" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Livros<a href="cap21.html#livros" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Recomendamos aos (√†s) interessados(as) os livros: i) Crawley The R Book, ii) Davies The Book of R: A First Course in Programming and Statistics, iii) Gillespie e Lovelace Efficient R programming, iv) Holmes e Huber Modern Statistics for Modern Biology, v) Irizarry e Love Data Analysis for the Life Sciences with R, vi) James e colaboradores An Introduction to Statistical Learning: with Applications in R, vii) Kabacoff R in Action: Data analysis and graphics with R, viii) Matloff The Art of R Programming: A Tour of Statistical Software Design, ix) Long e Teetor R Cookbook e x) Wickham Advanced R.</p>
</div>
<div id="links" class="section level3 hasAnchor" number="5.5.2">
<h3><span class="header-section-number">5.5.2</span> Links<a href="cap21.html#links" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Existem centenas de ferramentas online para aprender e explorar o R. Dentre elas, indicamos os seguintes links (em portugu√™s e ingl√™s):</p>
<p><strong>Introdu√ß√£o ao R</strong></p>
<ul>
<li><a href="https://intro2r.com/">An Introduction to R - Douglas A, Roos D, Mancini F, Couto A, Lusseau D</a></li>
<li><a href="https://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf">A (very) shortintroduction to R - Paul Torfs &amp; Claudia Brauer</a></li>
<li><a href="https://rbasicsworkshop.weebly.com/uploads/1/8/6/0/18603232/paradis_2005_r-forbeginners.pdf">R for Beginners - Emmanuel Paradis</a></li>
</ul>
<p><strong>Ci√™ncia de dados</strong>
- <a href="https://livro.curso-r.com/">Ci√™ncia de Dados em R - Curso-R</a>
- <a href="https://ourcodingclub.github.io/course">Data Science for Ecologists and Environmental Scientists - Coding Club</a></p>
<p><strong>Estat√≠stica</strong>
- <a href="http://cursos.leg.ufpr.br/ecr/index.html">Estat√≠stica Computacional com R - Mayer F. P., Bonat W. H., Zeviani W. M., Krainski E. T., Ribeiro Jr.¬†P. J</a>
- <a href="https://datacarpentry.org/R-ecology-lesson/index.html">Data Analysis and Visualization in R for Ecologists - Data Carpentry</a></p>
<p><strong>Miscel√¢nea</strong></p>
<ul>
<li><a href="https://materiais-estudo-r.netlify.app/">Materiais sobre R - Beatriz Milz</a></li>
<li><a href="https://paulvanderlaken.com/2017/08/10/r-resources-cheatsheets-tutorials-books">R resources (free courses, books, tutorials, &amp; cheat sheets) - Paul van der Laken</a></li>
</ul>
</div>
</div>
<div id="exerc√≠cios" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Exerc√≠cios<a href="cap21.html#exerc√≠cios" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>4.1</strong>
Use o R para verificar o resultado da opera√ß√£o <code>7 + 7 √∑ 7 + 7 x 7 - 7</code>.</p>
<p><strong>4.2</strong>
Verifique atrav√©s do R se <code>3x2¬≥</code> √© maior que <code>2x3¬≤</code>.</p>
<p><strong>4.3</strong>
Crie dois objetos (qualquer nome) com os valores 100 e 300. Multiplique esses objetos (fun√ß√£o <code>prod()</code>) e atribuam ao objeto <code>mult</code>. Fa√ßa o logaritmo natural (fun√ß√£o <code>log()</code>) do objeto <code>mult</code> e atribuam ao objeto <code>ln</code>.</p>
<p><strong>4.4</strong>
Quantos pacotes existem no CRAN nesse momento? Execute essa combina√ß√£o no Console: <code>nrow(available.packages(repos = "http://cran.r-project.org"))</code>.</p>
<p><strong>4.5</strong>
Instale o pacote <code>tidyverse</code> do CRAN.</p>
<p><strong>4.6</strong>
Escolha n√∫meros para jogar na mega-sena usando o R, nomeando o objeto como <code>mega</code>. Lembrando: s√£o 6 valores de 1 a 60 e atribuam a um objeto.</p>
<p><strong>4.7</strong>
Crie um fator chamado <code>tr</code>, com dois n√≠veis (‚Äúcont‚Äù e ‚Äútrat‚Äù) para descrever 300 locais de amostragem, 15 de cada tratamento. O fator deve ser dessa forma <code>cont, cont, cont, ...., cont, trat, trat, ...., trat</code>.</p>
<p><strong>4.8</strong>
Crie uma matriz chamada <code>ma</code>, resultante da disposi√ß√£o de um vetor composto por 130 valores aleat√≥rios entre 0 e 10. A matriz deve conter 100 linhas e ser disposta por colunas.</p>
<p><strong>4.9</strong>
Crie um data frame chamado <code>df</code>, resultante da composi√ß√£o desses vetores:</p>
<ul>
<li><code>id: 1:30</code></li>
<li><code>sp: sp01, sp02, ..., sp29, sp30</code></li>
<li><code>ab: 30 valores aleat√≥rios entre 0 a 5</code></li>
</ul>
<p><strong>4.10</strong>
Crie uma lista com os objetos criados anteriormente: <code>mega</code>, <code>tr</code>, <code>ma</code> e <code>df</code>.</p>
<p><strong>4.11</strong>
Selecione os elementos √≠mpares do objeto <code>tr</code> e atribua ao objeto <code>tr_impar</code>.</p>
<p><strong>4.12</strong>
Selecione as linhas com ids pares do objeto <code>df</code> e atribua ao objeto <code>df_ids_par</code>.</p>
<p><strong>4.13</strong>
Fa√ßa uma amostragem de 10 linhas do objeto <code>df</code> e atribua ao objeto <code>df_amos10</code>. Use a fun√ß√£o <code>set.seed()</code> para fixar a amostragem.</p>
<p><strong>4.14</strong>
Amostre 10 linhas do objeto <code>ma</code>, mas utilizando as linhas amostradas do <code>df_amos10</code> e atribua ao objeto <code>ma_amos10</code>.</p>
<p><strong>4.15</strong>
Una as colunas dos objetos <code>df_amos10</code> e <code>ma_amos10</code> e atribua ao objeto <code>dados_amos10</code>.</p>
<p><a href="https://exercicios-livro-aer.netlify.app/cap.-4---introdu%C3%A7%C3%A3o-ao-r.html">Solu√ß√µes dos exerc√≠cios</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cap20.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="codigo-no-livro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/darrennorris/epr/edit/main/21-introducao_r.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/darrennorris/epr/blob/main/21-introducao_r.Rmd",
"text": null
},
"download": ["epr.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
